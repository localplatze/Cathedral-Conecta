{"version":3,"file":"static/js/main.7ae09db4.js","mappings":"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","sources":["node_modules/moment/locale|sync|/^/.*$","src/firebaseConnection.js","src/AuthContext.js","src/screens/LoginScreen.js","src/screens/RegisterScreen.js","src/screens/RecoverScreen.js","src/screens/HomeScreen.js","src/screens/ChangePasswordModal.js","src/screens/ProfileScreen.js","src/screens/NewNoteModal.js","src/screens/NotasScreen.js","src/screens/NewTaskModal.js","src/screens/TarefasScreen.js","src/screens/NewFileModal.js","src/screens/ArquivosScreen.js","src/screens/NewEventModal.js","src/screens/AgendaScreen.js","src/navigation/AppNavigator.js","index.js","App.js","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["var map = {\n\t\"./af\": 34871,\n\t\"./af.js\": 34871,\n\t\"./ar\": 23939,\n\t\"./ar-dz\": 17990,\n\t\"./ar-dz.js\": 17990,\n\t\"./ar-kw\": 46646,\n\t\"./ar-kw.js\": 46646,\n\t\"./ar-ly\": 99755,\n\t\"./ar-ly.js\": 99755,\n\t\"./ar-ma\": 19234,\n\t\"./ar-ma.js\": 19234,\n\t\"./ar-ps\": 66777,\n\t\"./ar-ps.js\": 66777,\n\t\"./ar-sa\": 62184,\n\t\"./ar-sa.js\": 62184,\n\t\"./ar-tn\": 63962,\n\t\"./ar-tn.js\": 63962,\n\t\"./ar.js\": 23939,\n\t\"./az\": 41067,\n\t\"./az.js\": 41067,\n\t\"./be\": 89645,\n\t\"./be.js\": 89645,\n\t\"./bg\": 30155,\n\t\"./bg.js\": 30155,\n\t\"./bm\": 44229,\n\t\"./bm.js\": 44229,\n\t\"./bn\": 14492,\n\t\"./bn-bd\": 59647,\n\t\"./bn-bd.js\": 59647,\n\t\"./bn.js\": 14492,\n\t\"./bo\": 53603,\n\t\"./bo.js\": 53603,\n\t\"./br\": 62856,\n\t\"./br.js\": 62856,\n\t\"./bs\": 97471,\n\t\"./bs.js\": 97471,\n\t\"./ca\": 9608,\n\t\"./ca.js\": 9608,\n\t\"./cs\": 90946,\n\t\"./cs.js\": 90946,\n\t\"./cv\": 20045,\n\t\"./cv.js\": 20045,\n\t\"./cy\": 2416,\n\t\"./cy.js\": 2416,\n\t\"./da\": 6571,\n\t\"./da.js\": 6571,\n\t\"./de\": 60623,\n\t\"./de-at\": 77421,\n\t\"./de-at.js\": 77421,\n\t\"./de-ch\": 76883,\n\t\"./de-ch.js\": 76883,\n\t\"./de.js\": 60623,\n\t\"./dv\": 32402,\n\t\"./dv.js\": 32402,\n\t\"./el\": 20973,\n\t\"./el.js\": 20973,\n\t\"./en-au\": 6898,\n\t\"./en-au.js\": 6898,\n\t\"./en-ca\": 17824,\n\t\"./en-ca.js\": 17824,\n\t\"./en-gb\": 16285,\n\t\"./en-gb.js\": 16285,\n\t\"./en-ie\": 37706,\n\t\"./en-ie.js\": 37706,\n\t\"./en-il\": 24193,\n\t\"./en-il.js\": 24193,\n\t\"./en-in\": 28671,\n\t\"./en-in.js\": 28671,\n\t\"./en-nz\": 46532,\n\t\"./en-nz.js\": 46532,\n\t\"./en-sg\": 67046,\n\t\"./en-sg.js\": 67046,\n\t\"./eo\": 96388,\n\t\"./eo.js\": 96388,\n\t\"./es\": 90688,\n\t\"./es-do\": 42180,\n\t\"./es-do.js\": 42180,\n\t\"./es-mx\": 37012,\n\t\"./es-mx.js\": 37012,\n\t\"./es-us\": 84333,\n\t\"./es-us.js\": 84333,\n\t\"./es.js\": 90688,\n\t\"./et\": 30837,\n\t\"./et.js\": 30837,\n\t\"./eu\": 21878,\n\t\"./eu.js\": 21878,\n\t\"./fa\": 61237,\n\t\"./fa.js\": 61237,\n\t\"./fi\": 20637,\n\t\"./fi.js\": 20637,\n\t\"./fil\": 86677,\n\t\"./fil.js\": 86677,\n\t\"./fo\": 16671,\n\t\"./fo.js\": 16671,\n\t\"./fr\": 10396,\n\t\"./fr-ca\": 23821,\n\t\"./fr-ca.js\": 23821,\n\t\"./fr-ch\": 10662,\n\t\"./fr-ch.js\": 10662,\n\t\"./fr.js\": 10396,\n\t\"./fy\": 51373,\n\t\"./fy.js\": 51373,\n\t\"./ga\": 85084,\n\t\"./ga.js\": 85084,\n\t\"./gd\": 90055,\n\t\"./gd.js\": 90055,\n\t\"./gl\": 54255,\n\t\"./gl.js\": 54255,\n\t\"./gom-deva\": 10410,\n\t\"./gom-deva.js\": 10410,\n\t\"./gom-latn\": 41717,\n\t\"./gom-latn.js\": 41717,\n\t\"./gu\": 18528,\n\t\"./gu.js\": 18528,\n\t\"./he\": 35643,\n\t\"./he.js\": 35643,\n\t\"./hi\": 47703,\n\t\"./hi.js\": 47703,\n\t\"./hr\": 10466,\n\t\"./hr.js\": 10466,\n\t\"./hu\": 53899,\n\t\"./hu.js\": 53899,\n\t\"./hy-am\": 3902,\n\t\"./hy-am.js\": 3902,\n\t\"./id\": 24913,\n\t\"./id.js\": 24913,\n\t\"./is\": 66836,\n\t\"./is.js\": 66836,\n\t\"./it\": 94433,\n\t\"./it-ch\": 52829,\n\t\"./it-ch.js\": 52829,\n\t\"./it.js\": 94433,\n\t\"./ja\": 64873,\n\t\"./ja.js\": 64873,\n\t\"./jv\": 20364,\n\t\"./jv.js\": 20364,\n\t\"./ka\": 14432,\n\t\"./ka.js\": 14432,\n\t\"./kk\": 45234,\n\t\"./kk.js\": 45234,\n\t\"./km\": 51092,\n\t\"./km.js\": 51092,\n\t\"./kn\": 65565,\n\t\"./kn.js\": 65565,\n\t\"./ko\": 39294,\n\t\"./ko.js\": 39294,\n\t\"./ku\": 20636,\n\t\"./ku-kmr\": 75323,\n\t\"./ku-kmr.js\": 75323,\n\t\"./ku.js\": 20636,\n\t\"./ky\": 29528,\n\t\"./ky.js\": 29528,\n\t\"./lb\": 20646,\n\t\"./lb.js\": 20646,\n\t\"./lo\": 32945,\n\t\"./lo.js\": 32945,\n\t\"./lt\": 3520,\n\t\"./lt.js\": 3520,\n\t\"./lv\": 8138,\n\t\"./lv.js\": 8138,\n\t\"./me\": 23550,\n\t\"./me.js\": 23550,\n\t\"./mi\": 54890,\n\t\"./mi.js\": 54890,\n\t\"./mk\": 50272,\n\t\"./mk.js\": 50272,\n\t\"./ml\": 74069,\n\t\"./ml.js\": 74069,\n\t\"./mn\": 58579,\n\t\"./mn.js\": 58579,\n\t\"./mr\": 57711,\n\t\"./mr.js\": 57711,\n\t\"./ms\": 23352,\n\t\"./ms-my\": 86323,\n\t\"./ms-my.js\": 86323,\n\t\"./ms.js\": 23352,\n\t\"./mt\": 64205,\n\t\"./mt.js\": 64205,\n\t\"./my\": 24474,\n\t\"./my.js\": 24474,\n\t\"./nb\": 14308,\n\t\"./nb.js\": 14308,\n\t\"./ne\": 94961,\n\t\"./ne.js\": 94961,\n\t\"./nl\": 99162,\n\t\"./nl-be\": 65310,\n\t\"./nl-be.js\": 65310,\n\t\"./nl.js\": 99162,\n\t\"./nn\": 61840,\n\t\"./nn.js\": 61840,\n\t\"./oc-lnc\": 78652,\n\t\"./oc-lnc.js\": 78652,\n\t\"./pa-in\": 20627,\n\t\"./pa-in.js\": 20627,\n\t\"./pl\": 46516,\n\t\"./pl.js\": 46516,\n\t\"./pt\": 99708,\n\t\"./pt-br\": 80621,\n\t\"./pt-br.js\": 80621,\n\t\"./pt.js\": 99708,\n\t\"./ro\": 54003,\n\t\"./ro.js\": 54003,\n\t\"./ru\": 59629,\n\t\"./ru.js\": 59629,\n\t\"./sd\": 15403,\n\t\"./sd.js\": 15403,\n\t\"./se\": 9732,\n\t\"./se.js\": 9732,\n\t\"./si\": 40912,\n\t\"./si.js\": 40912,\n\t\"./sk\": 94586,\n\t\"./sk.js\": 94586,\n\t\"./sl\": 98275,\n\t\"./sl.js\": 98275,\n\t\"./sq\": 65000,\n\t\"./sq.js\": 65000,\n\t\"./sr\": 95137,\n\t\"./sr-cyrl\": 3424,\n\t\"./sr-cyrl.js\": 3424,\n\t\"./sr.js\": 95137,\n\t\"./ss\": 41234,\n\t\"./ss.js\": 41234,\n\t\"./sv\": 61565,\n\t\"./sv.js\": 61565,\n\t\"./sw\": 11998,\n\t\"./sw.js\": 11998,\n\t\"./ta\": 27547,\n\t\"./ta.js\": 27547,\n\t\"./te\": 46367,\n\t\"./te.js\": 46367,\n\t\"./tet\": 94595,\n\t\"./tet.js\": 94595,\n\t\"./tg\": 41889,\n\t\"./tg.js\": 41889,\n\t\"./th\": 50988,\n\t\"./th.js\": 50988,\n\t\"./tk\": 57685,\n\t\"./tk.js\": 57685,\n\t\"./tl-ph\": 87149,\n\t\"./tl-ph.js\": 87149,\n\t\"./tlh\": 1658,\n\t\"./tlh.js\": 1658,\n\t\"./tr\": 12526,\n\t\"./tr.js\": 12526,\n\t\"./tzl\": 57504,\n\t\"./tzl.js\": 57504,\n\t\"./tzm\": 47223,\n\t\"./tzm-latn\": 88129,\n\t\"./tzm-latn.js\": 88129,\n\t\"./tzm.js\": 47223,\n\t\"./ug-cn\": 45888,\n\t\"./ug-cn.js\": 45888,\n\t\"./uk\": 83944,\n\t\"./uk.js\": 83944,\n\t\"./ur\": 903,\n\t\"./ur.js\": 903,\n\t\"./uz\": 87887,\n\t\"./uz-latn\": 38617,\n\t\"./uz-latn.js\": 38617,\n\t\"./uz.js\": 87887,\n\t\"./vi\": 23117,\n\t\"./vi.js\": 23117,\n\t\"./x-pseudo\": 83869,\n\t\"./x-pseudo.js\": 83869,\n\t\"./yo\": 42176,\n\t\"./yo.js\": 42176,\n\t\"./zh-cn\": 82346,\n\t\"./zh-cn.js\": 82346,\n\t\"./zh-hk\": 19590,\n\t\"./zh-hk.js\": 19590,\n\t\"./zh-mo\": 79451,\n\t\"./zh-mo.js\": 79451,\n\t\"./zh-tw\": 39822,\n\t\"./zh-tw.js\": 39822\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 35358;","import { initializeApp } from \"firebase/app\";\nimport { initializeAuth, getReactNativePersistence } from 'firebase/auth';\nimport { getDatabase, ref, set, serverTimestamp } from 'firebase/database';\nimport {getStorage} from 'firebase/storage';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBd0eQg2SORLk0YyTbqCgWvnkBv8WycsA4\",\n  authDomain: \"cathedralconecta.firebaseapp.com\",\n  databaseURL: \"https://cathedralconecta-default-rtdb.firebaseio.com\",\n  projectId: \"cathedralconecta\",\n  storageBucket: \"cathedralconecta.firebasestorage.app\",\n  messagingSenderId: \"607866866368\",\n  appId: \"1:607866866368:web:09c800f276ae8a6b7e7b25\",\n  measurementId: \"G-2TGNQWCQY5\"\n};\n\nconst FIREBASE_APP = initializeApp(firebaseConfig);\nconst FIREBASE_AUTH = initializeAuth(FIREBASE_APP, {persistence: getReactNativePersistence(AsyncStorage)});\nconst FIREBASE_DB = getDatabase(FIREBASE_APP);\nconst FIREBASE_STORAGE = getStorage(FIREBASE_APP);\n\nexport { FIREBASE_AUTH, FIREBASE_DB, FIREBASE_STORAGE };","import React, { createContext, useState, useEffect, useContext } from 'react';\r\nimport { onAuthStateChanged, signOut as firebaseSignOut } from 'firebase/auth';\r\nimport { ref, get } from 'firebase/database';\r\nimport { FIREBASE_AUTH, FIREBASE_DB } from './firebaseConnection';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null); \r\n  const [userData, setUserData] = useState(null);\r\n  const [isLoadingAuth, setIsLoadingAuth] = useState(true); \r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(FIREBASE_AUTH, async (firebaseUser) => {\r\n      setIsLoadingAuth(true);\r\n      if (firebaseUser) {\r\n        setUser(firebaseUser);\r\n        await fetchAndSetUserData(firebaseUser.uid, firebaseUser.email);\r\n      } else {\r\n        setUser(null);\r\n        setUserData(null);\r\n        await AsyncStorage.removeItem('appUserData');\r\n      }\r\n      setIsLoadingAuth(false);\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const fetchAndSetUserData = async (uid, email) => {\r\n    try {\r\n      const userDbRef = ref(FIREBASE_DB, `users/${uid}`);\r\n      const snapshot = await get(userDbRef);\r\n      if (snapshot.exists()) {\r\n        const dbData = snapshot.val();\r\n        const fullUserData = { uid, email, ...dbData };\r\n        setUserData(fullUserData);\r\n        await AsyncStorage.setItem('appUserData', JSON.stringify(fullUserData));\r\n      } else {\r\n        console.warn(\"Dados do usurio no encontrados no Realtime Database para UID:\", uid);\r\n        const minimalUserData = { uid, email, name: FIREBASE_AUTH.currentUser?.displayName || 'Usurio', role: 'unknown', isAdmin: false };\r\n        setUserData(minimalUserData);\r\n        await AsyncStorage.setItem('appUserData', JSON.stringify(minimalUserData));\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Erro ao buscar/salvar dados do usurio:\", e);\r\n      setUserData(null);\r\n      await AsyncStorage.removeItem('appUserData');\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    setIsLoadingAuth(true);\r\n    try {\r\n      await firebaseSignOut(FIREBASE_AUTH);\r\n    } catch (error) {\r\n      console.error(\"Erro ao fazer logout:\", error);\r\n      Alert.alert(\"Erro\", \"No foi possvel fazer logout.\");\r\n    } finally {\r\n      \r\n    }\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, userData, isLoadingAuth, logout, fetchAndSetUserData }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);","import React, { useState, useEffect } from 'react';\nimport {\n  View, Text, TextInput, TouchableOpacity, StyleSheet, Image, ScrollView,\n  SafeAreaView, Alert, ActivityIndicator, StatusBar, KeyboardAvoidingView, Platform\n} from 'react-native';\nimport { MaterialIcons, Ionicons } from '@expo/vector-icons';\nimport { signInWithEmailAndPassword } from 'firebase/auth';\nimport { FIREBASE_AUTH, FIREBASE_DB } from '../firebaseConnection';\nimport { useAuth } from '../AuthContext';\n\nexport const LoginScreen = ({ navigation }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoggingIn, setIsLoggingIn] = useState(false); \n  const { fetchAndSetUserData } = useAuth();\n\n  const handleLogin = async () => {\n    if (!email.trim() || !password) {\n      Alert.alert('Campos Obrigatrios', 'Por favor, preencha o email e a senha.');\n      return;\n    }\n\n    setIsLoggingIn(true);\n    try {\n      const userCredential = await signInWithEmailAndPassword(FIREBASE_AUTH, email.trim(), password);\n      const user = userCredential.user;\n    } catch (error) {\n      console.error(\"Erro no login:\", error.code, error.message);\n      let errorMessage = 'Email ou senha invlidos. Por favor, tente novamente.';\n      if (error.code === 'auth/user-not-found' || error.code === 'auth/wrong-password' || error.code === 'auth/invalid-credential') {\n        errorMessage = 'Credenciais invlidas. Verifique seu email e senha.';\n      } else if (error.code === 'auth/invalid-email') {\n        errorMessage = 'O formato do email  invlido.';\n      } else if (error.code === 'auth/too-many-requests') {\n        errorMessage = 'Muitas tentativas de login. Tente novamente mais tarde.';\n      } else if (error.code === 'auth/network-request-failed') {\n        errorMessage = 'Erro de rede. Verifique sua conexo e tente novamente.';\n      }\n      Alert.alert('Erro no Login', errorMessage);\n    } finally {\n      setIsLoggingIn(false);\n    }\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <StatusBar backgroundColor=\"#1D854C\" barStyle=\"light-content\" />\n      <KeyboardAvoidingView \n        behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n        style={{ flex: 1 }}\n      >\n        <ScrollView contentContainerStyle={{flexGrow: 1}}>\n            <View style={styles.header}>\n                <Text style={styles.headerTitle}>Cathedral Conecta</Text>\n            </View>\n            \n            <View style={styles.content}>\n                <Image\n                style={styles.logo}\n                source={require('../assets/vert_logo.png')}\n                resizeMode=\"contain\"\n                />\n\n                <View style={styles.formContainer}>\n                <View style={styles.inputWrapper}>\n                    <MaterialIcons name=\"person-outline\" size={22} color=\"#4A5568\" style={styles.inputIcon} />\n                    <TextInput\n                    style={styles.input}\n                    placeholder=\"Seu e-mail\"\n                    placeholderTextColor=\"#A0AEC0\"\n                    value={email}\n                    onChangeText={setEmail}\n                    keyboardType=\"email-address\"\n                    autoCapitalize=\"none\"\n                    />\n                </View>\n                \n                <View style={styles.inputWrapper}>\n                    <MaterialIcons name=\"lock-outline\" size={22} color=\"#4A5568\" style={styles.inputIcon} />\n                    <TextInput\n                    style={styles.input}\n                    placeholder=\"Sua senha\"\n                    placeholderTextColor=\"#A0AEC0\"\n                    value={password}\n                    onChangeText={setPassword}\n                    secureTextEntry={!showPassword}\n                    />\n                    <TouchableOpacity\n                    style={styles.eyeIcon}\n                    onPress={() => setShowPassword(!showPassword)}\n                    >\n                    <Ionicons\n                        name={showPassword ? 'eye-outline' : 'eye-off-outline'}\n                        size={24}\n                        color=\"#6B7280\"\n                    />\n                    </TouchableOpacity>\n                </View>\n\n                <TouchableOpacity\n                    onPress={() => navigation.navigate('Recover')}\n                    style={styles.forgotPassword}\n                >\n                    <Text style={styles.forgotPasswordText}>Esqueci minha senha</Text>\n                </TouchableOpacity>\n\n                <TouchableOpacity\n                    style={[styles.loginButton, isLoggingIn && styles.buttonDisabled]}\n                    onPress={handleLogin}\n                    activeOpacity={0.8}\n                    disabled={isLoggingIn}\n                >\n                    {isLoggingIn ? (\n                        <ActivityIndicator color=\"#FFFFFF\" size=\"small\" />\n                    ) : (\n                        <Text style={styles.loginButtonText}>ENTRAR</Text>\n                    )}\n                </TouchableOpacity>\n\n                <View style={styles.divider}>\n                    <View style={styles.dividerLine} />\n                    <Text style={styles.dividerText}>OU</Text>\n                    <View style={styles.dividerLine} />\n                </View>\n\n                <TouchableOpacity\n                    style={styles.registerButton}\n                    onPress={() => navigation.navigate('Register')}\n                    activeOpacity={0.8}\n                    disabled={isLoggingIn}\n                >\n                    <Text style={styles.registerButtonText}>CRIAR CONTA</Text>\n                </TouchableOpacity>\n                </View>\n            </View>\n        </ScrollView>\n      </KeyboardAvoidingView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F9FAFB',\n  },\n  header: {\n    height: 60,\n    backgroundColor: '#1D854C',\n    justifyContent: 'center',\n    alignItems: 'center',\n    elevation: 4,\n  },\n  headerTitle: {\n    fontSize: 20,\n    color: '#FFFFFF',\n    fontWeight: '600',\n  },\n  content: {\n    flex: 1,\n    paddingHorizontal: 24,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  logo: {\n    width: 160,\n    height: 160,\n    marginBottom: 30,\n  },\n  formContainer: {\n    width: '100%',\n    maxWidth: 400,\n  },\n  inputWrapper: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#FFFFFF', \n    borderRadius: 10, \n    marginBottom: 18,\n    borderWidth: 1,\n    borderColor: '#E2E8F0', \n    height: 54, \n    paddingHorizontal: 5,\n  },\n  inputIcon: {\n    paddingHorizontal: 12,\n  },\n  input: {\n    flex: 1,\n    height: '100%',\n    color: '#1A202C',\n    fontSize: 16,\n    paddingRight: 10,\n  },\n  eyeIcon: {\n    paddingHorizontal: 12,\n  },\n  forgotPassword: {\n    alignSelf: 'flex-end',\n    marginBottom: 25,\n    paddingVertical: 5,\n  },\n  forgotPasswordText: {\n    color: '#1D854C',\n    fontSize: 14,\n    fontWeight: '500',\n  },\n  loginButton: {\n    backgroundColor: '#1D854C',\n    borderRadius: 10,\n    height: 52,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 22,\n    elevation: 2,\n    shadowColor: '#052e16',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 3,\n  },\n  buttonDisabled: {\n    backgroundColor: '#A5D6A7',\n  },\n  loginButtonText: {\n    color: '#FFFFFF',\n    fontSize: 16,\n    fontWeight: '600',\n    letterSpacing: 0.5,\n  },\n  divider: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginVertical: 20,\n  },\n  dividerLine: {\n    flex: 1,\n    height: 1,\n    backgroundColor: '#E2E8F0',\n  },\n  dividerText: {\n    paddingHorizontal: 12,\n    color: '#6B7280',\n    fontSize: 14,\n    fontWeight: '500',\n  },\n  registerButton: {\n    backgroundColor: '#FFFFFF',\n    borderRadius: 10,\n    height: 52,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 20,\n    borderWidth: 1.5,\n    borderColor: '#1D854C',\n  },\n  registerButtonText: {\n    color: '#1D854C',\n    fontSize: 16,\n    fontWeight: '600',\n    letterSpacing: 0.5,\n  },\n});","import React, { useState } from 'react';\nimport {\n  View, Text, TextInput, TouchableOpacity, StyleSheet, Image,\n  ScrollView, SafeAreaView, StatusBar, ActivityIndicator, Alert, Platform, KeyboardAvoidingView\n} from 'react-native';\nimport { MaterialIcons, Ionicons } from '@expo/vector-icons';\nimport { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth';\nimport { FIREBASE_AUTH, FIREBASE_DB } from '../firebaseConnection';\nimport { ref, set, serverTimestamp } from 'firebase/database';\nimport { Picker } from '@react-native-picker/picker';\n\nconst USER_ROLES = [\n    { label: 'Selecione seu tipo de conta...', value: '' },\n    { label: 'Sou Aluno(a)', value: 'aluno' },\n    { label: 'Sou Professor(a)', value: 'professor' },\n    { label: 'Sou Psicopedagogo(a)', value: 'psicopedagogo' },\n];\n\nexport const RegisterScreen = ({ navigation }) => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [role, setRole] = useState(USER_ROLES[0].value);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [isRegistering, setIsRegistering] = useState(false);\n\n  const handleRegister = async () => {\n    if (!name.trim() || !email.trim() || !phone.trim() || !password || !confirmPassword || !role) {\n      Alert.alert('Campos Obrigatrios', 'Por favor, preencha todos os campos, incluindo o tipo de conta.');\n      return;\n    }\n    if (password !== confirmPassword) {\n      Alert.alert('Erro de Senha', 'As senhas no coincidem.');\n      return;\n    }\n    if (password.length < 6) {\n        Alert.alert('Senha Fraca', 'A senha deve ter pelo menos 6 caracteres.');\n        return;\n    }\n\n\n    setIsRegistering(true);\n    try {\n      const userCredential = await createUserWithEmailAndPassword(\n        FIREBASE_AUTH,\n        email.trim(),\n        password\n      );\n      const user = userCredential.user;\n\n      await updateProfile(user, { displayName: name.trim() });\n\n      const userDbRef = ref(FIREBASE_DB, `users/${user.uid}`);\n      await set(userDbRef, {\n        uid: user.uid,\n        name: name.trim(),\n        email: email.trim().toLowerCase(),\n        phone: phone.trim(),\n        role: role,\n        isAdmin: false,\n        createdAt: serverTimestamp(),\n        profileImageUrl: null,\n      });\n\n    } catch (error) {\n      console.error(\"Erro no registro:\", error.code, error.message);\n      let errorMessage = 'No foi possvel criar a conta. Tente novamente.';\n      if (error.code === 'auth/email-already-in-use') {\n        errorMessage = 'Este endereo de e-mail j est em uso por outra conta.';\n      } else if (error.code === 'auth/invalid-email') {\n        errorMessage = 'O formato do email  invlido.';\n      } else if (error.code === 'auth/weak-password') {\n        errorMessage = 'A senha  muito fraca. Use pelo menos 6 caracteres.';\n      }\n       else if (error.code === 'auth/network-request-failed') {\n        errorMessage = 'Erro de rede. Verifique sua conexo e tente novamente.';\n      }\n      Alert.alert('Erro no Cadastro', errorMessage);\n    } finally {\n      setIsRegistering(false);\n    }\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <StatusBar backgroundColor=\"#1D854C\" barStyle=\"light-content\" />\n      <KeyboardAvoidingView \n        behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n        style={{ flex: 1 }}\n      >\n        <View style={styles.header}>\n            <TouchableOpacity\n            style={styles.backButton}\n            onPress={() => navigation.goBack()}\n            >\n            <Ionicons name=\"arrow-back-outline\" size={26} color=\"#FFFFFF\" />\n            </TouchableOpacity>\n            <Text style={styles.headerTitle}>Criar Nova Conta</Text>\n            <View style={styles.rightSpace} /> \n        </View>\n        \n        <ScrollView showsVerticalScrollIndicator={false} contentContainerStyle={styles.scrollContent}>\n            <View style={styles.contentInner}>\n            \n            <Text style={styles.formSectionTitle}>Informaes Pessoais</Text>\n\n            <View style={styles.inputWrapper}>\n                <MaterialIcons name=\"person-outline\" size={22} color=\"#4A5568\" style={styles.inputIcon} />\n                <TextInput\n                style={styles.input}\n                placeholder=\"Nome completo\"\n                placeholderTextColor=\"#A0AEC0\"\n                value={name}\n                onChangeText={setName}\n                />\n            </View>\n\n            <View style={styles.inputWrapper}>\n                <MaterialIcons name=\"alternate-email\" size={22} color=\"#4A5568\" style={styles.inputIcon} />\n                <TextInput\n                style={styles.input}\n                placeholder=\"Seu melhor e-mail\"\n                placeholderTextColor=\"#A0AEC0\"\n                value={email}\n                onChangeText={setEmail}\n                keyboardType=\"email-address\"\n                autoCapitalize=\"none\"\n                />\n            </View>\n\n            <View style={styles.inputWrapper}>\n                <MaterialIcons name=\"phone-iphone\" size={22} color=\"#4A5568\" style={styles.inputIcon} />\n                <TextInput\n                style={styles.input}\n                placeholder=\"Nmero de telefone (com DDD)\"\n                placeholderTextColor=\"#A0AEC0\"\n                value={phone}\n                onChangeText={setPhone}\n                keyboardType=\"phone-pad\"\n                />\n            </View>\n\n            <View style={styles.inputField}>\n                <Text style={styles.inputLabel}>Tipo de Conta *</Text>\n                <View style={styles.pickerWrapper}>\n                    <Picker\n                        selectedValue={role}\n                        onValueChange={(itemValue, itemIndex) => setRole(itemValue)}\n                        style={styles.picker}\n                        dropdownIconColor=\"#1D854C\" \n                        mode=\"dropdown\"\n                    >\n                        {USER_ROLES.map((r) => (\n                            <Picker.Item key={r.value} label={r.label} value={r.value} enabled={r.value !== ''} style={r.value === '' ? styles.pickerPlaceholderItem : {}}/>\n                        ))}\n                    </Picker>\n                </View>\n            </View>\n\n\n            <Text style={[styles.formSectionTitle, {marginTop: 10}]}>Segurana da Conta</Text>\n\n            <View style={styles.inputWrapper}>\n                <MaterialIcons name=\"lock-outline\" size={22} color=\"#4A5568\" style={styles.inputIcon} />\n                <TextInput\n                style={styles.input}\n                placeholder=\"Crie uma senha forte\"\n                placeholderTextColor=\"#A0AEC0\"\n                value={password}\n                onChangeText={setPassword}\n                secureTextEntry={!showPassword}\n                />\n                 <TouchableOpacity style={styles.eyeIcon} onPress={() => setShowPassword(!showPassword)}>\n                    <Ionicons name={showPassword ? 'eye-outline' : 'eye-off-outline'} size={24} color=\"#6B7280\" />\n                </TouchableOpacity>\n            </View>\n\n            <View style={styles.inputWrapper}>\n                <MaterialIcons name=\"lock-outline\" size={22} color=\"#4A5568\" style={styles.inputIcon} />\n                <TextInput\n                style={styles.input}\n                placeholder=\"Confirme sua senha\"\n                placeholderTextColor=\"#A0AEC0\"\n                value={confirmPassword}\n                onChangeText={setConfirmPassword}\n                secureTextEntry={!showConfirmPassword}\n                />\n                <TouchableOpacity style={styles.eyeIcon} onPress={() => setShowConfirmPassword(!showConfirmPassword)}>\n                    <Ionicons name={showConfirmPassword ? 'eye-outline' : 'eye-off-outline'} size={24} color=\"#6B7280\" />\n                </TouchableOpacity>\n            </View>\n\n            <TouchableOpacity\n                style={[styles.actionButton, isRegistering && styles.buttonDisabled]}\n                onPress={handleRegister}\n                activeOpacity={0.8}\n                disabled={isRegistering}\n            >\n                {isRegistering ? (\n                    <ActivityIndicator color=\"#FFFFFF\" size=\"small\" />\n                ) : (\n                    <Text style={styles.actionButtonText}>CRIAR MINHA CONTA</Text>\n                )}\n            </TouchableOpacity>\n\n            <TouchableOpacity\n                onPress={() => navigation.navigate('Login')}\n                style={styles.loginLink}\n                disabled={isRegistering}\n            >\n                <Text style={styles.loginLinkText}>\n                J possui uma conta? <Text style={styles.loginLinkTextBold}>Faa login</Text>\n                </Text>\n            </TouchableOpacity>\n            </View>\n        </ScrollView>\n      </KeyboardAvoidingView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F9FAFB',\n  },\n  header: {\n    height: 60,\n    backgroundColor: '#1D854C',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    elevation: 4,\n  },\n  backButton: { padding: 8 },\n  rightSpace: { width: 40 },\n  headerTitle: { fontSize: 20, color: '#FFFFFF', fontWeight: '600' },\n  scrollContent: { flexGrow: 1, justifyContent: 'center' },\n  contentInner: {\n    paddingHorizontal: 24,\n    paddingVertical: 20,\n  },\n  formSectionTitle: {\n    alignSelf: 'flex-start',\n    fontSize: 18,\n    fontWeight: '600',\n    color: '#1F2937',\n    marginBottom: 20,\n    marginTop: 10,\n  },\n  inputField: {\n    marginBottom: 18,\n  },\n  inputLabel: {\n    fontSize: 15,\n    color: '#4A5568',\n    marginBottom: 8,\n    fontWeight: '500',\n  },\n  inputWrapper: {\n    flexDirection: 'row', alignItems: 'center', backgroundColor: '#FFFFFF',\n    borderRadius: 10, marginBottom: 18, borderWidth: 1,\n    borderColor: '#E2E8F0', height: 54, paddingHorizontal: 5, width: '100%',\n  },\n  inputIcon: { paddingHorizontal: 12 },\n  input: { flex: 1, height: '100%', color: '#1A202C', fontSize: 16, paddingRight: 10 },\n  eyeIcon: { paddingHorizontal: 12 },\n  \n  pickerWrapper: {\n    backgroundColor: '#FFFFFF',\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#E2E8F0',\n    height: 54, \n    justifyContent: 'center',\n    width: '100%',\n  },\n  picker: {\n    height: '100%', \n    width: '100%',\n    color: '#1A202C', \n  },\n  pickerPlaceholderItem: { \n    color: '#A0AEC0',\n    // fontSize: 16,\n  },\n\n  actionButton: {\n    backgroundColor: '#1D854C', borderRadius: 10, height: 52,\n    justifyContent: 'center', alignItems: 'center', marginTop: 25,\n    elevation: 2, shadowColor: '#052e16', shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2, shadowRadius: 3, width: '100%',\n  },\n  buttonDisabled: { backgroundColor: '#A5D6A7' },\n  actionButtonText: { color: '#FFFFFF', fontSize: 16, fontWeight: '600', letterSpacing: 0.5 },\n  \n  loginLink: { marginTop: 20, marginBottom: 24, alignSelf: 'center' },\n  loginLinkText: { color: '#6B7280', fontSize: 14, fontWeight: '500' },\n  loginLinkTextBold: { color: '#1D854C', fontWeight: 'bold' },\n});","import React, { useState } from 'react';\nimport {\n  View, Text, TextInput, TouchableOpacity, StyleSheet, Image, ScrollView,\n  SafeAreaView, StatusBar, ActivityIndicator, Alert, KeyboardAvoidingView, Platform\n} from 'react-native';\nimport { MaterialIcons, Ionicons } from '@expo/vector-icons';\nimport { sendPasswordResetEmail } from 'firebase/auth';\nimport { FIREBASE_AUTH } from '../firebaseConnection';\n\nexport const RecoverScreen = ({ navigation }) => {\n  const [email, setEmail] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleRecover = async () => {\n    if (!email.trim()) {\n      Alert.alert('Campo Obrigatrio', 'Por favor, informe seu endereo de e-mail.');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      await sendPasswordResetEmail(FIREBASE_AUTH, email.trim());\n      Alert.alert(\n        'Verifique seu E-mail',\n        `Enviamos instrues para ${email.trim()} para voc redefinir sua senha.`,\n        [{ text: 'OK', onPress: () => navigation.navigate('Login') }]\n      );\n    } catch (error) {\n      console.error(\"Erro ao recuperar senha:\", error.code, error.message);\n      let errorMessage = 'No foi possvel enviar o e-mail de recuperao. Tente novamente.';\n      if (error.code === 'auth/user-not-found') {\n        errorMessage = 'Nenhuma conta encontrada com este endereo de e-mail.';\n      } else if (error.code === 'auth/invalid-email') {\n        errorMessage = 'O formato do email  invlido.';\n      } else if (error.code === 'auth/network-request-failed') {\n        errorMessage = 'Erro de rede. Verifique sua conexo e tente novamente.';\n      }\n      Alert.alert('Erro', errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <StatusBar backgroundColor=\"#1D854C\" barStyle=\"light-content\" />\n       <KeyboardAvoidingView \n        behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n        style={{ flex: 1 }}\n      >\n        <View style={styles.header}>\n            <TouchableOpacity\n            style={styles.backButton}\n            onPress={() => navigation.goBack()}\n            >\n            <Ionicons name=\"arrow-back-outline\" size={26} color=\"#FFFFFF\" />\n            </TouchableOpacity>\n            <Text style={styles.headerTitle}>Recuperar Senha</Text>\n            <View style={styles.rightSpace} />\n        </View>\n\n        <ScrollView contentContainerStyle={{flexGrow: 1}}>\n            <View style={styles.contentInner}>\n\n            <Ionicons name=\"lock-open-outline\" size={80} color=\"#1D854C\" style={{alignSelf: 'center', marginBottom: 25}}/>\n\n            <Text style={styles.pageTitle}>Esqueceu sua senha?</Text>\n            <Text style={styles.pageSubtitle}>\n                Sem problemas! Insira seu e-mail abaixo e enviaremos um link para voc criar uma nova senha.\n            </Text>\n\n            <View style={styles.inputWrapper}>\n                <MaterialIcons name=\"alternate-email\" size={22} color=\"#4A5568\" style={styles.inputIcon} />\n                <TextInput\n                style={styles.input}\n                placeholder=\"Seu endereo de e-mail cadastrado\"\n                placeholderTextColor=\"#A0AEC0\"\n                value={email}\n                onChangeText={setEmail}\n                keyboardType=\"email-address\"\n                autoCapitalize=\"none\"\n                />\n            </View>\n\n            <TouchableOpacity\n                style={[styles.actionButton, isLoading && styles.buttonDisabled]}\n                onPress={handleRecover}\n                activeOpacity={0.8}\n                disabled={isLoading}\n            >\n                {isLoading ? (\n                <ActivityIndicator color=\"#FFFFFF\" size=\"small\" />\n                ) : (\n                <Text style={styles.actionButtonText}>ENVIAR INSTRUES</Text>\n                )}\n            </TouchableOpacity>\n\n            <TouchableOpacity\n                style={styles.loginLink}\n                onPress={() => navigation.navigate('Login')}\n                disabled={isLoading}\n            >\n                <Text style={styles.loginLinkText}>\n                Lembrou a senha? <Text style={styles.loginLinkTextBold}>Voltar para Login</Text>\n                </Text>\n            </TouchableOpacity>\n            </View>\n        </ScrollView>\n      </KeyboardAvoidingView>\n    </SafeAreaView>\n  );\n};\n\n// ESTILOS MODERNIZADOS (Reutilizar e adaptar da LoginScreen)\nconst styles = StyleSheet.create({\n  container: { flex: 1, backgroundColor: '#F9FAFB' },\n  header: {\n    height: 60, backgroundColor: '#1D854C', flexDirection: 'row',\n    alignItems: 'center', justifyContent: 'space-between', paddingHorizontal: 16, elevation: 4,\n  },\n  backButton: { padding: 8 },\n  rightSpace: { width: 40 },\n  headerTitle: { fontSize: 20, color: '#FFFFFF', fontWeight: '600' },\n  scrollContent: { flexGrow: 1, justifyContent: 'center' },\n  contentInner: { padding: 24, alignItems: 'center' },\n  logoImage: { width: 100, height: 100, marginBottom: 30 },\n  pageTitle: { fontSize: 24, fontWeight: 'bold', color: '#1F2937', marginBottom: 12, textAlign: 'center' },\n  pageSubtitle: {\n    fontSize: 15, color: '#6B7280', textAlign: 'center',\n    marginBottom: 35, lineHeight: 22, paddingHorizontal: 10,\n  },\n  inputWrapper: { // Mesmo estilo da LoginScreen\n    flexDirection: 'row', alignItems: 'center', backgroundColor: '#FFFFFF',\n    borderRadius: 10, marginBottom: 25, borderWidth: 1,\n    borderColor: '#E2E8F0', height: 54, paddingHorizontal: 5, width: '100%',\n  },\n  inputIcon: { paddingHorizontal: 12 },\n  input: { flex: 1, height: '100%', color: '#1A202C', fontSize: 16 },\n  \n  actionButton: { // Mesmo estilo do loginButton da LoginScreen\n    backgroundColor: '#1D854C', borderRadius: 10, height: 52,\n    justifyContent: 'center', alignItems: 'center', marginBottom: 25,\n    elevation: 2, shadowColor: '#052e16', shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2, shadowRadius: 3, width: '100%',\n  },\n  buttonDisabled: { backgroundColor: '#A5D6A7' },\n  actionButtonText: { color: '#FFFFFF', fontSize: 16, fontWeight: '600', letterSpacing: 0.5 },\n  \n  loginLink: { marginTop: 10, marginBottom: 24 },\n  loginLinkText: { color: '#6B7280', fontSize: 14, fontWeight: '500' },\n  loginLinkTextBold: { color: '#1D854C', fontWeight: 'bold' },\n});","import React, { useState, useEffect } from 'react';\nimport {\n  View, Text, StyleSheet, SafeAreaView, ScrollView,\n  TouchableOpacity, StatusBar, ActivityIndicator\n} from 'react-native';\nimport { Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\nimport { useAuth } from '../AuthContext'; \nimport { ref, onValue, query, orderByChild, startAt } from 'firebase/database';\nimport { FIREBASE_DB } from '../firebaseConnection';\n\nexport const HomeScreen = ({ navigation }) => {\n  const { userData } = useAuth(); \n  const [userName, setUserName] = useState('Usurio');\n  const [events, setEvents] = useState([]);\n  const [isLoadingEvents, setIsLoadingEvents] = useState(true);\n\n  useEffect(() => {\n    if (userData && userData.uid) {\n      setUserName(userData.name || 'Usurio');\n\n      const todayISO = new Date().toISOString().split('T')[0];\n      const eventsQuery = query(\n        ref(FIREBASE_DB, 'events'),\n        orderByChild('date'),\n        startAt(todayISO)\n      );\n\n      const unsubscribeEvents = onValue(eventsQuery, (snapshot) => {\n        const loadedEvents = [];\n        snapshot.forEach((childSnapshot) => {\n          const eventData = { id: childSnapshot.key, ...childSnapshot.val() };\n          \n          let isRelevant = false;\n          if (eventData.createdBy === userData.uid) {\n            isRelevant = true;\n          } else if (eventData.attendees && eventData.attendees[userData.uid]) { \n            isRelevant = true;\n          } else if (eventData.classId && userData.associatedClasses && userData.associatedClasses[eventData.classId]) { \n            isRelevant = true;\n          }\n\n          if (isRelevant) {\n            loadedEvents.push(eventData);\n          }\n        });\n\n        loadedEvents.sort((a, b) => {\n          if (a.date < b.date) return -1;\n          if (a.date > b.date) return 1;\n          if (a.time < b.time) return -1;\n          if (a.time > b.time) return 1;\n          return 0;\n        });\n\n        setEvents(loadedEvents.slice(0, 3)); \n        setIsLoadingEvents(false);\n      }, (error) => {\n        console.error(\"Erro ao buscar eventos:\", error);\n        setEvents([]);\n        setIsLoadingEvents(false);\n      });\n\n      return () => unsubscribeEvents();\n    } else {\n      setIsLoadingEvents(false); \n      setEvents([]);\n      setUserName('Usurio');\n    }\n  }, [userData]);\n\n  const shortcuts = [\n    { id: 1, title: 'Agenda', iconName: 'calendar-month-outline', screen: 'Agenda', color: '#4CAF50' },\n    { id: 2, title: 'Arquivos', iconName: 'folder-open-outline', screen: 'Arquivos', color: '#2196F3' },\n    { id: 3, title: 'Tarefas', iconName: 'checkbox-marked-circle-outline', screen: 'Tarefas', color: '#FF9800' },\n    { id: 4, title: 'Notas', iconName: 'note-text-outline', screen: 'Notas', color: '#9C27B0' },\n  ];\n\n  const formatDate = (dateString, timeString) => {\n    try {\n      const dateObj = new Date(dateString + 'T' + (timeString || \"00:00:00\"));\n      if (isNaN(dateObj.getTime())) {\n         const parts = dateString.split('/');\n         if (parts.length === 3) {\n            const isoDateStr = `${parts[2]}-${parts[1]}-${parts[0]}`;\n            const dateObjFromDDMMYYYY = new Date(isoDateStr + 'T' + (timeString || \"00:00:00\"));\n            if (!isNaN(dateObjFromDDMMYYYY.getTime())) {\n                return `${dateObjFromDDMMYYYY.toLocaleDateString('pt-BR', { day: '2-digit', month: 'short' })} s ${timeString || ''}`;\n            }\n         }\n         return `${dateString} s ${timeString || ''}`; \n      }\n      return `${dateObj.toLocaleDateString('pt-BR', { day: '2-digit', month: 'short' })} s ${timeString || ''}`;\n    } catch (e) {\n      return `${dateString} s ${timeString || ''}`;\n    }\n  };\n\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <StatusBar backgroundColor=\"#FFFFFF\" barStyle=\"dark-content\" />\n      \n      <View style={styles.header}>\n        <TouchableOpacity onPress={() => navigation.navigate('Profile')} style={styles.profileContainer}>\n          <View style={styles.defaultAvatar}>\n            <Ionicons name=\"person-circle-outline\" size={40} color=\"#1D854C\" />\n          </View>\n          <View>\n            <Text style={styles.greetingSubText}>Bem-vindo(a),</Text>\n            <Text style={styles.greetingText}>{userName}!</Text>\n          </View>\n        </TouchableOpacity>\n      </View>\n\n      <ScrollView style={styles.scrollContent} showsVerticalScrollIndicator={false} keyboardShouldPersistTaps=\"handled\">\n        <View style={styles.sectionContainer}>\n          <View style={styles.sectionHeader}>\n            <Text style={styles.sectionTitle}>Prximos Eventos</Text>\n            <TouchableOpacity onPress={() => navigation.navigate('Agenda')}>\n                <Text style={styles.seeAllText}>Ver todos</Text>\n            </TouchableOpacity>\n          </View>\n          {isLoadingEvents ? (\n            <ActivityIndicator size=\"large\" color=\"#1D854C\" style={styles.loader} />\n          ) : events.length > 0 ? (\n            events.map((event) => (\n              <TouchableOpacity \n                key={event.id} \n                style={styles.eventCard}\n                onPress={() => navigation.navigate('Agenda', { eventId: event.id, screenTitle: event.title })}\n              >\n                <View style={[styles.eventIconContainer, {backgroundColor: event.isOnline ? '#E3F2FD' : '#E8F5E9'}]}>\n                  <MaterialCommunityIcons \n                    name={event.isOnline ? \"video-outline\" : \"calendar-today\"} // cone atualizado\n                    size={24} \n                    color={event.isOnline ? '#2196F3' : '#4CAF50'} />\n                </View>\n                <View style={styles.eventDetails}>\n                  <Text style={styles.eventTitle} numberOfLines={1}>{event.title}</Text>\n                  <Text style={styles.eventDateTime}>\n                    {formatDate(event.date, event.time)}\n                  </Text>\n                  <Text style={styles.eventLocation} numberOfLines={1}>\n                    <Ionicons name=\"location-outline\" size={14} color=\"#757575\" /> {event.location}\n                  </Text>\n                </View>\n                <Ionicons name=\"chevron-forward\" size={22} color=\"#BDBDBD\" />\n              </TouchableOpacity>\n            ))\n          ) : (\n            <View style={styles.emptyStateContainer}>\n              <MaterialCommunityIcons name=\"calendar-blank-outline\" size={48} color=\"#CBD5E0\" />\n              <Text style={styles.emptyStateText}>Nenhum evento relevante nos prximos dias.</Text>\n            </View>\n          )}\n        </View>\n\n        <View style={styles.sectionContainer}>\n          <Text style={styles.sectionTitle}>Acesso Rpido</Text>\n          <View style={styles.shortcutsGrid}>\n            {shortcuts.map((shortcut) => (\n              <TouchableOpacity\n                onPress={() => navigation.navigate(shortcut.screen)}\n                key={shortcut.id} \n                style={styles.shortcutCard}\n                activeOpacity={0.8}\n              >\n                <View style={[styles.shortcutIconContainer, { backgroundColor: `${shortcut.color}25` }]}>\n                  <MaterialCommunityIcons name={shortcut.iconName} size={30} color={shortcut.color} />\n                </View>\n                <Text style={styles.shortcutTitle}>{shortcut.title}</Text>\n              </TouchableOpacity>\n            ))}\n          </View>\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F8F9FA',\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    backgroundColor: '#FFFFFF',\n    paddingHorizontal: 20,\n    paddingVertical: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: '#E5E7EB',\n  },\n  profileContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  defaultAvatar: {\n    width: 44,\n    height: 44,\n    borderRadius: 22,\n    backgroundColor: '#E0E7FF',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 12,\n  },\n  greetingSubText: {\n    fontSize: 13,\n    color: '#6B7280',\n  },\n  greetingText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#1F2937', \n  },\n  headerIconsContainer: {\n    flexDirection: 'row',\n  },\n  iconButton: {\n    padding: 8,\n  },\n  scrollContent: {\n    flexGrow: 1, \n    paddingHorizontal: 20,\n  },\n  sectionContainer: {\n    paddingVertical: 24, \n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 18, \n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#111827',\n  },\n  seeAllText: {\n    fontSize: 14,\n    color: '#1D854C',\n    fontWeight: '600',\n  },\n  loader: {\n    marginVertical: 30,\n  },\n  eventCard: {\n    backgroundColor: '#FFFFFF',\n    borderRadius: 12,\n    padding: 16,\n    marginBottom: 14,\n    flexDirection: 'row',\n    alignItems: 'center',\n    elevation: 2, \n    shadowColor: '#000000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.06,\n    shadowRadius: 4,\n  },\n  eventIconContainer: {\n    width: 48, \n    height: 48,\n    borderRadius: 24,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  eventDetails: {\n    flex: 1,\n    marginRight: 8,\n  },\n  eventTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#1F2937',\n    marginBottom: 5,\n  },\n  eventDateTime: {\n    fontSize: 14,\n    color: '#4B5563', \n    marginBottom: 4,\n  },\n  eventLocation: {\n    fontSize: 14,\n    color: '#6B7280',\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  emptyStateContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 50, \n    backgroundColor: '#FFFFFF',\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: '#E5E7EB',\n    marginTop: 10,\n  },\n  emptyStateText: {\n    marginTop: 16,\n    fontSize: 15,\n    color: '#6B7280',\n    textAlign: 'center',\n    lineHeight: 22,\n  },\n  shortcutsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    marginTop: 10,\n  },\n  shortcutCard: {\n    backgroundColor: '#FFFFFF',\n    borderRadius: 12,\n    paddingVertical: 20,\n    paddingHorizontal: 10,\n    alignItems: 'center',\n    width: '48%', \n    marginBottom: 16,\n    minHeight: 130,\n    justifyContent: 'center',\n    elevation: 2,\n    shadowColor: '#000000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.06,\n    shadowRadius: 4,\n  },\n  shortcutIconContainer: {\n    width: 56, \n    height: 56,\n    borderRadius: 16, \n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  shortcutTitle: {\n    fontSize: 14,\n    fontWeight: '500',\n    color: '#374151', \n    textAlign: 'center',\n  },\n});","import React, { useState } from 'react';\r\nimport {\r\n  View, Text, TextInput, TouchableOpacity, StyleSheet,\r\n  Alert, ActivityIndicator, Platform, ScrollView\r\n} from 'react-native';\r\nimport Modal from 'react-native-modal';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { FIREBASE_AUTH } from '../firebaseConnection'; // Ajuste o caminho\r\nimport { EmailAuthProvider, reauthenticateWithCredential, updatePassword } from 'firebase/auth';\r\n\r\nexport const ChangePasswordModal = ({ isVisible, onClose }) => {\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmNewPassword, setConfirmNewPassword] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showCurrentPassword, setShowCurrentPassword] = useState(false);\r\n  const [showNewPassword, setShowNewPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n\r\n\r\n  const handleChangePassword = async () => {\r\n    if (!currentPassword || !newPassword || !confirmNewPassword) {\r\n      Alert.alert('Campos Obrigatrios', 'Por favor, preencha todos os campos.');\r\n      return;\r\n    }\r\n    if (newPassword !== confirmNewPassword) {\r\n      Alert.alert('Erro', 'A nova senha e a confirmao no coincidem.');\r\n      return;\r\n    }\r\n    if (newPassword.length < 6) {\r\n      Alert.alert('Senha Fraca', 'A nova senha deve ter pelo menos 6 caracteres.');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    const user = FIREBASE_AUTH.currentUser;\r\n\r\n    if (user) {\r\n      try {\r\n        // Reautenticar o usurio com a senha atual\r\n        const credential = EmailAuthProvider.credential(user.email, currentPassword);\r\n        await reauthenticateWithCredential(user, credential);\r\n\r\n        // Se a reautenticao for bem-sucedida, atualizar a senha\r\n        await updatePassword(user, newPassword);\r\n\r\n        Alert.alert('Sucesso', 'Senha alterada com sucesso!');\r\n        resetForm();\r\n        onClose();\r\n      } catch (error) {\r\n        console.error('Erro ao alterar senha:', error);\r\n        let errorMessage = 'No foi possvel alterar a senha.';\r\n        if (error.code === 'auth/wrong-password') {\r\n          errorMessage = 'A senha atual est incorreta.';\r\n        } else if (error.code === 'auth/weak-password') {\r\n          errorMessage = 'A nova senha  muito fraca.';\r\n        } else if (error.code === 'auth/requires-recent-login') {\r\n            errorMessage = 'Esta operao  sensvel e requer login recente. Por favor, faa login novamente e tente de novo.';\r\n        }\r\n        Alert.alert('Erro', errorMessage);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      Alert.alert('Erro', 'Usurio no encontrado. Por favor, faa login novamente.');\r\n      setIsLoading(false);\r\n      onClose(); // Fechar o modal se no houver usurio\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setCurrentPassword('');\r\n    setNewPassword('');\r\n    setConfirmNewPassword('');\r\n    setShowCurrentPassword(false);\r\n    setShowNewPassword(false);\r\n    setShowConfirmPassword(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isVisible={isVisible}\r\n      onSwipeComplete={onClose}\r\n      swipeDirection={['down']}\r\n      onBackdropPress={onClose}\r\n      onModalHide={resetForm}\r\n      style={styles.modal}\r\n      avoidKeyboard\r\n    >\r\n      <View style={styles.modalContent}>\r\n        <View style={styles.modalHeader}>\r\n          <Text style={styles.modalTitle}>Alterar Senha</Text>\r\n          <TouchableOpacity onPress={onClose}>\r\n            <Ionicons name=\"close-outline\" size={28} color=\"#333\" />\r\n          </TouchableOpacity>\r\n        </View>\r\n        <ScrollView keyboardShouldPersistTaps=\"handled\">\r\n          <View style={styles.formContainer}>\r\n            <Text style={styles.infoText}>\r\n              Para sua segurana, voc precisar confirmar sua senha atual antes de definir uma nova.\r\n            </Text>\r\n\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>Senha Atual</Text>\r\n              <View style={styles.passwordInputContainer}>\r\n                <TextInput\r\n                    style={styles.input}\r\n                    value={currentPassword}\r\n                    onChangeText={setCurrentPassword}\r\n                    placeholder=\"Sua senha atual\"\r\n                    secureTextEntry={!showCurrentPassword}\r\n                    placeholderTextColor=\"#A0AEC0\"\r\n                />\r\n                <TouchableOpacity onPress={() => setShowCurrentPassword(!showCurrentPassword)} style={styles.eyeIcon}>\r\n                    <Ionicons name={showCurrentPassword ? \"eye-outline\" : \"eye-off-outline\"} size={24} color=\"#6B7280\"/>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>Nova Senha</Text>\r\n               <View style={styles.passwordInputContainer}>\r\n                <TextInput\r\n                    style={styles.input}\r\n                    value={newPassword}\r\n                    onChangeText={setNewPassword}\r\n                    placeholder=\"Mnimo 6 caracteres\"\r\n                    secureTextEntry={!showNewPassword}\r\n                    placeholderTextColor=\"#A0AEC0\"\r\n                />\r\n                <TouchableOpacity onPress={() => setShowNewPassword(!showNewPassword)} style={styles.eyeIcon}>\r\n                    <Ionicons name={showNewPassword ? \"eye-outline\" : \"eye-off-outline\"} size={24} color=\"#6B7280\"/>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>Confirmar Nova Senha</Text>\r\n              <View style={styles.passwordInputContainer}>\r\n                <TextInput\r\n                    style={styles.input}\r\n                    value={confirmNewPassword}\r\n                    onChangeText={setConfirmNewPassword}\r\n                    placeholder=\"Repita a nova senha\"\r\n                    secureTextEntry={!showConfirmPassword}\r\n                    placeholderTextColor=\"#A0AEC0\"\r\n                />\r\n                <TouchableOpacity onPress={() => setShowConfirmPassword(!showConfirmPassword)} style={styles.eyeIcon}>\r\n                    <Ionicons name={showConfirmPassword ? \"eye-outline\" : \"eye-off-outline\"} size={24} color=\"#6B7280\"/>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n\r\n            <TouchableOpacity \r\n                style={[styles.confirmButton, isLoading && styles.confirmButtonDisabled]} \r\n                onPress={handleChangePassword} \r\n                disabled={isLoading}\r\n            >\r\n              {isLoading ? (\r\n                <ActivityIndicator color=\"#FFFFFF\" />\r\n              ) : (\r\n                <Text style={styles.confirmButtonText}>Confirmar Alterao</Text>\r\n              )}\r\n            </TouchableOpacity>\r\n          </View>\r\n        </ScrollView>\r\n      </View>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  modal: { justifyContent: 'flex-end', margin: 0 },\r\n  modalContent: {\r\n    backgroundColor: '#FFFFFF', paddingTop: 15, borderTopRightRadius: 25,\r\n    borderTopLeftRadius: 25, maxHeight: '80%', paddingBottom: Platform.OS === 'ios' ? 30 : 20,\r\n  },\r\n  modalHeader: {\r\n    flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center',\r\n    paddingBottom: 15, paddingHorizontal: 20, marginBottom: 10,\r\n  },\r\n  modalTitle: { fontSize: 22, fontWeight: 'bold', color: '#1F2937' },\r\n  formContainer: { paddingHorizontal: 20, paddingBottom: 20 },\r\n  infoText: {\r\n    fontSize: 14,\r\n    color: '#4B5563', // Tailwind gray-600\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n    lineHeight: 20,\r\n  },\r\n  inputField: { marginBottom: 20 },\r\n  inputLabel: { fontSize: 15, color: '#4A5568', marginBottom: 8, fontWeight: '500' },\r\n  passwordInputContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#F7F8FC',\r\n    borderRadius: 10,\r\n    borderWidth: 1,\r\n    borderColor: '#E2E8F0',\r\n  },\r\n  input: {\r\n    flex: 1, // Para o input ocupar o espao disponvel\r\n    height: 52,\r\n    paddingHorizontal: 15,\r\n    fontSize: 16,\r\n    color: '#2D3748',\r\n  },\r\n  eyeIcon: {\r\n    padding: 12, // Aumenta a rea de toque\r\n  },\r\n  confirmButton: {\r\n    backgroundColor: '#1D854C', borderRadius: 10, height: 52,\r\n    justifyContent: 'center', alignItems: 'center', marginTop: 25, elevation: 2,\r\n  },\r\n  confirmButtonDisabled: { backgroundColor: '#A5D6A7' },\r\n  confirmButtonText: { color: '#FFFFFF', fontSize: 17, fontWeight: '600' },\r\n});","// ProfileScreen.js\nimport React, { useState, useEffect } from 'react';\nimport {\n  View, Text, TextInput, TouchableOpacity, SafeAreaView, StatusBar,\n  StyleSheet, Alert, ScrollView, ActivityIndicator, Platform\n} from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { FIREBASE_AUTH, FIREBASE_DB } from '../firebaseConnection'; \nimport { ref as dbRef, update } from 'firebase/database';\nimport { updateProfile, updateEmail, reauthenticateWithCredential, EmailAuthProvider } from 'firebase/auth';\nimport { useAuth } from '../AuthContext'; \nimport { ChangePasswordModal } from './ChangePasswordModal';\n\nexport const ProfileScreen = ({ navigation }) => {\n  const { userData: contextUserData, logout, fetchUserDataFromDB } = useAuth();\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [isEditing, setIsEditing] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentPasswordForEmailChange, setCurrentPasswordForEmailChange] = useState('');\n  const [isChangePasswordModalVisible, setIsChangePasswordModalVisible] = useState(false);\n\n  useEffect(() => {\n    if (contextUserData) {\n      setName(contextUserData.name || FIREBASE_AUTH.currentUser?.displayName || '');\n      setEmail(contextUserData.email || FIREBASE_AUTH.currentUser?.email || '');\n      setPhone(contextUserData.phone || '');\n    } else if (FIREBASE_AUTH.currentUser) {\n        setName(FIREBASE_AUTH.currentUser.displayName || '');\n        setEmail(FIREBASE_AUTH.currentUser.email || '');\n    }\n  }, [contextUserData]);\n\n  const handleUpdateProfile = async () => {\n    if (!name.trim()) {\n        Alert.alert('Campo Obrigatrio', 'O nome no pode estar vazio.');\n        return;\n    }\n    if (!FIREBASE_AUTH.currentUser) {\n        Alert.alert('Erro', 'Usurio no autenticado.');\n        return;\n    }\n    setIsLoading(true);\n\n    const currentUser = FIREBASE_AUTH.currentUser;\n    const updates = {};\n    const authUpdates = {};\n\n    const currentAuthDisplayName = currentUser.displayName;\n    const currentContextName = contextUserData?.name;\n    const currentAuthEmail = currentUser.email;\n    const currentContextPhone = contextUserData?.phone;\n\n    if (name !== (currentContextName || currentAuthDisplayName)) {\n      updates.name = name.trim();\n      authUpdates.displayName = name.trim();\n    }\n    if (phone !== currentContextPhone) {\n      updates.phone = phone.trim();\n    }\n    \n    if (email.trim().toLowerCase() !== currentAuthEmail.toLowerCase()) {\n        if (!currentPasswordForEmailChange) {\n            Alert.prompt(\n                \"Alterar Email\",\n                \"Para sua segurana, por favor, insira sua senha atual para alterar o email.\",\n                [\n                    { text: \"Cancelar\", style: \"cancel\", onPress: () => setIsLoading(false) },\n                    { \n                        text: \"Confirmar\", \n                        onPress: password => {\n                            if (password) {\n                                setCurrentPasswordForEmailChange(password); \n                                Alert.alert(\n                                    \"Senha Inserida\", \n                                    \"Por favor, clique em 'Salvar Alteraes' novamente para confirmar a mudana de e-mail.\"\n                                );\n                            } else {\n                                Alert.alert(\"Senha Obrigatria\", \"A senha  necessria para alterar o email.\");\n                            }\n                            setIsLoading(false);\n                        }\n                    },\n                ],\n                'secure-text'\n            );\n            return; \n        }\n\n        try {\n            const credential = EmailAuthProvider.credential(currentAuthEmail, currentPasswordForEmailChange);\n            await reauthenticateWithCredential(currentUser, credential);\n            await updateEmail(currentUser, email.trim()); \n            updates.email = email.trim().toLowerCase(); \n            setCurrentPasswordForEmailChange(''); \n            Alert.alert(\"Email Atualizado\", \"Seu email foi alterado com sucesso. Pode ser necessrio fazer login novamente com o novo e-mail.\");\n        } catch (error) {\n            console.error(\"Erro ao reautenticar ou atualizar email:\", error);\n            let errorMessage = \"No foi possvel atualizar o email. Verifique sua senha.\";\n            if(error.code === 'auth/wrong-password') errorMessage = \"Senha atual incorreta.\";\n            else if(error.code === 'auth/email-already-in-use') errorMessage = \"Este email j est em uso por outra conta.\";\n            else if(error.code === 'auth/invalid-email') errorMessage = \"O formato do email  invlido.\";\n            else if (error.code === 'auth/requires-recent-login') errorMessage = \"Esta operao  sensvel e requer login recente. Por favor, faa login novamente.\";\n            \n            Alert.alert(\"Erro de Email\", errorMessage);\n            setIsLoading(false);\n            setCurrentPasswordForEmailChange('');\n            return;\n        }\n    }\n\n    try {\n      let profileUpdated = false;\n      if (Object.keys(authUpdates).length > 0) {\n        await updateProfile(currentUser, authUpdates);\n        profileUpdated = true;\n      }\n      if (Object.keys(updates).length > 0) {\n        const userDbRef = dbRef(FIREBASE_DB, `users/${currentUser.uid}`);\n        await update(userDbRef, updates);\n        profileUpdated = true;\n      }\n\n      if (profileUpdated) {\n        Alert.alert('Sucesso', 'Perfil atualizado!');\n        if (fetchUserDataFromDB) {\n            await fetchUserDataFromDB(currentUser.uid);\n        }\n      } else {\n        Alert.alert('Informao', 'Nenhuma alterao detectada para salvar.');\n      }\n      setIsEditing(false); \n    } catch (error) {\n      console.error('Erro ao atualizar perfil:', error);\n      Alert.alert('Erro', 'No foi possvel atualizar o perfil.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleLogoutPress = async () => {\n    Alert.alert(\n        \"Sair da Conta\",\n        \"Voc tem certeza que deseja sair?\",\n        [\n            { text: \"Cancelar\", style: \"cancel\" },\n            { \n                text: \"Sair\", \n                style: \"destructive\",\n                onPress: async () => {\n                    if (logout) {\n                        await logout();\n                        navigation.reset({ index: 0, routes: [{ name: 'Login' }] });\n                    } else {\n                        console.error(\"Funo de logout no encontrada no AuthContext.\");\n                        await FIREBASE_AUTH.signOut();\n                        navigation.reset({ index: 0, routes: [{ name: 'Login' }] });\n                    }\n                }\n            }\n        ],\n        { cancelable: true }\n    );\n  };\n\n  if (!contextUserData && !FIREBASE_AUTH.currentUser) { \n    return (\n        <SafeAreaView style={styles.container}>\n            <View style={styles.loadingContainer}>\n                <ActivityIndicator size=\"large\" color=\"#1D854C\" />\n            </View>\n        </SafeAreaView>\n    )\n  }\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <StatusBar backgroundColor=\"#1D854C\" barStyle=\"light-content\" />\n      <View style={styles.headerBar}>\n        <TouchableOpacity onPress={() => navigation.goBack()} style={styles.headerButton}>\n          <Ionicons name=\"arrow-back-outline\" size={26} color=\"#FFFFFF\"/>\n        </TouchableOpacity>\n        <Text style={styles.headerTitle}>Meu Perfil</Text>\n        <TouchableOpacity onPress={() => setIsEditing(!isEditing)} style={styles.headerButton}>\n          <Ionicons name={isEditing ? \"close-circle-outline\" : \"create-outline\"} size={26} color=\"#FFFFFF\" />\n        </TouchableOpacity>\n      </View>\n\n      <ScrollView contentContainerStyle={styles.scrollContent} showsVerticalScrollIndicator={false} keyboardShouldPersistTaps=\"handled\">\n        {/* Seo do Avatar REMOVIDA */}\n        <View style={styles.profileInfoDirect}>\n            <Text style={styles.profileName}>{name || 'Carregando nome...'}</Text>\n            <Text style={styles.profileEmail}>{email || 'Carregando email...'}</Text>\n        </View>\n\n\n        <View style={styles.formSection}>\n          <Text style={styles.sectionTitle}>Informaes Pessoais</Text>\n          \n           <View style={styles.inputGroup}>\n            <Ionicons name=\"person-outline\" size={22} color=\"#4A5568\" style={styles.inputIcon}/>\n            <TextInput\n              style={[styles.input, !isEditing && styles.inputDisabled]}\n              placeholder=\"Nome completo\"\n              value={name}\n              onChangeText={setName}\n              editable={isEditing}\n              placeholderTextColor=\"#A0AEC0\"\n            />\n          </View>\n\n          <View style={styles.inputGroup}>\n            <Ionicons name=\"mail-outline\" size={22} color=\"#4A5568\" style={styles.inputIcon}/>\n            <TextInput\n              style={[styles.input, !isEditing && styles.inputDisabled]}\n              placeholder=\"Endereo de e-mail\"\n              value={email}\n              onChangeText={setEmail}\n              editable={isEditing}\n              keyboardType=\"email-address\"\n              autoCapitalize=\"none\"\n              placeholderTextColor=\"#A0AEC0\"\n            />\n          </View>\n\n          <View style={styles.inputGroup}>\n            <Ionicons name=\"call-outline\" size={22} color=\"#4A5568\" style={styles.inputIcon}/>\n            <TextInput\n              style={[styles.input, !isEditing && styles.inputDisabled]}\n              placeholder=\"Nmero de telefone (opcional)\"\n              value={phone}\n              onChangeText={setPhone}\n              editable={isEditing}\n              keyboardType=\"phone-pad\"\n              placeholderTextColor=\"#A0AEC0\"\n            />\n          </View>\n\n          {isEditing && (\n            <TouchableOpacity style={styles.saveButton} onPress={handleUpdateProfile} disabled={isLoading}>\n              {isLoading ? (\n                <ActivityIndicator color=\"#FFFFFF\" />\n              ) : (\n                <Text style={styles.saveButtonText}>Salvar Alteraes</Text>\n              )}\n            </TouchableOpacity>\n          )}\n        </View>\n\n        <View style={styles.actionsSection}>\n            <Text style={styles.sectionTitle}>Conta</Text>\n            <TouchableOpacity style={styles.actionButton} onPress={() => setIsChangePasswordModalVisible(true)}> \n                <Ionicons name=\"lock-closed-outline\" size={22} color=\"#4A5568\" style={styles.actionIcon}/>\n                <Text style={styles.actionButtonText}>Alterar Senha</Text>\n                <Ionicons name=\"chevron-forward-outline\" size={22} color=\"#CBD5E0\"/>\n            </TouchableOpacity>\n            <TouchableOpacity style={[styles.actionButton, styles.logoutButton]} onPress={handleLogoutPress}>\n                <Ionicons name=\"log-out-outline\" size={22} color=\"#EF4444\" style={styles.actionIcon}/>\n                <Text style={[styles.actionButtonText, styles.logoutButtonText]}>Sair da Conta</Text>\n            </TouchableOpacity>\n        </View>\n      </ScrollView>\n\n      <ChangePasswordModal\n        isVisible={isChangePasswordModalVisible}\n        onClose={() => setIsChangePasswordModalVisible(false)}\n      />\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F9FAFB',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#FFFFFF',\n  },\n  headerBar: {\n    height: 60,\n    backgroundColor: '#1D854C',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 12,\n    elevation: 4,\n  },\n  headerButton: { padding: 10 },\n  headerTitle: { fontSize: 20, color: '#FFFFFF', fontWeight: '600' },\n  scrollContent: {\n    paddingBottom: 40,\n  },\n  profileInfoDirect: {\n    alignItems: 'center',\n    paddingVertical: 25,\n    backgroundColor: '#FFFFFF',\n    borderBottomWidth: 1,\n    borderBottomColor: '#E5E7EB',\n    marginBottom: 20,\n  },\n  profileName: { fontSize: 24, fontWeight: 'bold', color: '#1A202C', marginBottom: 6 },\n  profileEmail: { fontSize: 16, color: '#6B7280' },\n\n  formSection: { paddingHorizontal: 20, marginBottom: 20 },\n  sectionTitle: { fontSize: 18, fontWeight: '600', color: '#374151', marginBottom: 18, marginTop: 10 },\n  inputGroup: {\n    flexDirection: 'row', alignItems: 'center', backgroundColor: '#FFFFFF',\n    borderRadius: 10, borderWidth: 1, borderColor: '#D1D5DB',\n    marginBottom: 18, paddingHorizontal: 12, height: 54,\n  },\n  inputIcon: { marginRight: 12, },\n  input: {\n    flex: 1, height: '100%', fontSize: 16, color: '#1F2937',\n  },\n  inputDisabled: { color: '#6B7280', backgroundColor: '#F3F4F6' },\n  \n  saveButton: {\n    backgroundColor: '#1D854C', borderRadius: 10, height: 52,\n    justifyContent: 'center', alignItems: 'center', marginTop: 15, elevation: 2,\n  },\n  saveButtonText: { color: '#FFFFFF', fontSize: 16, fontWeight: '600' },\n\n  actionsSection: { paddingHorizontal: 20, marginTop: 10, },\n  actionButton: {\n    flexDirection: 'row', alignItems: 'center', backgroundColor: '#FFFFFF',\n    paddingVertical: 18, paddingHorizontal: 15, borderRadius: 10,\n    borderWidth: 1, borderColor: '#E5E7EB', marginBottom: 12,\n  },\n  actionIcon: { marginRight: 15 },\n  actionButtonText: { flex: 1, fontSize: 16, color: '#374151', fontWeight: '500'},\n  logoutButton: { borderColor: '#FCA5A5' },\n  logoutButtonText: { color: '#EF4444' },\n});","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  View, Text, TextInput, TouchableOpacity, StyleSheet,\r\n  ScrollView, Platform, Alert, ActivityIndicator\r\n} from 'react-native';\r\nimport Modal from 'react-native-modal';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst CustomPicker = ({ label, options, selectedValue, onValueChange, disabled }) => {\r\n  const [showOptions, setShowOptions] = useState(false);\r\n  return (\r\n    <View style={styles.inputField}>\r\n      <Text style={styles.inputLabel}>{label}</Text>\r\n      <TouchableOpacity onPress={() => !disabled && setShowOptions(!showOptions)} style={[styles.pickerButton, disabled && styles.disabledInput]}>\r\n        <Text style={styles.pickerButtonText}>{options.find(opt => opt.value === selectedValue)?.label || 'Selecione...'}</Text>\r\n        <Ionicons name={showOptions ? \"chevron-up-outline\" : \"chevron-down-outline\"} size={22} color=\"#555\" />\r\n      </TouchableOpacity>\r\n      {showOptions && !disabled && (\r\n        <View style={styles.pickerOptionsContainer}>\r\n          {options.map(option => (\r\n            <TouchableOpacity key={option.value} style={styles.pickerOption} onPress={() => { onValueChange(option.value); setShowOptions(false); }}>\r\n              <Text>{option.label}</Text>\r\n            </TouchableOpacity>\r\n          ))}\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport const PREDEFINED_CATEGORIES = [\r\n    { id: 'geral', name: 'Geral', color: '#78909C' },\r\n    { id: 'aula', name: 'Aula', color: '#42A5F5' },\r\n    { id: 'projeto', name: 'Projeto', color: '#66BB6A' },\r\n    { id: 'reuniao', name: 'Reunio', color: '#FFA726' },\r\n    { id: 'pessoal', name: 'Pessoal', color: '#AB47BC' },\r\n    { id: 'ideia', name: 'Ideia', color: '#26A69A' },\r\n];\r\n\r\nexport const NOTE_COLORS = ['#FFCDD2', '#C5CAE9', '#B2DFDB', '#FFF9C4', '#D1C4E9', '#FFCCBC', '#CFD8DC'];\r\n\r\nexport const NewNoteModal = ({ isVisible, onClose, onNoteSaved, existingNote }) => {\r\n  const [noteId, setNoteId] = useState(null);\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const [category, setCategory] = useState(PREDEFINED_CATEGORIES[0].id);\r\n  const [color, setColor] = useState(NOTE_COLORS[0]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const isEditing = !!existingNote;\r\n\r\n  useEffect(() => {\r\n    if (isVisible) {\r\n      if (isEditing && existingNote) {\r\n        setNoteId(existingNote.id);\r\n        setTitle(existingNote.title || '');\r\n        setContent(existingNote.content || '');\r\n        setCategory(existingNote.category || PREDEFINED_CATEGORIES[0].id);\r\n        setColor(existingNote.color || NOTE_COLORS[0]);\r\n      } else {\r\n        setNoteId(null); setTitle(''); setContent('');\r\n        setCategory(PREDEFINED_CATEGORIES[0].id); setColor(NOTE_COLORS[0]);\r\n      }\r\n    }\r\n  }, [existingNote, isVisible, isEditing]);\r\n\r\n  const categoryOptions = PREDEFINED_CATEGORIES.map(cat => ({ label: cat.name, value: cat.id }));\r\n\r\n  const handleSaveNote = async () => {\r\n    if (!title.trim() && !content.trim()) {\r\n      Alert.alert('Nota Vazia', 'Adicione um ttulo ou contedo para a nota.');\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    try {\r\n      const storedNotes = await AsyncStorage.getItem('@notes');\r\n      const notes = storedNotes ? JSON.parse(storedNotes) : [];\r\n      const now = Date.now();\r\n      if (isEditing && noteId) {\r\n        const noteIndex = notes.findIndex(note => note.id === noteId);\r\n        if (noteIndex > -1) {\r\n          notes[noteIndex] = {\r\n            ...notes[noteIndex],\r\n            title: title.trim(), content: content.trim(),\r\n            category, color, updatedAt: now,\r\n          };\r\n        }\r\n      } else {\r\n        const newNote = {\r\n          id: now.toString(), title: title.trim(), content: content.trim(),\r\n          category, color, createdAt: now, updatedAt: now,\r\n        };\r\n        notes.push(newNote);\r\n      }\r\n      await AsyncStorage.setItem('@notes', JSON.stringify(notes));\r\n      Alert.alert('Sucesso', `Nota ${isEditing ? 'atualizada' : 'criada'}!`);\r\n      onNoteSaved();\r\n      onClose();\r\n    } catch (error) {\r\n      Alert.alert('Erro', 'No foi possvel salvar a nota.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal isVisible={isVisible} onSwipeComplete={onClose} swipeDirection={['down']} onBackdropPress={onClose} style={styles.modal} avoidKeyboard>\r\n      <View style={styles.modalContent}>\r\n        <View style={styles.modalHeader}>\r\n          <Text style={styles.modalTitle}>{isEditing ? 'Editar Nota' : 'Nova Nota'}</Text>\r\n          <TouchableOpacity onPress={onClose}><Ionicons name=\"close-outline\" size={28} color=\"#333\" /></TouchableOpacity>\r\n        </View>\r\n        <ScrollView showsVerticalScrollIndicator={false} keyboardShouldPersistTaps=\"handled\">\r\n          <View style={styles.formContainer}>\r\n            <View style={styles.inputField}>\r\n              <TextInput style={styles.titleInput} value={title} onChangeText={setTitle} placeholder=\"Ttulo da nota...\" placeholderTextColor=\"#A0AEC0\"/>\r\n            </View>\r\n            <View style={styles.inputField}>\r\n              <TextInput style={styles.contentInput} value={content} onChangeText={setContent} placeholder=\"Comece a digitar aqui...\" placeholderTextColor=\"#A0AEC0\" multiline textAlignVertical=\"top\"/>\r\n            </View>\r\n            <View style={styles.rowFields}>\r\n                <View style={[styles.pickerContainerStyle, {flex: 1, marginRight: 10, zIndex: 20}]}>\r\n                    <CustomPicker label=\"Categoria\" options={categoryOptions} selectedValue={category} onValueChange={setCategory}/>\r\n                </View>\r\n                <View style={{flex: 0.8, marginLeft: 10}}>\r\n                    <Text style={styles.inputLabel}>Cor</Text>\r\n                    <ScrollView horizontal showsHorizontalScrollIndicator={false} contentContainerStyle={styles.colorSelectorContainer}>\r\n                        {NOTE_COLORS.map(c => (\r\n                        <TouchableOpacity key={c} style={[styles.colorOption, { backgroundColor: c }, c === color && styles.colorOptionSelected,]} onPress={() => setColor(c)}/>\r\n                        ))}\r\n                    </ScrollView>\r\n                </View>\r\n            </View>\r\n            <TouchableOpacity style={[styles.confirmButton, isLoading && styles.confirmButtonDisabled]} onPress={handleSaveNote} disabled={isLoading}>\r\n              {isLoading ? <ActivityIndicator color=\"#fff\" /> : <Text style={styles.confirmButtonText}>{isEditing ? 'Salvar Alteraes' : 'Criar Nota'}</Text>}\r\n            </TouchableOpacity>\r\n          </View>\r\n        </ScrollView>\r\n      </View>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  modal: { justifyContent: 'flex-end', margin: 0 },\r\n  modalContent: { backgroundColor: '#FFFFFF', paddingTop: 15, borderTopRightRadius: 25, borderTopLeftRadius: 25, maxHeight: '90%', paddingBottom: Platform.OS === 'ios' ? 30 : 10, },\r\n  modalHeader: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingBottom: 15, paddingHorizontal: 20, marginBottom: 5, },\r\n  modalTitle: { fontSize: 22, fontWeight: 'bold', color: '#1A202C' },\r\n  formContainer: { paddingHorizontal: 20, paddingBottom: 150 },\r\n  inputField: { marginBottom: 20 },\r\n  inputLabel: { fontSize: 14, color: '#4A5568', marginBottom: 8, fontWeight: '500' },\r\n  titleInput: { fontSize: 20, fontWeight: '600', color: '#2D3748', paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: '#E2E8F0', marginBottom: 10, },\r\n  contentInput: { fontSize: 16, color: '#4A5568', minHeight: 150, textAlignVertical: 'top', paddingTop: 0, lineHeight: 24, },\r\n  rowFields: { flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between', marginBottom: 25 },\r\n  colorSelectorContainer: { paddingVertical: 5, alignItems: 'center' },\r\n  colorOption: { width: 32, height: 32, borderRadius: 16, marginRight: 10, borderWidth: 2, borderColor: 'transparent', },\r\n  colorOptionSelected: { borderColor: '#4A5568', transform: [{ scale: 1.1 }] },\r\n  confirmButton: { backgroundColor: '#1D854C', borderRadius: 10, height: 52, justifyContent: 'center', alignItems: 'center', marginTop: 20, elevation: 2, },\r\n  confirmButtonDisabled: { backgroundColor: '#A5D6A7' },\r\n  confirmButtonText: { color: '#FFFFFF', fontSize: 17, fontWeight: '600' },\r\n  pickerButton: { backgroundColor: '#F7F8FC', borderRadius: 10, height: 50, paddingHorizontal: 15, borderWidth: 1, borderColor: '#E2E8F0', flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', },\r\n  pickerButtonText: { fontSize: 15, color: '#2D3748' },\r\n  disabledInput: { backgroundColor: '#E5E7EB' },\r\n  pickerOptionsContainer: { backgroundColor: '#FFFFFF', borderRadius: 8, marginTop: 4, borderColor: '#E2E8F0', borderWidth: 1, elevation: 5, zIndex: 1000, position: 'absolute', width: '100%', top: 55, },\r\n  pickerOption: { paddingVertical: 12, paddingHorizontal: 15, borderBottomWidth: 1, borderBottomColor: '#F3F4F6' },\r\n});","import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport {\r\n  View, Text, TouchableOpacity, StyleSheet, SafeAreaView,\r\n  StatusBar, FlatList, TextInput, ActivityIndicator, Alert, ScrollView, Platform\r\n} from 'react-native';\r\nimport { MaterialIcons, Ionicons } from '@expo/vector-icons';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { NewNoteModal, PREDEFINED_CATEGORIES } from './NewNoteModal';\r\n\r\nexport const NotasScreen = ({ navigation }) => {\r\n  const [activeCategory, setActiveCategory] = useState('all');\r\n  const [allNotes, setAllNotes] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isModalVisible, setModalVisible] = useState(false);\r\n  const [selectedNote, setSelectedNote] = useState(null);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  const categoriesForFilter = useMemo(() => {\r\n    const geralCategoryColor = PREDEFINED_CATEGORIES.find(c => c.id === 'geral')?.color || '#78909C';\r\n    return [{ id: 'all', name: 'Todas', color: geralCategoryColor }, ...PREDEFINED_CATEGORIES];\r\n  }, []);\r\n\r\n  const loadNotes = useCallback(async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const storedNotes = await AsyncStorage.getItem('@notes');\r\n      const notes = storedNotes ? JSON.parse(storedNotes) : [];\r\n      setAllNotes(notes.sort((a, b) => (b.updatedAt || 0) - (a.updatedAt || 0)));\r\n    } catch (error) {\r\n      Alert.alert(\"Erro\", \"No foi possvel carregar suas anotaes.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadNotes();\r\n  }, [loadNotes]);\r\n\r\n  const filteredNotes = useMemo(() => {\r\n    return allNotes.filter(note => {\r\n        const matchesCategory = activeCategory === 'all' || note.category === activeCategory;\r\n        const searchLower = searchTerm.toLowerCase();\r\n        const matchesSearch = searchTerm === '' ||\r\n                              (note.title && note.title.toLowerCase().includes(searchLower)) ||\r\n                              (note.content && note.content.toLowerCase().includes(searchLower));\r\n        return matchesCategory && matchesSearch;\r\n    });\r\n  }, [allNotes, activeCategory, searchTerm]);\r\n\r\n  const handleOpenNoteModal = (note = null) => {\r\n    setSelectedNote(note);\r\n    setModalVisible(true);\r\n  };\r\n\r\n  const getCategoryDetails = (categoryId) => {\r\n    return PREDEFINED_CATEGORIES.find(cat => cat.id === categoryId) || PREDEFINED_CATEGORIES.find(cat => cat.id === 'geral');\r\n  };\r\n\r\n  const handleDeleteNote = async (noteId) => {\r\n    if (!noteId) return;\r\n    Alert.alert(\"Confirmar Excluso\", \"Tem certeza que deseja excluir esta anotao?\",\r\n        [ { text: \"Cancelar\", style: \"cancel\" },\r\n          { text: \"Excluir\", style: \"destructive\", onPress: async () => {\r\n                setIsDeleting(true);\r\n                try {\r\n                    const updatedNotes = allNotes.filter(note => note.id !== noteId);\r\n                    await AsyncStorage.setItem('@notes', JSON.stringify(updatedNotes));\r\n                    setAllNotes(updatedNotes);\r\n                    Alert.alert(\"Sucesso\", \"Anotao excluda.\");\r\n                } catch (error) { Alert.alert(\"Erro\", \"No foi possvel excluir a anotao.\");\r\n                } finally { setIsDeleting(false); }\r\n            }}\r\n        ], { cancelable: true }\r\n    );\r\n  };\r\n\r\n  const renderNotaCard = ({ item }) => {\r\n    if (!item || !item.id) return null;\r\n    const categoryDetails = getCategoryDetails(item.category);\r\n    const displayColor = item.color || categoryDetails.color;\r\n    return (\r\n        <TouchableOpacity style={noteStyles.notaCard} activeOpacity={0.8} onPress={() => handleOpenNoteModal(item)}>\r\n            <View style={[noteStyles.colorIndicator, { backgroundColor: displayColor }]} />\r\n            <View style={noteStyles.notaInfo}>\r\n                {item.title ? <Text style={noteStyles.notaTitle} numberOfLines={1}>{item.title}</Text> : null}\r\n                <Text style={noteStyles.notaContent} numberOfLines={item.title ? 3 : 5}>{item.content || \"Sem contedo...\"}</Text>\r\n                <View style={noteStyles.cardFooter}>\r\n                    <View style={[noteStyles.categoryChip, {backgroundColor: `${categoryDetails.color}30`}]}>\r\n                        <Text style={[noteStyles.notaCategoryText, {color: categoryDetails.color}]}>{categoryDetails.name}</Text>\r\n                    </View>\r\n                    <View style={noteStyles.footerActions}>\r\n                        <Text style={noteStyles.notaDate}>{new Date(item.updatedAt).toLocaleDateString('pt-BR', {day: '2-digit', month:'short'})}</Text>\r\n                        <TouchableOpacity style={noteStyles.deleteButton} onPress={() => handleDeleteNote(item.id)}>\r\n                            <Ionicons name=\"trash-outline\" size={18} color=\"#EF4444\" />\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            </View>\r\n        </TouchableOpacity>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={noteStyles.container}>\r\n      <StatusBar backgroundColor=\"#1D854C\" barStyle=\"light-content\" />\r\n      <View style={noteStyles.header}>\r\n        <TouchableOpacity onPress={() => navigation.goBack()} style={noteStyles.headerButton}><Ionicons name=\"arrow-back-outline\" size={26} color=\"#FFFFFF\"/></TouchableOpacity>\r\n        <Text style={noteStyles.headerTitle}>Minhas Anotaes</Text>\r\n        <View style={{width: 38}} />\r\n      </View>\r\n      <View style={noteStyles.searchContainer}>\r\n        <Ionicons name=\"search-outline\" size={22} color=\"#A0AEC0\" style={noteStyles.searchIcon} />\r\n        <TextInput style={noteStyles.searchInput} placeholder=\"Buscar por ttulo ou contedo...\" value={searchTerm} onChangeText={setSearchTerm}/>\r\n        {searchTerm ? (<TouchableOpacity onPress={() => setSearchTerm('')} style={noteStyles.clearSearchButton}><Ionicons name=\"close-circle\" size={20} color=\"#CBD5E0\" /></TouchableOpacity>) : null}\r\n      </View>\r\n      <View>\r\n        <ScrollView horizontal showsHorizontalScrollIndicator={false} contentContainerStyle={noteStyles.categoriasContainer}>\r\n          {categoriesForFilter.map(cat => (\r\n            <TouchableOpacity key={cat.id} style={[noteStyles.categoriaButton, activeCategory === cat.id && noteStyles.categoriaButtonActive, activeCategory === cat.id && { backgroundColor: `${cat.color}33` } ]} onPress={() => setActiveCategory(cat.id)}>\r\n              <Text style={[noteStyles.categoriaText, activeCategory === cat.id && noteStyles.categoriaTextActive, activeCategory === cat.id && { color: cat.color } ]}>{cat.name}</Text>\r\n            </TouchableOpacity>\r\n          ))}\r\n        </ScrollView>\r\n      </View>\r\n      {isLoading ? (\r\n         <View style={noteStyles.fullScreenLoader}><ActivityIndicator size=\"large\" color=\"#1D854C\" /><Text style={noteStyles.loadingText}>Carregando...</Text></View>\r\n      ) : (\r\n        <FlatList\r\n          data={filteredNotes} renderItem={renderNotaCard} keyExtractor={(item) => item.id.toString()}\r\n          contentContainerStyle={noteStyles.notasList} numColumns={2} columnWrapperStyle={noteStyles.row}\r\n          ListEmptyComponent={() => (\r\n            <View style={noteStyles.emptyStateContainer}>\r\n                <Ionicons name=\"reader-outline\" size={60} color=\"#CBD5E0\" />\r\n                <Text style={noteStyles.emptyStateText}>Nenhuma anotao encontrada.</Text>\r\n                {searchTerm === '' && activeCategory === 'all' && <Text style={noteStyles.emptyStateSubText}>Crie sua primeira anotao no boto '+'!</Text>}\r\n            </View>\r\n          )}\r\n        />\r\n      )}\r\n      <TouchableOpacity style={[noteStyles.addButton, isDeleting && noteStyles.buttonDisabled]} onPress={() => !isDeleting && handleOpenNoteModal()} disabled={isDeleting}>\r\n        {isDeleting ? <ActivityIndicator color=\"#FFFFFF\" /> : <MaterialIcons name=\"add\" size={32} color=\"#FFFFFF\" />}\r\n      </TouchableOpacity>\r\n      <NewNoteModal isVisible={isModalVisible} onClose={() => { setModalVisible(false); setSelectedNote(null); }} onNoteSaved={loadNotes} existingNote={selectedNote}/>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst noteStyles = StyleSheet.create({\r\n  container: { flex: 1, backgroundColor: '#F9FAFB' },\r\n  header: { height: 60, backgroundColor: '#1D854C', flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', paddingHorizontal: 12, elevation: 4, },\r\n  headerButton: { padding: 10 },\r\n  headerTitle: { fontSize: 20, color: '#FFFFFF', fontWeight: '600' },\r\n  searchContainer: { flexDirection: 'row', alignItems: 'center', backgroundColor: '#FFFFFF', borderRadius: 25, marginHorizontal: 16, marginVertical: 12, paddingHorizontal: 15, height: 50, elevation: 2, shadowColor: '#000', shadowOpacity: 0.05, shadowRadius: 3, },\r\n  searchIcon: { marginRight: 10 },\r\n  searchInput: { flex: 1, fontSize: 16, color: '#2D3748' },\r\n  clearSearchButton: { padding: 5 },\r\n  categoriasContainer: { paddingHorizontal: 16, paddingVertical: 12 },\r\n  categoriaButton: { paddingVertical: 8, paddingHorizontal: 18, borderRadius: 20, marginRight: 10, backgroundColor: '#E9EDF5', borderWidth: 1, borderColor: 'transparent', },\r\n  categoriaButtonActive: { borderColor: '#D1D5DB', shadowColor: '#000', shadowOpacity: 0.08, shadowRadius: 4, elevation: 1, },\r\n  categoriaText: { fontSize: 14, color: '#4A5568', fontWeight: '500' },\r\n  categoriaTextActive: { fontWeight: 'bold' }, \r\n  fullScreenLoader: { flex: 1, justifyContent: 'center', alignItems: 'center' },\r\n  loadingText: { marginTop: 10, fontSize: 16, color: '#1D854C' },\r\n  notasList: { paddingHorizontal: 12, paddingTop: 8, paddingBottom: 90 },\r\n  row: { justifyContent: 'space-between', paddingHorizontal: 4 }, \r\n  notaCard: { backgroundColor: '#FFFFFF', borderRadius: 12, marginBottom: 16, elevation: 2, shadowColor: '#000000', shadowOffset: { width: 0, height: 1 }, shadowOpacity: 0.06, shadowRadius: 4, width: '48.5%', overflow: 'hidden', },\r\n  colorIndicator: { height: 8, width: '100%' },\r\n  notaInfo: { padding: 14, }, \r\n  notaTitle: { fontSize: 16, fontWeight: '600', color: '#1F2937', marginBottom: 6, lineHeight: 22 }, \r\n  notaContent: { fontSize: 14, color: '#4B5563', lineHeight: 20, marginBottom: 12 },\r\n  cardFooter: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', marginTop: 'auto', paddingTop: 8, borderTopWidth: 1, borderTopColor: '#F3F4F6' },\r\n  footerActions: { flexDirection: 'row', alignItems: 'center' },\r\n  deleteButton: { marginLeft: 8, padding: 4, },\r\n  categoryChip: { paddingHorizontal: 10, paddingVertical: 4, borderRadius: 12, },\r\n  notaCategoryText: { fontSize: 11, fontWeight: '500', textTransform: 'capitalize' }, \r\n  notaDate: { fontSize: 11, color: '#9CA3AF' },\r\n  emptyStateContainer: { flex: 1, alignItems: 'center', justifyContent: 'center', padding: 20, marginTop: 40, width: '100%' },\r\n  emptyStateText: { marginTop: 16, fontSize: 17, fontWeight: '500', color: '#6B7280', textAlign: 'center' },\r\n  emptyStateSubText: { marginTop: 8, fontSize: 14, color: '#9CA3AF', textAlign: 'center', lineHeight: 20 },\r\n  addButton: { position: 'absolute', right: 20, bottom: 25, width: 60, height: 60, borderRadius: 30, backgroundColor: '#1D854C', justifyContent: 'center', alignItems: 'center', elevation: 6, shadowColor: '#052e16', shadowOffset: { width: 0, height: 3 }, shadowOpacity: 0.3, shadowRadius: 4, },\r\n  buttonDisabled: { backgroundColor: '#A5D6A7', }\r\n});","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  View, Text, TextInput, TouchableOpacity, StyleSheet,\r\n  ScrollView, Platform, Alert, ActivityIndicator\r\n} from 'react-native';\r\nimport Modal from 'react-native-modal';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport DateTimePickerModal from 'react-native-modal-datetime-picker';\r\nimport { FIREBASE_DB } from '../firebaseConnection';\r\nimport { ref as dbRef, push, update, serverTimestamp, get, query, orderByChild } from 'firebase/database';\r\nimport { useAuth } from '../AuthContext';\r\n\r\nconst CustomPicker = ({ label, options, selectedValue, onValueChange, disabled }) => {\r\n  const [showOptions, setShowOptions] = useState(false);\r\n  const selectedOptionObject = options.find(opt => opt.value === selectedValue);\r\n  return (\r\n    <View style={[styles.inputField, { zIndex: showOptions ? 10 : 1 }]}>\r\n      <Text style={styles.inputLabel}>{label}</Text>\r\n      <TouchableOpacity onPress={() => !disabled && setShowOptions(!showOptions)} style={[styles.pickerButton, disabled && styles.disabledInput]}>\r\n        <Text style={[styles.pickerButtonText, disabled && styles.disabledText]}>\r\n          {selectedOptionObject ? selectedOptionObject.label : 'Selecione...'}\r\n        </Text>\r\n        <Ionicons name={showOptions ? \"chevron-up-outline\" : \"chevron-down-outline\"} size={22} color={disabled ? \"#A0AEC0\" : \"#555\"} />\r\n      </TouchableOpacity>\r\n      {showOptions && !disabled && (\r\n        <View style={styles.pickerOptionsContainer}>\r\n          {options.map(option => (\r\n            <TouchableOpacity key={option.value} style={styles.pickerOption} onPress={() => { onValueChange(option.value); setShowOptions(false); }}>\r\n              <Text>{option.label}</Text>\r\n            </TouchableOpacity>\r\n          ))}\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport const NewTaskModal = ({ isVisible, onClose, onTaskSaved, existingTask }) => {\r\n  const { userData } = useAuth();\r\n  const [taskId, setTaskId] = useState(null);\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [dueDate, setDueDate] = useState(new Date());\r\n  const [isDatePickerVisible, setDatePickerVisibility] = useState(false);\r\n  const [priority, setPriority] = useState('media');\r\n  const [status, setStatus] = useState('pending');\r\n  const [assignedToSearch, setAssignedToSearch] = useState('');\r\n  const [foundUsers, setFoundUsers] = useState([]);\r\n  const [assignedUsers, setAssignedUsers] = useState({});\r\n  const [isSearchingUsers, setIsSearchingUsers] = useState(false);\r\n  const [isLoadingForm, setIsLoadingForm] = useState(false);\r\n  const isEditing = !!existingTask;\r\n  const isCreator = isEditing && existingTask?.createdByUid === userData?.uid;\r\n  const formDisabled = isLoadingForm || status === 'completed' || status === 'cancelled';\r\n  const reasonDisabled = status === 'completed' ? ' (Concluda)' : status === 'cancelled' ? ' (Cancelada)' : '';\r\n\r\n  useEffect(() => {\r\n    if (isVisible) {\r\n        if (isEditing && existingTask) {\r\n            setTaskId(existingTask.id);\r\n            setTitle(existingTask.title || '');\r\n            setDescription(existingTask.description || '');\r\n            setDueDate(existingTask.dueDate ? new Date(existingTask.dueDate + \"T00:00:00\") : new Date());\r\n            setPriority(existingTask.priority || 'media');\r\n            setStatus(existingTask.status || 'pending');\r\n            setAssignedUsers(existingTask.assignedTo || {});\r\n        } else {\r\n            resetFormFields();\r\n        }\r\n        setFoundUsers([]);\r\n        setAssignedToSearch('');\r\n    }\r\n  }, [existingTask, isVisible, isEditing]);\r\n\r\n  const resetFormFields = () => {\r\n    setTaskId(null); setTitle(''); setDescription('');\r\n    const tomorrow = new Date(); tomorrow.setDate(tomorrow.getDate() + 1); setDueDate(tomorrow);\r\n    setPriority('media'); setStatus('pending'); setAssignedToSearch(''); setFoundUsers([]);\r\n    setAssignedUsers({}); setIsLoadingForm(false);\r\n  };\r\n\r\n  const showDatePicker = () => setDatePickerVisibility(true);\r\n  const hideDatePicker = () => setDatePickerVisibility(false);\r\n  const handleDateConfirm = (selectedDate) => { setDueDate(selectedDate); hideDatePicker(); };\r\n\r\n  const priorityOptions = [ { label: 'Alta', value: 'alta' }, { label: 'Mdia', value: 'media' }, { label: 'Baixa', value: 'baixa' }, ];\r\n  const statusOptions = [ { label: 'Pendente', value: 'pending' }, { label: 'Em Progresso', value: 'in_progress' }, { label: 'Concluda', value: 'completed' }, { label: 'Cancelada', value: 'cancelled' }, ];\r\n\r\n  const handleSearchUsers = async () => {\r\n    if (assignedToSearch.trim().length < 3) { setFoundUsers([]); return; }\r\n    setIsSearchingUsers(true);\r\n    try {\r\n      const usersRef = query(dbRef(FIREBASE_DB, 'users'), orderByChild('name'));\r\n      const snapshot = await get(usersRef);\r\n      let users = [];\r\n      if (snapshot.exists()) {\r\n        snapshot.forEach(childSnapshot => {\r\n          const uData = childSnapshot.val();\r\n          if (uData.name && uData.name.toLowerCase().includes(assignedToSearch.toLowerCase())) {\r\n            if (!assignedUsers[childSnapshot.key]) {\r\n                 users.push({ id: childSnapshot.key, name: uData.name, email: uData.email, avatarUrl: uData.profileImageUrl });\r\n            }\r\n          }\r\n        });\r\n      }\r\n      setFoundUsers(users);\r\n    } catch (error) { Alert.alert(\"Erro\", \"Falha ao buscar usurios.\")}\r\n    finally { setIsSearchingUsers(false); }\r\n  };\r\n\r\n  const toggleUserAssignment = (user) => {\r\n    setAssignedUsers(prev => {\r\n      const newAssigned = { ...prev };\r\n      if (newAssigned[user.id]) { delete newAssigned[user.id]; }\r\n      else { newAssigned[user.id] = { name: user.name, avatarUrl: user.avatarUrl || null }; }\r\n      return newAssigned;\r\n    });\r\n    setFoundUsers(prev => prev.filter(u => u.id !== user.id));\r\n    setAssignedToSearch('');\r\n  };\r\n\r\n  const handleSaveTask = async () => {\r\n    if (!title.trim()) { Alert.alert('Erro', 'Ttulo da tarefa  obrigatrio.'); return; }\r\n    if (!userData || !userData.uid) { Alert.alert('Erro', 'Usurio no autenticado.'); return; }\r\n    setIsLoadingForm(true);\r\n    const taskData = {\r\n      title: title.trim(), description: description.trim(),\r\n      dueDate: dueDate.toISOString().split('T')[0], priority, status,\r\n      assignedTo: assignedUsers, updatedAt: serverTimestamp(),\r\n    };\r\n    try {\r\n      if (isEditing && taskId) {\r\n        taskData.createdByUid = existingTask.createdByUid; taskData.createdByName = existingTask.createdByName;\r\n        taskData.createdAt = existingTask.createdAt;\r\n        await update(dbRef(FIREBASE_DB, `tasks/${taskId}`), taskData);\r\n        Alert.alert('Sucesso', 'Tarefa atualizada!');\r\n      } else {\r\n        taskData.createdByUid = userData.uid; taskData.createdByName = userData.name || 'Desconhecido';\r\n        taskData.createdAt = serverTimestamp();\r\n        await push(dbRef(FIREBASE_DB, 'tasks'), taskData);\r\n        Alert.alert('Sucesso', 'Tarefa criada!');\r\n      }\r\n      if (onTaskSaved) onTaskSaved();\r\n      onClose();\r\n    } catch (error) { Alert.alert('Erro', `No foi possvel ${isEditing ? 'atualizar' : 'criar'} a tarefa.`);\r\n    } finally { setIsLoadingForm(false); }\r\n  };\r\n\r\n  return (\r\n    <Modal isVisible={isVisible} onSwipeComplete={formDisabled ? null : onClose} swipeDirection={formDisabled ? [] : ['down']} onBackdropPress={formDisabled ? null : onClose} onModalHide={resetFormFields} style={styles.modal} avoidKeyboard>\r\n      <View style={styles.modalContent}>\r\n        <View style={styles.modalHeader}>\r\n          <Text style={styles.modalTitle}>{isEditing ? 'Editar Tarefa' : 'Nova Tarefa'}</Text>\r\n          <TouchableOpacity onPress={formDisabled ? null : onClose} disabled={formDisabled}>\r\n            <Ionicons name=\"close-outline\" size={28} color={formDisabled ? \"#A0AEC0\" : \"#333\"} />\r\n          </TouchableOpacity>\r\n        </View>\r\n        <ScrollView showsVerticalScrollIndicator={false} keyboardShouldPersistTaps=\"handled\">\r\n          <View style={styles.formContainer}>\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>Ttulo da Tarefa *{reasonDisabled}</Text>\r\n              <TextInput style={[styles.input, formDisabled && styles.disabledInput]} value={title} onChangeText={setTitle} placeholder=\"Ex: Preparar material da aula\" editable={!formDisabled}/>\r\n            </View>\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>Descrio (opcional)</Text>\r\n              <TextInput style={[styles.input, styles.textArea, formDisabled && styles.disabledInput]} value={description} onChangeText={setDescription} placeholder=\"Adicionar detalhes, subtarefas...\" multiline editable={!formDisabled}/>\r\n            </View>\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>Prazo de Concluso *</Text>\r\n              <TouchableOpacity onPress={showDatePicker} style={[styles.datePickerButton, formDisabled && styles.disabledInput]} disabled={formDisabled}>\r\n                 <Ionicons name=\"calendar-outline\" size={20} color={formDisabled ? \"#A0AEC0\" : \"#4A5568\"} style={{marginRight: 10}}/>\r\n                <Text style={[styles.datePickerText, formDisabled && styles.disabledText]}>{dueDate.toLocaleDateString('pt-BR', { day: '2-digit', month: 'long', year: 'numeric' })}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.rowFields}>\r\n                <View style={{flex: 1, marginRight: isEditing ? 10 : 0, zIndex: 2}}>\r\n                    <CustomPicker label=\"Prioridade\" options={priorityOptions} selectedValue={priority} onValueChange={setPriority} disabled={formDisabled}/>\r\n                </View>\r\n                {isEditing && (<View style={{flex: 1, marginLeft: 10, zIndex: 1}}><CustomPicker label=\"Status\" options={statusOptions} selectedValue={status} onValueChange={setStatus} disabled={!isCreator}/></View>)}\r\n            </View>\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>Atribuir para</Text>\r\n               <View style={styles.assignedSearchContainer}>\r\n                <TextInput style={[styles.input, {flex: 1, marginRight: 8}, formDisabled && styles.disabledInput]} value={assignedToSearch} onChangeText={setAssignedToSearch} placeholder=\"Buscar por nome...\" editable={!formDisabled}/>\r\n                <TouchableOpacity onPress={handleSearchUsers} style={[styles.searchUserButton, (isSearchingUsers || formDisabled) && styles.disabledInput]} disabled={isSearchingUsers || formDisabled}>\r\n                    {isSearchingUsers ? <ActivityIndicator color=\"#fff\" size=\"small\"/> : <Ionicons name=\"search-outline\" size={24} color={formDisabled ? \"#A0AEC0\" : \"#fff\"} />}\r\n                </TouchableOpacity>\r\n              </View>\r\n              {foundUsers.length > 0 && (\r\n                <View style={styles.foundUsersListContainer}>\r\n                    <ScrollView nestedScrollEnabled style={{maxHeight: 130}}>\r\n                        {foundUsers.map(item => (\r\n                            <TouchableOpacity key={item.id} style={styles.userToAssignItem} onPress={() => toggleUserAssignment(item)} disabled={formDisabled}>\r\n                                <Text style={styles.userToAssignText}>{item.name} ({item.email})</Text>\r\n                                <Ionicons name={\"square-outline\"} size={22} color=\"#1D854C\" />\r\n                            </TouchableOpacity>\r\n                        ))}\r\n                    </ScrollView>\r\n                </View>\r\n              )}\r\n               {Object.keys(assignedUsers).length > 0 && (\r\n                <View style={styles.assignedUsersChipsContainer}>\r\n                    <Text style={styles.assignedUsersTitle}>Designado(s):</Text>\r\n                    <View style={styles.chipsWrapper}>\r\n                        {Object.entries(assignedUsers).map(([uid, uData]) => (\r\n                            <View key={uid} style={styles.assignedUserChip}>\r\n                                <Text style={styles.assignedUserName}>{uData.name}</Text>\r\n                                <TouchableOpacity onPress={() => toggleUserAssignment({ id: uid, ...uData })} style={{ marginLeft: 6 }} disabled={formDisabled}><Ionicons name=\"close-circle-outline\" size={18} color=\"#D32F2F\" /></TouchableOpacity>\r\n                            </View>\r\n                        ))}\r\n                    </View>\r\n                </View>\r\n              )}\r\n            </View>\r\n            <TouchableOpacity style={[styles.confirmButton, formDisabled && styles.confirmButtonDisabled]} onPress={handleSaveTask} disabled={formDisabled}>\r\n              {isLoadingForm ? <ActivityIndicator color=\"#fff\" /> : <Text style={styles.confirmButtonText}>{isEditing ? 'Salvar Alteraes' : 'Criar Tarefa'}</Text>}\r\n            </TouchableOpacity>\r\n          </View>\r\n        </ScrollView>\r\n        <DateTimePickerModal isVisible={isDatePickerVisible} mode=\"date\" date={dueDate} onConfirm={handleDateConfirm} onCancel={hideDatePicker} minimumDate={new Date(new Date().setDate(new Date().getDate() - 1))}/>\r\n      </View>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  modal: { justifyContent: 'flex-end', margin: 0 },\r\n  modalContent: { backgroundColor: '#FFFFFF', paddingTop: 15, borderTopRightRadius: 25, borderTopLeftRadius: 25, maxHeight: '90%', paddingBottom: Platform.OS === 'ios' ? 30 : 10, },\r\n  modalHeader: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingBottom: 15, paddingHorizontal: 20, marginBottom: 10, },\r\n  modalTitle: { fontSize: 22, fontWeight: 'bold', color: '#1F2937' },\r\n  formContainer: { paddingHorizontal: 20, paddingBottom: 20 },\r\n  inputField: { marginBottom: 20 },\r\n  inputLabel: { fontSize: 15, color: '#4A5568', marginBottom: 8, fontWeight: '500' },\r\n  input: { backgroundColor: '#F7F8FC', borderRadius: 10, minHeight: 52, paddingHorizontal: 15, fontSize: 16, color: '#2D3748', borderWidth: 1, borderColor: '#E2E8F0', paddingVertical: 12, },\r\n  disabledInput: { backgroundColor: '#E5E7EB' },\r\n  disabledText: { color: '#9CA3AF' },\r\n  textArea: { textAlignVertical: 'top', paddingTop: 15, height: 100 },\r\n  datePickerButton: { flexDirection: 'row', alignItems: 'center', backgroundColor: '#F7F8FC', borderRadius: 10, height: 52, paddingHorizontal: 15, borderWidth: 1, borderColor: '#E2E8F0', },\r\n  datePickerText: { fontSize: 16, color: '#2D3748' },\r\n  rowFields: { flexDirection: 'row', justifyContent: 'space-between', marginBottom: 10, },\r\n  confirmButton: { backgroundColor: '#1D854C', borderRadius: 10, height: 52, justifyContent: 'center', alignItems: 'center', marginTop: 25, elevation: 2, },\r\n  confirmButtonDisabled: { backgroundColor: '#A5D6A7' },\r\n  confirmButtonText: { color: '#FFFFFF', fontSize: 17, fontWeight: '600' },\r\n  pickerButton: { backgroundColor: '#F7F8FC', borderRadius: 10, height: 52, paddingHorizontal: 15, borderWidth: 1, borderColor: '#E2E8F0', flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', },\r\n  pickerButtonText: { fontSize: 16, color: '#2D3748' },\r\n  pickerOptionsContainer: { backgroundColor: '#FFFFFF', borderRadius: 8, marginTop: 4, borderColor: '#E2E8F0', borderWidth: 1, elevation: 5, zIndex: 10, position: 'absolute', width: '100%', top: 80, },\r\n  pickerOption: { paddingVertical: 12, paddingHorizontal: 15, borderBottomWidth: 1, borderBottomColor: '#F3F4F6' },\r\n  assignedSearchContainer: { flexDirection: 'row', alignItems: 'center', marginBottom: 10 },\r\n  searchUserButton: { backgroundColor: '#1D854C', paddingHorizontal: 14, borderRadius: 8, justifyContent: 'center', alignItems: 'center', height: 52, },\r\n  foundUsersListContainer: { borderColor: '#E2E8F0', borderWidth: 1, borderRadius: 8, backgroundColor: '#fff', marginTop: 8, },\r\n  userToAssignItem: { paddingVertical: 10, paddingHorizontal: 12, borderBottomWidth: 1, borderBottomColor: '#F3F4F6', flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', },\r\n  userToAssignText: { fontSize: 15, color: '#374151' },\r\n  assignedUsersChipsContainer: { marginTop: 15 },\r\n  assignedUsersTitle: { fontSize: 14, fontWeight: '600', color: '#10502F', marginBottom: 10 },\r\n  chipsWrapper: { flexDirection: 'row', flexWrap: 'wrap' },\r\n  assignedUserChip: { flexDirection: 'row', alignItems: 'center', backgroundColor: '#E0F2FE', borderRadius: 16, paddingVertical: 6, paddingHorizontal: 12, marginRight: 8, marginBottom: 8, },\r\n  assignedUserName: { color: '#0C4A6E', fontWeight: '500', fontSize: 14 },\r\n});","import React, { useState, useEffect, useMemo } from 'react';\r\nimport {\r\n  View, Text, TouchableOpacity, StyleSheet, SafeAreaView,\r\n  StatusBar, FlatList, ActivityIndicator, Alert, Platform, Image\r\n} from 'react-native';\r\nimport { MaterialIcons, Ionicons } from '@expo/vector-icons';\r\nimport { NewTaskModal } from './NewTaskModal';\r\nimport { useAuth } from '../AuthContext';\r\nimport { FIREBASE_DB } from '../firebaseConnection';\r\nimport { ref, onValue, query, orderByChild, update, serverTimestamp, remove as fbRemove } from 'firebase/database';\r\n\r\nconst getPriorityStyle = (priority) => {\r\n    switch(priority) {\r\n      case 'alta': return { color: '#EF4444', name: 'arrow-up-circle-outline' };\r\n      case 'media': return { color: '#F59E0B', name: 'ellipse-outline' };\r\n      case 'baixa': return { color: '#10B981', name: 'arrow-down-circle-outline' };\r\n      default: return { color: '#6B7280', name: 'remove-circle-outline' };\r\n    }\r\n};\r\n\r\nconst getStatusStyle = (status) => {\r\n    switch(status) {\r\n        case 'pending': return { color: '#60A5FA', label: 'Pendente', icon: 'hourglass-outline' };\r\n        case 'in_progress': return { color: '#FBBF24', label: 'Em Progresso', icon: 'sync-circle-outline' };\r\n        case 'completed': return { color: '#34D399', label: 'Concluda', icon: 'checkmark-done-circle-outline' };\r\n        case 'cancelled': return { color: '#F87171', label: 'Cancelada', icon: 'close-circle-outline' };\r\n        default: return { color: '#9CA3AF', label: 'Todas', icon: 'list-outline' };\r\n    }\r\n};\r\n\r\nexport const TarefasScreen = ({ navigation }) => {\r\n  const { userData } = useAuth();\r\n  const [viewType, setViewType] = useState('pending');\r\n  const [allTasks, setAllTasks] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isModalVisible, setModalVisible] = useState(false);\r\n  const [selectedTask, setSelectedTask] = useState(null);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!userData || !userData.uid) {\r\n      setIsLoading(false); setAllTasks([]); return;\r\n    }\r\n    setIsLoading(true);\r\n    const tasksRef = query(ref(FIREBASE_DB, 'tasks'), orderByChild('createdAt'));\r\n    const unsubscribe = onValue(tasksRef, (snapshot) => {\r\n      const loadedTasks = [];\r\n      if (snapshot.exists()) {\r\n        snapshot.forEach(childSnapshot => {\r\n          const task = { id: childSnapshot.key, ...childSnapshot.val() };\r\n          if (task.createdByUid === userData.uid || (task.assignedTo && task.assignedTo[userData.uid])) {\r\n            loadedTasks.push(task);\r\n          }\r\n        });\r\n      }\r\n      setAllTasks(loadedTasks.sort((a, b) => (b.createdAt || 0) - (a.createdAt || 0)));\r\n      setIsLoading(false);\r\n    }, (error) => {\r\n      Alert.alert(\"Erro\", \"No foi possvel carregar as tarefas.\"); setIsLoading(false);\r\n    });\r\n    return () => unsubscribe();\r\n  }, [userData]);\r\n\r\n  const filteredTasks = useMemo(() => {\r\n    if (viewType === 'all') return allTasks.filter(task => task.status !== 'cancelled');\r\n    return allTasks.filter(task => task.status === viewType);\r\n  }, [allTasks, viewType]);\r\n\r\n  const handleOpenTaskModal = (task = null) => {\r\n    setSelectedTask(task);\r\n    setModalVisible(true);\r\n  };\r\n\r\n  const quickToggleStatus = async (task) => {\r\n    if (!task || !task.id) return;\r\n    let newStatus;\r\n    if (task.status === 'pending') newStatus = 'in_progress';\r\n    else if (task.status === 'in_progress') newStatus = 'completed';\r\n    else if (task.status === 'completed') newStatus = 'pending';\r\n    else return;\r\n    try {\r\n        await update(ref(FIREBASE_DB, `tasks/${task.id}`), { status: newStatus, updatedAt: serverTimestamp() });\r\n    } catch (error) { Alert.alert(\"Erro\", \"Falha ao atualizar status.\"); }\r\n  };\r\n\r\n  const handleDeleteTask = async (taskToDelete) => {\r\n    if (!taskToDelete || taskToDelete.createdByUid !== userData?.uid) {\r\n        Alert.alert(\"Ao no permitida\", \"Voc s pode excluir tarefas que voc criou.\"); return;\r\n    }\r\n    Alert.alert(\"Confirmar Excluso\", `Excluir a tarefa \"${taskToDelete.title}\"?`,\r\n        [ { text: \"Cancelar\", style: \"cancel\" },\r\n          { text: \"Excluir\", style: \"destructive\", onPress: async () => {\r\n                setIsDeleting(true);\r\n                try {\r\n                    await fbRemove(ref(FIREBASE_DB, `tasks/${taskToDelete.id}`));\r\n                    Alert.alert(\"Sucesso\", \"Tarefa excluda.\");\r\n                } catch (error) { Alert.alert(\"Erro\", \"No foi possvel excluir a tarefa.\"); }\r\n                finally { setIsDeleting(false); }\r\n            }}\r\n        ], { cancelable: true }\r\n    );\r\n  };\r\n\r\n  const renderTarefaCard = ({ item }) => {\r\n    const priorityStyle = getPriorityStyle(item.priority);\r\n    const statusStyle = getStatusStyle(item.status);\r\n    const canModify = item.createdByUid === userData?.uid || (item.assignedTo && item.assignedTo[userData.uid]);\r\n    const canDelete = item.createdByUid === userData?.uid;\r\n    const isCancelled = item.status === 'cancelled';\r\n    const isCompleted = item.status === 'completed';\r\n\r\n    return (\r\n        <TouchableOpacity style={[taskStyles.tarefaCard, (isCompleted || isCancelled) && taskStyles.tarefaCardDisabled]} activeOpacity={0.8} onPress={() => handleOpenTaskModal(item)} onLongPress={canDelete ? () => handleDeleteTask(item) : null}>\r\n            <View style={taskStyles.cardHeader}>\r\n                <TouchableOpacity style={taskStyles.statusIndicatorButton} onPress={() => canModify && quickToggleStatus(item)} disabled={!canModify || isDeleting || isCancelled}>\r\n                    <Ionicons name={statusStyle.icon} size={26} color={canModify ? statusStyle.color : '#B0BEC5'} />\r\n                </TouchableOpacity>\r\n                <Text style={[taskStyles.tarefaTitle, (isCompleted || isCancelled) && taskStyles.tarefaTitleDisabled]} numberOfLines={2}>\r\n                    {item.title}\r\n                </Text>\r\n                <View style={[taskStyles.priorityIndicator, { borderColor: priorityStyle.color, backgroundColor: `${priorityStyle.color}20` }]}>\r\n                    <Ionicons name={priorityStyle.name} size={18} color={priorityStyle.color} />\r\n                </View>\r\n            </View>\r\n            {item.description ? (<Text style={taskStyles.tarefaDescription} numberOfLines={2}>{item.description}</Text>) : null}\r\n            <View style={taskStyles.cardFooter}>\r\n                <View style={taskStyles.dueDateContainer}>\r\n                    <Ionicons name=\"calendar-outline\" size={15} color=\"#6B7280\" />\r\n                    <Text style={taskStyles.tarefaDueDate}>Prazo: {item.dueDate ? new Date(item.dueDate + \"T00:00:00\").toLocaleDateString('pt-BR') : 'N/A'}</Text>\r\n                </View>\r\n                {item.assignedTo && Object.keys(item.assignedTo).length > 0 && (\r\n                    <View style={taskStyles.assignedAvatarsContainer}>\r\n                        {Object.entries(item.assignedTo).slice(0, 3).map(([uid, user], index) => (\r\n                            <View key={uid} style={[taskStyles.avatarSmall, { zIndex: 3-index, marginLeft: index > 0 ? -8 : 0 }]}>\r\n                                {user.avatarUrl ? <Image source={{uri: user.avatarUrl}} style={taskStyles.avatarImage} /> : <Text style={taskStyles.avatarInitial}>{user.name ? user.name.charAt(0).toUpperCase() : '?'}</Text>}\r\n                            </View>\r\n                        ))}\r\n                        {Object.keys(item.assignedTo).length > 3 && (<Text style={taskStyles.moreAssignees}>+{Object.keys(item.assignedTo).length - 3}</Text>)}\r\n                    </View>\r\n                )}\r\n            </View>\r\n        </TouchableOpacity>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={taskStyles.container}>\r\n      <StatusBar backgroundColor=\"#1D854C\" barStyle=\"light-content\" />\r\n      <View style={taskStyles.header}>\r\n        <TouchableOpacity onPress={() => navigation.goBack()} style={taskStyles.headerButton}><Ionicons name=\"arrow-back-outline\" size={26} color=\"#FFFFFF\"/></TouchableOpacity>\r\n        <Text style={taskStyles.headerTitle}>Gerenciar Tarefas</Text>\r\n        <View style={{width: 38}} />\r\n      </View>\r\n      <View style={taskStyles.viewTypeContainer}>\r\n        {['pending', 'in_progress', 'completed', 'all'].map(type => (\r\n            <TouchableOpacity key={type} style={[taskStyles.viewTypeButton, viewType === type && taskStyles.viewTypeButtonActive]} onPress={() => setViewType(type)}>\r\n                <Text style={[taskStyles.viewTypeText, viewType === type && taskStyles.viewTypeTextActive]}>{getStatusStyle(type).label}</Text>\r\n            </TouchableOpacity>\r\n        ))}\r\n      </View>\r\n\r\n      {isLoading && !filteredTasks.length ? (\r\n         <View style={taskStyles.fullScreenLoader}><ActivityIndicator size=\"large\" color=\"#1D854C\" /><Text style={taskStyles.loadingText}>Carregando tarefas...</Text></View>\r\n      ) : (\r\n        <FlatList\r\n          data={filteredTasks} renderItem={renderTarefaCard} keyExtractor={item => item.id.toString()} contentContainerStyle={taskStyles.tarefasList}\r\n          ListEmptyComponent={() => {\r\n            const labelForEmpty = viewType === 'all' ? 'tarefas ativas' : getStatusStyle(viewType).label.toLowerCase();\r\n            return (\r\n                <View style={taskStyles.emptyStateContainer}>\r\n                    <Ionicons name=\"file-tray-stacked-outline\" size={60} color=\"#CBD5E0\" />\r\n                    <Text style={taskStyles.emptyStateText}>Nenhuma tarefa encontrada</Text>\r\n                    <Text style={taskStyles.emptyStateSubText}>{allTasks.length === 0 ? \"Crie a primeira tarefa no boto '+'.\" : `No h ${labelForEmpty} no momento.`}</Text>\r\n                </View>\r\n            );\r\n          }}\r\n        />\r\n      )}\r\n      <TouchableOpacity style={[taskStyles.addButton, isDeleting && taskStyles.buttonDisabled]} onPress={() => !isDeleting && handleOpenTaskModal()} disabled={isDeleting}>\r\n        {isDeleting ? <ActivityIndicator color=\"#FFFFFF\" /> : <MaterialIcons name=\"add\" size={32} color=\"#FFFFFF\" />}\r\n      </TouchableOpacity>\r\n      <NewTaskModal isVisible={isModalVisible} onClose={() => { setModalVisible(false); setSelectedTask(null); }} onTaskSaved={() => {}} existingTask={selectedTask}/>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst taskStyles = StyleSheet.create({\r\n  container: { flex: 1, backgroundColor: '#F9FAFB' },\r\n  header: { height: 60, backgroundColor: '#1D854C', flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', paddingHorizontal: 12, elevation: 4, },\r\n  headerButton: { padding: 10 },\r\n  headerTitle: { fontSize: 20, color: '#FFFFFF', fontWeight: '600' },\r\n  viewTypeContainer: { flexDirection: 'row', justifyContent: 'space-around', paddingVertical: 12, paddingHorizontal: 10, backgroundColor: '#FFFFFF', borderBottomWidth: 1, borderBottomColor: '#E5E7EB', },\r\n  viewTypeButton: { paddingVertical: 8, paddingHorizontal: 12, borderRadius: 20, backgroundColor: '#F3F4F6', },\r\n  viewTypeButtonActive: { backgroundColor: '#D1FAE5' }, \r\n  viewTypeText: { fontSize: 14, color: '#374151', fontWeight: '500' }, \r\n  viewTypeTextActive: { color: '#065F46', fontWeight: '600' },\r\n  fullScreenLoader: { flex: 1, justifyContent: 'center', alignItems: 'center', },\r\n  loadingText: { marginTop: 10, fontSize: 16, color: '#1D854C', },\r\n  tarefasList: { paddingHorizontal: 16, paddingTop: 16, paddingBottom: 90 },\r\n  tarefaCard: { backgroundColor: '#FFFFFF', borderRadius: 12, padding: 16, marginBottom: 16, elevation: 2, shadowColor: '#000000', shadowOffset: { width: 0, height: 1 }, shadowOpacity: 0.07, shadowRadius: 4, },\r\n  tarefaCardDisabled: { backgroundColor: '#F9FAFB', },\r\n  cardHeader: { flexDirection: 'row', alignItems: 'center', marginBottom: 10, },\r\n  statusIndicatorButton: { paddingRight: 10, },\r\n  tarefaTitle: { flex: 1, fontSize: 17, fontWeight: '600', color: '#1F2937', },\r\n  tarefaTitleDisabled: { textDecorationLine: 'line-through', color: '#9CA3AF', fontWeight: '500', },\r\n  priorityIndicator: { marginLeft: 10, padding: 6, borderRadius: 18, borderWidth: 1.5, },\r\n  tarefaDescription: { fontSize: 14, color: '#4B5563', marginBottom: 12, lineHeight: 20, },\r\n  cardFooter: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingTop: 10, borderTopWidth: 1, borderTopColor: '#F3F4F6', },\r\n  dueDateContainer: { flexDirection: 'row', alignItems: 'center', },\r\n  tarefaDueDate: { fontSize: 13, color: '#6B7280', marginLeft: 6, },\r\n  assignedAvatarsContainer: { flexDirection: 'row', alignItems: 'center', },\r\n  avatarSmall: { width: 30, height: 30, borderRadius: 15, backgroundColor: '#E0E7FF', justifyContent: 'center', alignItems: 'center', borderWidth: 1.5, borderColor: '#FFFFFF', },\r\n  avatarImage: { width: '100%', height: '100%', borderRadius: 15, },\r\n  avatarInitial: { color: '#4338CA', fontSize: 13, fontWeight: 'bold' }, \r\n  moreAssignees: { fontSize: 12, color: '#6B7280', marginLeft: -4, backgroundColor: '#F3F4F6', paddingHorizontal: 6, paddingVertical: 3, borderRadius: 10},\r\n  emptyStateContainer: { flex: 1, alignItems: 'center', justifyContent: 'center', padding: 20, marginTop: 40 },\r\n  emptyStateText: { marginTop: 16, fontSize: 17, fontWeight: '500', color: '#6B7280', textAlign: 'center' },\r\n  emptyStateSubText: { marginTop: 8, fontSize: 14, color: '#9CA3AF', textAlign: 'center', lineHeight: 20 },\r\n  addButton: { position: 'absolute', right: 20, bottom: 25, width: 60, height: 60, borderRadius: 30, backgroundColor: '#1D854C', justifyContent: 'center', alignItems: 'center', elevation: 6, shadowColor: '#052e16', shadowOffset: { width: 0, height: 3 }, shadowOpacity: 0.3, shadowRadius: 4, },\r\n  buttonDisabled: { backgroundColor: '#A5D6A7', }\r\n});","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  View, Text, TextInput, TouchableOpacity, StyleSheet,\r\n  ScrollView, Platform, Alert, ActivityIndicator\r\n} from 'react-native';\r\nimport Modal from 'react-native-modal';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport * as DocumentPicker from 'expo-document-picker';\r\nimport { FIREBASE_DB, FIREBASE_STORAGE } from '../firebaseConnection';\r\nimport { ref as dbRef, push, serverTimestamp, query, orderByChild, get, update as fbUpdate, remove as fbRemove } from 'firebase/database';\r\nimport { ref as storageRefFn, uploadBytesResumable, getDownloadURL, deleteObject } from 'firebase/storage';\r\nimport { useAuth } from '../AuthContext';\r\n\r\nconst TagInput = ({ tags, onTagsChange, disabled }) => {\r\n  const [currentTag, setCurrentTag] = useState('');\r\n  const handleAddTag = () => {\r\n    if (currentTag.trim() && !tags.includes(currentTag.trim().toLowerCase())) {\r\n      onTagsChange([...tags, currentTag.trim().toLowerCase()]);\r\n      setCurrentTag('');\r\n    }\r\n  };\r\n  const handleRemoveTag = (tagToRemove) => {\r\n    onTagsChange(tags.filter(tag => tag !== tagToRemove));\r\n  };\r\n  return (\r\n    <View>\r\n      <View style={styles.tagInputContainer}>\r\n        <TextInput\r\n          style={[styles.input, { flex: 1, marginRight: 10, backgroundColor: disabled ? '#E5E7EB' : '#F7F8FC' }]}\r\n          value={currentTag} onChangeText={setCurrentTag} placeholder=\"Adicionar tag (ex: relatrio)\"\r\n          placeholderTextColor=\"#A0AEC0\" onSubmitEditing={handleAddTag} returnKeyType=\"done\" editable={!disabled}\r\n        />\r\n        <TouchableOpacity onPress={handleAddTag} style={styles.addTagButton} disabled={disabled}>\r\n          <Ionicons name=\"add-circle-outline\" size={28} color={disabled ? \"#A0AEC0\" : \"#1D854C\"} />\r\n        </TouchableOpacity>\r\n      </View>\r\n      <View style={styles.tagsDisplayContainer}>\r\n        {tags.map(tag => (\r\n          <View key={tag} style={styles.tagChip}>\r\n            <Text style={styles.tagText}>{tag}</Text>\r\n            <TouchableOpacity onPress={() => !disabled && handleRemoveTag(tag)} style={{ marginLeft: 5 }} disabled={disabled}>\r\n              <Ionicons name=\"close-circle\" size={18} color=\"#FFFFFF\" />\r\n            </TouchableOpacity>\r\n          </View>\r\n        ))}\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport const NewFileModal = ({ isVisible, onClose, onFileSaved, existingFile }) => {\r\n  const { userData } = useAuth();\r\n  const [fileId, setFileId] = useState(null);\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [tags, setTags] = useState([]);\r\n  const [file, setFile] = useState(null);\r\n  const [existingFileUrl, setExistingFileUrl] = useState(null);\r\n  const [existingFileName, setExistingFileName] = useState('');\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [isLoadingForm, setIsLoadingForm] = useState(false);\r\n  const [permissionsSearch, setPermissionsSearch] = useState('');\r\n  const [foundUsers, setFoundUsers] = useState([]);\r\n  const [selectedPermissions, setSelectedPermissions] = useState({});\r\n  const [isSearchingUsers, setIsSearchingUsers] = useState(false);\r\n  const isEditing = !!existingFile;\r\n\r\n  useEffect(() => {\r\n    if (isVisible) {\r\n      if (isEditing && existingFile) {\r\n        setFileId(existingFile.id);\r\n        setTitle(existingFile.title || '');\r\n        setDescription(existingFile.description || '');\r\n        setTags(existingFile.tags || []);\r\n        setFile(null);\r\n        setExistingFileUrl(existingFile.fileUrl);\r\n        setExistingFileName(existingFile.fileName || 'Arquivo existente');\r\n        const currentPermissions = {};\r\n        if(existingFile.permissions){\r\n            Object.entries(existingFile.permissions).forEach(([uid, permData]) => {\r\n                currentPermissions[uid] = permData;\r\n            });\r\n        }\r\n        setSelectedPermissions(currentPermissions);\r\n      } else {\r\n        resetFormFields();\r\n      }\r\n      setFoundUsers([]);\r\n      setPermissionsSearch('');\r\n      setUploadProgress(0);\r\n      setIsUploading(false);\r\n    }\r\n  }, [isVisible, existingFile, isEditing, userData]);\r\n\r\n  const resetFormFields = () => {\r\n    setFileId(null); setTitle(''); setDescription(''); setTags([]); setFile(null);\r\n    setExistingFileUrl(null); setExistingFileName(''); setUploadProgress(0);\r\n    setIsUploading(false); setIsLoadingForm(false); setPermissionsSearch(''); setFoundUsers([]);\r\n    if (userData && userData.uid && userData.name) {\r\n      setSelectedPermissions({ [userData.uid]: { name: userData.name, type: 'owner' } });\r\n    } else {\r\n      setSelectedPermissions({});\r\n    }\r\n  };\r\n\r\n  const pickDocument = async () => {\r\n    if (isUploading || isLoadingForm) return;\r\n    try {\r\n      const result = await DocumentPicker.getDocumentAsync({ type: '*/*', copyToCacheDirectory: true });\r\n      if (!result.canceled && result.assets && result.assets.length > 0) {\r\n        const pickedAsset = result.assets[0];\r\n        if (pickedAsset.size > 15 * 1024 * 1024) { Alert.alert(\"Arquivo Muito Grande\", \"Selecione um arquivo menor que 15MB.\"); setFile(null); return; }\r\n        setFile(pickedAsset);\r\n        setExistingFileName(''); \r\n        setExistingFileUrl(null);\r\n      }\r\n    } catch (e) { Alert.alert('Erro', 'No foi possvel selecionar o arquivo.');}\r\n  };\r\n\r\n  const handleSearchUsers = async () => {\r\n    if (permissionsSearch.trim().length < 3) { setFoundUsers([]); return; }\r\n    setIsSearchingUsers(true);\r\n    try {\r\n      const usersRef = query(dbRef(FIREBASE_DB, 'users'), orderByChild('name'));\r\n      const snapshot = await get(usersRef);\r\n      let users = [];\r\n      if (snapshot.exists()) {\r\n        snapshot.forEach(childSnapshot => {\r\n          const uData = childSnapshot.val();\r\n          if (uData.name && uData.name.toLowerCase().includes(permissionsSearch.toLowerCase())) {\r\n            if (childSnapshot.key !== userData.uid && !selectedPermissions[childSnapshot.key]) {\r\n                 users.push({ id: childSnapshot.key, name: uData.name, email: uData.email });\r\n            }\r\n          }\r\n        });\r\n      }\r\n      setFoundUsers(users);\r\n    } catch (error) { Alert.alert(\"Erro\", \"Falha ao buscar usurios.\"); }\r\n    finally { setIsSearchingUsers(false); }\r\n  };\r\n\r\n  const toggleUserPermission = (user) => {\r\n    setSelectedPermissions(prev => {\r\n      const newPerms = { ...prev };\r\n      if (newPerms[user.id]) {\r\n        if (prev[user.id]?.type !== 'owner') { delete newPerms[user.id]; }\r\n      } else { newPerms[user.id] = { name: user.name, type: 'view' }; }\r\n      return newPerms;\r\n    });\r\n    setFoundUsers(prev => prev.filter(u => u.id !== user.id));\r\n    setPermissionsSearch('');\r\n  };\r\n\r\n  const handleDeleteFile = () => {\r\n    if (!isEditing || !fileId || existingFile.uploadedByUid !== userData?.uid) return;\r\n\r\n    Alert.alert(\"Confirmar Excluso\", `Tem certeza que deseja excluir o arquivo \"${title}\"? Esta ao no pode ser desfeita.`,\r\n        [{ text: \"Cancelar\", style: \"cancel\" }, {\r\n            text: \"Excluir\", style: \"destructive\",\r\n            onPress: async () => {\r\n                setIsLoadingForm(true);\r\n                try {\r\n                    if (existingFile.fileStoragePath) {\r\n                        await deleteObject(storageRefFn(FIREBASE_STORAGE, existingFile.fileStoragePath));\r\n                    }\r\n                    await fbRemove(dbRef(FIREBASE_DB, `sharedFiles/${fileId}`));\r\n                    Alert.alert(\"Sucesso\", \"Arquivo excludo.\");\r\n                    onClose();\r\n                } catch (error) {\r\n                    Alert.alert(\"Erro\", \"No foi possvel excluir o arquivo.\");\r\n                } finally {\r\n                    setIsLoadingForm(false);\r\n                }\r\n            },\r\n        }],\r\n    );\r\n  };\r\n\r\n  const handleSaveFile = async () => {\r\n    if (!title.trim()) { Alert.alert('Erro', 'Ttulo  obrigatrio.'); return; }\r\n    if (!isEditing && !file) { Alert.alert('Erro', 'Selecione um arquivo.'); return; }\r\n    if (!userData || !userData.uid) { Alert.alert('Erro', 'Usurio no autenticado.'); return; }\r\n    setIsLoadingForm(true);\r\n    const fileMetadata = {\r\n        title: title.trim(), description: description.trim(),\r\n        tags: tags, permissions: selectedPermissions, updatedAt: serverTimestamp(),\r\n    };\r\n    const processSave = async (finalMetadata) => {\r\n        try {\r\n            if (isEditing && fileId) {\r\n                await fbUpdate(dbRef(FIREBASE_DB, `sharedFiles/${fileId}`), finalMetadata);\r\n                Alert.alert('Sucesso', 'Arquivo atualizado!');\r\n            } else {\r\n                finalMetadata.uploadedByUid = userData.uid;\r\n                finalMetadata.uploadedByName = userData.name || 'Desconhecido';\r\n                finalMetadata.createdAt = serverTimestamp();\r\n                await push(dbRef(FIREBASE_DB, 'sharedFiles'), finalMetadata);\r\n                Alert.alert('Sucesso', 'Arquivo enviado!');\r\n            }\r\n            if(onFileSaved) onFileSaved(); onClose(); \r\n        } catch (error) { Alert.alert('Erro', `No foi possvel ${isEditing ? 'atualizar' : 'enviar'} o arquivo.`);\r\n        } finally { setIsLoadingForm(false); setIsUploading(false); }\r\n    };\r\n\r\n    if (file) {\r\n        setIsUploading(true); setUploadProgress(0);\r\n        try {\r\n            const response = await fetch(file.uri);\r\n            const blob = await response.blob();\r\n            if (isEditing && existingFile?.fileStoragePath) {\r\n                try { await deleteObject(storageRefFn(FIREBASE_STORAGE, existingFile.fileStoragePath)); }\r\n                catch (delError) { console.warn(\"Falha ao deletar arquivo antigo:\", delError); }\r\n            }\r\n            const fileExtension = file.name.split('.').pop();\r\n            const newStoragePath = `sharedFiles/${userData.uid}/${Date.now()}_${title.replace(/\\s+/g, '_') || 'arquivo'}.${fileExtension}`;\r\n            const fileStoreRef = storageRefFn(FIREBASE_STORAGE, newStoragePath);\r\n            const uploadTask = uploadBytesResumable(fileStoreRef, blob, { contentType: file.mimeType });\r\n            uploadTask.on('state_changed', \r\n                (snapshot) => setUploadProgress(Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100)),\r\n                (error) => { Alert.alert('Erro de Upload', 'Falha no envio.'); setIsUploading(false); setIsLoadingForm(false); },\r\n                async () => {\r\n                    fileMetadata.fileUrl = await getDownloadURL(uploadTask.snapshot.ref);\r\n                    fileMetadata.fileName = file.name;\r\n                    fileMetadata.fileType = file.mimeType || 'application/octet-stream';\r\n                    fileMetadata.fileSize = file.size;\r\n                    fileMetadata.fileStoragePath = newStoragePath;\r\n                    await processSave(fileMetadata);\r\n                }\r\n            );\r\n        } catch (error) { Alert.alert('Erro', 'Falha ao preparar o envio.'); setIsLoadingForm(false); setIsUploading(false); }\r\n    } else if (isEditing) {\r\n        fileMetadata.fileUrl = existingFile.fileUrl; fileMetadata.fileName = existingFile.fileName;\r\n        fileMetadata.fileType = existingFile.fileType; fileMetadata.fileSize = existingFile.fileSize;\r\n        fileMetadata.fileStoragePath = existingFile.fileStoragePath;\r\n        fileMetadata.uploadedByUid = existingFile.uploadedByUid; fileMetadata.uploadedByName = existingFile.uploadedByName;\r\n        fileMetadata.createdAt = existingFile.createdAt;\r\n        await processSave(fileMetadata);\r\n    } else { setIsLoadingForm(false); }\r\n  };\r\n  \r\n  const currentActionText = isEditing ? 'Salvar Alteraes' : 'Adicionar Arquivo';\r\n  const formDisabled = isUploading || isLoadingForm;\r\n\r\n  return (\r\n    <Modal isVisible={isVisible} onSwipeComplete={formDisabled ? null : onClose} swipeDirection={formDisabled ? [] : ['down']} onBackdropPress={formDisabled ? null : onClose} onModalHide={resetFormFields} style={styles.modal} avoidKeyboard>\r\n      <View style={styles.modalContent}>\r\n        <View style={styles.modalHeader}>\r\n          <Text style={styles.modalTitle}>{isEditing ? 'Editar Documento' : 'Novo Documento'}</Text>\r\n          <TouchableOpacity onPress={formDisabled ? null : onClose} disabled={formDisabled}>\r\n            <Ionicons name=\"close-outline\" size={28} color={formDisabled ? \"#A0AEC0\" : \"#333\"} />\r\n          </TouchableOpacity>\r\n        </View>\r\n        <ScrollView showsVerticalScrollIndicator={false} keyboardShouldPersistTaps=\"handled\">\r\n          <View style={styles.formContainer}>\r\n            <View style={styles.inputField}><Text style={styles.inputLabel}>Ttulo do Documento *</Text><TextInput style={[styles.input, formDisabled && styles.disabledBg]} value={title} onChangeText={setTitle} placeholder=\"Ex: Relatrio Semestral\" editable={!formDisabled}/></View>\r\n            <View style={styles.inputField}><Text style={styles.inputLabel}>Descrio (opcional)</Text><TextInput style={[styles.input, styles.textArea, formDisabled && styles.disabledBg]} value={description} onChangeText={setDescription} placeholder=\"Detalhes sobre o arquivo...\" multiline numberOfLines={3} editable={!formDisabled}/></View>\r\n            <View style={styles.inputField}><Text style={styles.inputLabel}>Tags</Text><TagInput tags={tags} onTagsChange={setTags} disabled={formDisabled} /></View>\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>{isEditing && existingFileName && !file ? 'Arquivo Atual' : 'Selecionar Arquivo *'}</Text>\r\n              <TouchableOpacity onPress={pickDocument} style={[styles.filePickerButton, formDisabled && styles.disabledBg]} disabled={formDisabled}>\r\n                <Ionicons name=\"document-attach-outline\" size={22} color={(file || existingFileUrl) ? \"#1D854C\" : (formDisabled ? \"#A0AEC0\" : \"#555\")} />\r\n                <Text style={[styles.filePickerText, (file || existingFileUrl) && styles.filePickerTextSelected, formDisabled && styles.disabledText]}>{file ? file.name : (existingFileName || 'Clique para selecionar')}</Text>\r\n              </TouchableOpacity>\r\n              {file && !isUploading && (<TouchableOpacity onPress={() => !formDisabled && setFile(null)} style={styles.removeFileButton} disabled={formDisabled}><Text style={[styles.removeFileText, formDisabled && styles.disabledText]}>Limpar</Text></TouchableOpacity>)}\r\n              {isUploading && (<View style={styles.uploadProgressContainer}><Text style={styles.uploadProgressText}>Enviando: {uploadProgress}%</Text><View style={styles.progressBarBackground}><View style={[styles.progressBarForeground, { width: `${uploadProgress}%` }]} /></View></View>)}\r\n            </View>\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>Permisses de Acesso</Text>\r\n               <View style={styles.guestSearchContainer}>\r\n                <TextInput style={[styles.input, {flex: 1, marginRight: 8}, formDisabled && styles.disabledBg]} value={permissionsSearch} onChangeText={setPermissionsSearch} placeholder=\"Buscar usurio por nome...\" editable={!formDisabled}/>\r\n                <TouchableOpacity onPress={handleSearchUsers} style={[styles.searchButton, formDisabled && styles.disabledBg]} disabled={isSearchingUsers || formDisabled}>\r\n                    {isSearchingUsers ? <ActivityIndicator color=\"#fff\" size=\"small\"/> : <Ionicons name=\"search-outline\" size={24} color={formDisabled ? \"#A0AEC0\" : \"#fff\"} />}\r\n                </TouchableOpacity>\r\n              </View>\r\n              {foundUsers.length > 0 && (\r\n                <View style={styles.foundUsersList}>\r\n                    <ScrollView nestedScrollEnabled style={{maxHeight: 120}}>\r\n                        {foundUsers.map(item => (\r\n                            <TouchableOpacity key={item.id} style={styles.userItem} onPress={() => toggleUserPermission(item)} disabled={formDisabled}>\r\n                                <Text style={styles.userItemText}>{item.name} ({item.email})</Text>\r\n                                <Ionicons name={\"square-outline\"} size={22} color=\"#1D854C\" />\r\n                            </TouchableOpacity>\r\n                        ))}\r\n                    </ScrollView>\r\n                </View>\r\n              )}\r\n               {Object.keys(selectedPermissions).length > 0 && (\r\n                <View style={styles.selectedPermissionsContainer}>\r\n                    <Text style={styles.selectedPermissionsTitle}>Acesso Permitido para:</Text>\r\n                    <View style={styles.chipsWrapper}>\r\n                    {Object.entries(selectedPermissions).map(([uid, permData]) => (\r\n                        <View key={uid} style={styles.selectedPermissionChip}>\r\n                            <Text style={styles.selectedPermissionName}>{permData.name}</Text>\r\n                            <Text style={styles.selectedPermissionType}>({permData.type === 'owner' ? 'Prop.' : 'Ver'})</Text>\r\n                            {permData.type !== 'owner' && ( <TouchableOpacity onPress={() => toggleUserPermission({ id: uid, name: permData.name })} style={{ marginLeft: 6 }} disabled={formDisabled}><Ionicons name=\"close-circle-outline\" size={18} color=\"#D32F2F\" /></TouchableOpacity>)}\r\n                        </View>\r\n                    ))}\r\n                    </View>\r\n                </View>\r\n              )}\r\n            </View>\r\n            <TouchableOpacity style={[styles.confirmButton, formDisabled && styles.confirmButtonDisabled]} onPress={handleSaveFile} disabled={formDisabled}>\r\n              {(isUploading || isLoadingForm) ? <ActivityIndicator color=\"#fff\" /> : <Text style={styles.confirmButtonText}>{currentActionText}</Text>}\r\n            </TouchableOpacity>\r\n            {isEditing && existingFile.uploadedByUid === userData?.uid && (\r\n                <TouchableOpacity style={[styles.deleteButton, formDisabled && styles.confirmButtonDisabled]} onPress={handleDeleteFile} disabled={formDisabled}>\r\n                    <Ionicons name=\"trash-outline\" size={20} color=\"#b91c1c\" />\r\n                    <Text style={styles.deleteButtonText}>Excluir Documento</Text>\r\n                </TouchableOpacity>\r\n            )}\r\n          </View>\r\n        </ScrollView>\r\n      </View>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  modal: { justifyContent: 'flex-end', margin: 0 },\r\n  modalContent: { backgroundColor: '#FFFFFF', paddingTop: 15, borderTopRightRadius: 25, borderTopLeftRadius: 25, maxHeight: '90%', paddingBottom: Platform.OS === 'ios' ? 30 : 10, },\r\n  modalHeader: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingBottom: 15, paddingHorizontal: 20, marginBottom: 10, },\r\n  modalTitle: { fontSize: 22, fontWeight: 'bold', color: '#1F2937' },\r\n  formContainer: { paddingHorizontal: 20, paddingBottom: 20 },\r\n  inputField: { marginBottom: 20 },\r\n  inputLabel: { fontSize: 15, color: '#4A5568', marginBottom: 8, fontWeight: '500' },\r\n  input: { backgroundColor: '#F7F8FC', borderRadius: 10, minHeight: 52, paddingHorizontal: 15, fontSize: 16, color: '#2D3748', borderWidth: 1, borderColor: '#E2E8F0', paddingVertical: 12, },\r\n  disabledBg: { backgroundColor: '#E5E7EB', },\r\n  disabledText: { color: '#9CA3AF', },\r\n  textArea: { textAlignVertical: 'top', paddingTop: 15, height: 100 },\r\n  filePickerButton: { flexDirection: 'row', alignItems: 'center', backgroundColor: '#F0F4FF', borderRadius: 10, paddingVertical: 15, paddingHorizontal: 15, borderWidth: 1, borderColor: '#D6E0FF', justifyContent: 'center', },\r\n  filePickerText: { fontSize: 16, color: '#4A5C9B', marginLeft: 10, flexShrink: 1 },\r\n  filePickerTextSelected: { color: '#1D854C', fontWeight: '500' },\r\n  removeFileButton: { marginTop: 10, alignSelf: 'flex-end'},\r\n  removeFileText: { color: '#EF4444', fontSize: 14, fontWeight: '500' },\r\n  uploadProgressContainer: { marginTop: 12 },\r\n  uploadProgressText: { fontSize: 13, color: '#374151', marginBottom: 6, textAlign: 'center' },\r\n  progressBarBackground: { height: 10, backgroundColor: '#E5E7EB', borderRadius: 5, overflow: 'hidden' },\r\n  progressBarForeground: { height: '100%', backgroundColor: '#1D854C', borderRadius: 5 },\r\n  confirmButton: { backgroundColor: '#1D854C', borderRadius: 10, height: 52, justifyContent: 'center', alignItems: 'center', marginTop: 25, elevation: 2, },\r\n  confirmButtonDisabled: { backgroundColor: '#A5D6A7' },\r\n  confirmButtonText: { color: '#FFFFFF', fontSize: 17, fontWeight: '600' },\r\n  deleteButton: { flexDirection: 'row', alignItems: 'center', justifyContent: 'center', borderRadius: 10, height: 50, borderWidth: 1.5, marginBottom: 12, marginTop: 15, borderColor: '#dc2626', backgroundColor: '#fef2f2' },\r\n  deleteButtonText: { marginLeft: 8, fontSize: 16, fontWeight: '600', color: '#b91c1c' },\r\n  tagInputContainer: { flexDirection: 'row', alignItems: 'center', marginBottom: 10 },\r\n  addTagButton: { padding: 6 },\r\n  tagsDisplayContainer: { flexDirection: 'row', flexWrap: 'wrap' },\r\n  tagChip: { flexDirection: 'row', backgroundColor: '#1D854C', borderRadius: 16, paddingVertical: 7, paddingHorizontal: 12, marginRight: 8, marginBottom: 8, alignItems: 'center', },\r\n  tagText: { color: '#FFFFFF', fontSize: 13, fontWeight: '500' },\r\n  guestSearchContainer: { flexDirection: 'row', alignItems: 'center', marginBottom: 12 },\r\n  searchButton: { backgroundColor: '#1D854C', paddingHorizontal: 14, borderRadius: 8, justifyContent: 'center', alignItems: 'center', height: 52, },\r\n  foundUsersList: { borderColor: '#E2E8F0', borderWidth: 1, borderRadius: 8, backgroundColor: '#fff', marginTop: 8, },\r\n  userItem: { paddingVertical: 10, paddingHorizontal: 12, borderBottomWidth: 1, borderBottomColor: '#F3F4F6', flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', },\r\n  userItemText: { fontSize: 15, color: '#374151'},\r\n  selectedPermissionsContainer: { marginTop: 15, padding: 12, backgroundColor: '#E8F5E9', borderRadius: 8 },\r\n  selectedPermissionsTitle: { fontSize: 14, fontWeight: '600', color: '#10502F', marginBottom: 10 },\r\n  chipsWrapper: { flexDirection: 'row', flexWrap: 'wrap' },\r\n  selectedPermissionChip: { flexDirection: 'row', alignItems: 'center', backgroundColor: '#FFFFFF', borderRadius: 16, paddingVertical: 6, paddingHorizontal: 12, marginRight: 8, marginBottom: 8, borderWidth: 1, borderColor: '#A7F3D0', alignSelf: 'flex-start', },\r\n  selectedPermissionName: { color: '#065F46', fontWeight: '500', fontSize: 14 },\r\n  selectedPermissionType: { color: '#047857', fontSize: 12, marginLeft: 4},\r\n});","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  View, Text, TouchableOpacity, StyleSheet, SafeAreaView, Platform,\r\n  StatusBar, FlatList, ActivityIndicator, Alert, Linking, ScrollView\r\n} from 'react-native';\r\nimport { MaterialIcons, Ionicons } from '@expo/vector-icons';\r\nimport { NewFileModal } from './NewFileModal';\r\nimport { useAuth } from '../AuthContext';\r\nimport { FIREBASE_DB } from '../firebaseConnection';\r\nimport { ref, onValue, query, orderByChild } from 'firebase/database';\r\n\r\nconst formatBytes = (bytes, decimals = 2) => {\r\n    if (!bytes || bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const dm = decimals < 0 ? 0 : decimals;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n};\r\n\r\nconst getFileIcon = (fileType) => {\r\n    if (!fileType) return 'document-text-outline';\r\n    fileType = fileType.toLowerCase();\r\n    if (fileType.startsWith('image/')) return 'image-outline';\r\n    if (fileType.startsWith('video/')) return 'videocam-outline';\r\n    if (fileType.startsWith('audio/')) return 'musical-notes-outline';\r\n    if (fileType === 'application/pdf') return 'document-outline';\r\n    if (fileType.includes('presentation') || fileType.includes('powerpoint')) return 'easel-outline';\r\n    if (fileType.includes('spreadsheet') || fileType.includes('excel')) return 'stats-chart-outline';\r\n    if (fileType.includes('word') || fileType.includes('document')) return 'document-text-outline';\r\n    if (fileType.includes('zip') || fileType.includes('archive')) return 'archive-outline';\r\n    return 'document-attach-outline';\r\n};\r\n\r\nexport const ArquivosScreen = ({ navigation }) => {\r\n  const { userData } = useAuth();\r\n  const [viewType, setViewType] = useState('meusArquivos');\r\n  const [myFiles, setMyFiles] = useState([]);\r\n  const [sharedWithMeFiles, setSharedWithMeFiles] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isModalVisible, setModalVisible] = useState(false);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!userData || !userData.uid) {\r\n      setIsLoading(false); setMyFiles([]); setSharedWithMeFiles([]);\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    const filesRef = query(ref(FIREBASE_DB, 'sharedFiles'), orderByChild('uploadedAt'));\r\n    const unsubscribe = onValue(filesRef, (snapshot) => {\r\n      const loadedMyFiles = [];\r\n      const loadedSharedFiles = [];\r\n      if (snapshot.exists()) {\r\n        snapshot.forEach(childSnapshot => {\r\n          const file = { id: childSnapshot.key, ...childSnapshot.val() };\r\n          if (file.uploadedByUid === userData.uid) {\r\n            loadedMyFiles.push(file);\r\n          } \r\n          else if (file.permissions && file.permissions[userData.uid] && file.uploadedByUid !== userData.uid) {\r\n            loadedSharedFiles.push(file);\r\n          }\r\n        });\r\n      }\r\n      setMyFiles(loadedMyFiles.sort((a, b) => (b.uploadedAt || 0) - (a.uploadedAt || 0)));\r\n      setSharedWithMeFiles(loadedSharedFiles.sort((a, b) => (b.uploadedAt || 0) - (a.uploadedAt || 0)));\r\n      setIsLoading(false);\r\n    }, (error) => {\r\n      console.error(\"Erro ao carregar arquivos:\", error);\r\n      Alert.alert(\"Erro\", \"No foi possvel carregar os arquivos.\");\r\n      setIsLoading(false);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [userData]);\r\n\r\n  const handleOpenFile = async (fileUrl, fileName) => {\r\n    if (!fileUrl) { Alert.alert(\"Erro\", \"URL do arquivo no disponvel.\"); return; }\r\n    try {\r\n        const supported = await Linking.canOpenURL(fileUrl);\r\n        if (supported) { await Linking.openURL(fileUrl); } \r\n        else { Alert.alert(\"Ao no Suportada\", `No  possvel abrir \"${fileName}\".`); }\r\n    } catch (error) { Alert.alert(\"Erro\", \"Ocorreu um erro ao tentar abrir o arquivo.\"); }\r\n  };\r\n\r\n  const handleOpenModal = (file = null) => {\r\n    setSelectedFile(file);\r\n    setModalVisible(true);\r\n  };\r\n\r\n  const renderArquivoCard = ({ item }) => {\r\n    const canEditOrDelete = item.uploadedByUid === userData?.uid;\r\n    const fileIconName = getFileIcon(item.fileType);\r\n\r\n    return (\r\n        <TouchableOpacity style={fileStyles.arquivoCard} activeOpacity={0.8} onPress={() => handleOpenFile(item.fileUrl, item.fileName)}>\r\n            <View style={fileStyles.arquivoIconContainer}>\r\n                <Ionicons name={fileIconName} size={28} color=\"#1D854C\" />\r\n            </View>\r\n            <View style={fileStyles.arquivoInfo}>\r\n                <Text style={fileStyles.arquivoTitle} numberOfLines={1}>{item.title}</Text>\r\n                <Text style={fileStyles.arquivoDetails} numberOfLines={1}>{item.fileName} ({formatBytes(item.fileSize || 0)})</Text>\r\n                <Text style={fileStyles.arquivoDate}>Por: {item.uploadedByName || 'Desconhecido'} em {new Date(item.uploadedAt || Date.now()).toLocaleDateString('pt-BR')}</Text>\r\n                {item.tags && item.tags.length > 0 && (\r\n                    <ScrollView horizontal showsHorizontalScrollIndicator={false} style={fileStyles.tagsScrollContainer}>\r\n                        <View style={fileStyles.tagsContainer}>\r\n                            {item.tags.map(tag => (<View key={tag} style={fileStyles.tagChipMini}><Text style={fileStyles.tagTextMini}>{tag}</Text></View>))}\r\n                        </View>\r\n                    </ScrollView>\r\n                )}\r\n            </View>\r\n            {canEditOrDelete && (\r\n                <View style={fileStyles.actionIconsContainer}>\r\n                    <TouchableOpacity onPress={() => handleOpenModal(item)} style={fileStyles.actionIconTouch}>\r\n                        <Ionicons name=\"ellipsis-vertical\" size={22} color=\"#6B7280\" />\r\n                    </TouchableOpacity>\r\n                </View>\r\n            )}\r\n        </TouchableOpacity>\r\n    );\r\n  };\r\n  \r\n  const filesToDisplay = viewType === 'meusArquivos' ? myFiles : sharedWithMeFiles;\r\n\r\n  return (\r\n    <SafeAreaView style={fileStyles.container}>\r\n      <StatusBar backgroundColor=\"#1D854C\" barStyle=\"light-content\" />\r\n      <View style={fileStyles.header}>\r\n        <TouchableOpacity onPress={() => navigation.goBack()} style={fileStyles.headerButton}><Ionicons name=\"arrow-back-outline\" size={26} color=\"#FFFFFF\"/></TouchableOpacity>\r\n        <Text style={fileStyles.headerTitle}>Documentos</Text>\r\n        <View style={{width: 38}} /> \r\n      </View>\r\n      <View style={fileStyles.viewTypeContainer}>\r\n        <TouchableOpacity style={[fileStyles.viewTypeButton, viewType === 'meusArquivos' && fileStyles.viewTypeButtonActive]} onPress={() => setViewType('meusArquivos')}>\r\n          <Ionicons name=\"folder-outline\" size={18} color={viewType === 'meusArquivos' ? '#065F46' : '#374151'} style={{marginRight: 6}}/>\r\n          <Text style={[fileStyles.viewTypeText, viewType === 'meusArquivos' && fileStyles.viewTypeTextActive]}>Meus Arquivos</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity style={[fileStyles.viewTypeButton, viewType === 'compartilhadosComigo' && fileStyles.viewTypeButtonActive]} onPress={() => setViewType('compartilhadosComigo')}>\r\n          <Ionicons name=\"people-outline\" size={18} color={viewType === 'compartilhadosComigo' ? '#065F46' : '#374151'} style={{marginRight: 6}}/>\r\n          <Text style={[fileStyles.viewTypeText, viewType === 'compartilhadosComigo' && fileStyles.viewTypeTextActive]}>Compartilhados</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {isLoading && !filesToDisplay.length ? (\r\n        <View style={fileStyles.fullScreenLoader}><ActivityIndicator size=\"large\" color=\"#1D854C\" /><Text style={fileStyles.loadingText}>Carregando...</Text></View>\r\n      ) : (\r\n        <FlatList\r\n          data={filesToDisplay}\r\n          renderItem={renderArquivoCard}\r\n          keyExtractor={item => item.id.toString()}\r\n          contentContainerStyle={fileStyles.arquivosList}\r\n          ListEmptyComponent={() => (\r\n            <View style={fileStyles.emptyStateContainer}>\r\n                <Ionicons name=\"file-tray-outline\" size={60} color=\"#CBD5E0\" />\r\n                <Text style={fileStyles.emptyStateText}>{viewType === 'meusArquivos' ? 'Voc ainda no tem arquivos.' : 'Nenhum arquivo compartilhado.'}</Text>\r\n                {viewType === 'meusArquivos' && <Text style={fileStyles.emptyStateSubText}>Use o boto '+' para adicionar.</Text>}\r\n            </View>\r\n          )}\r\n        />\r\n      )}\r\n      <TouchableOpacity style={[fileStyles.addButton, isDeleting && fileStyles.buttonDisabled]} onPress={() => !isDeleting && handleOpenModal()} disabled={isDeleting}>\r\n        {isDeleting ? <ActivityIndicator color=\"#FFFFFF\" /> : <MaterialIcons name=\"add\" size={32} color=\"#FFFFFF\" />}\r\n      </TouchableOpacity>\r\n      <NewFileModal isVisible={isModalVisible} onClose={() => { setModalVisible(false); setSelectedFile(null); }} onFileSaved={() => {}} existingFile={selectedFile}/>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst fileStyles = StyleSheet.create({\r\n  container: { flex: 1, backgroundColor: '#F9FAFB' },\r\n  header: { height: 60, backgroundColor: '#1D854C', flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', paddingHorizontal: 12, elevation: 4, },\r\n  headerButton: { padding: 10 },\r\n  headerTitle: { fontSize: 20, color: '#FFFFFF', fontWeight: '600' },\r\n  viewTypeContainer: { flexDirection: 'row', justifyContent: 'center', paddingVertical: 12, paddingHorizontal: 16, backgroundColor: '#FFFFFF', borderBottomWidth: 1, borderBottomColor: '#E5E7EB', },\r\n  viewTypeButton: { flexDirection: 'row', alignItems: 'center', paddingVertical: 10, paddingHorizontal: 20, borderRadius: 25, marginHorizontal: 8, backgroundColor: '#F3F4F6', },\r\n  viewTypeButtonActive: { backgroundColor: '#D1FAE5' }, \r\n  viewTypeText: { fontSize: 15, color: '#374151', fontWeight: '500' },\r\n  viewTypeTextActive: { color: '#065F46', fontWeight: '600' }, \r\n  fullScreenLoader: { flex: 1, justifyContent: 'center', alignItems: 'center', },\r\n  loadingText: { marginTop: 10, fontSize: 16, color: '#1D854C', },\r\n  arquivosList: { paddingHorizontal: 16, paddingTop: 16, paddingBottom: 90 },\r\n  arquivoCard: { backgroundColor: '#FFFFFF', borderRadius: 12, paddingVertical: 12, paddingHorizontal: 16, marginBottom: 16, flexDirection: 'row', alignItems: 'center', elevation: 2, shadowColor: '#000000', shadowOffset: { width: 0, height: 1 }, shadowOpacity: 0.06, shadowRadius: 4, },\r\n  arquivoIconContainer: { width: 44, height: 44, borderRadius: 8, backgroundColor: '#E8F5E9', justifyContent: 'center', alignItems: 'center', marginRight: 12, },\r\n  arquivoInfo: { flex: 1, marginRight: 8 }, \r\n  arquivoTitle: { fontSize: 16, fontWeight: '600', color: '#1F2937', marginBottom: 3 }, \r\n  arquivoDetails: { fontSize: 12, color: '#6B7280', marginBottom: 2 }, \r\n  arquivoDate: { fontSize: 11, color: '#9CA3AF', marginBottom: 5 }, \r\n  tagsScrollContainer: { maxHeight: 28, marginTop: 2, },\r\n  tagsContainer: { flexDirection: 'row' }, \r\n  tagChipMini: { backgroundColor: '#E0E7FF', borderRadius: 10, paddingVertical: 3, paddingHorizontal: 8, marginRight: 5, },\r\n  tagTextMini: { color: '#4338CA', fontSize: 10, fontWeight: '500' }, \r\n  actionIconsContainer: { paddingLeft: 8, },\r\n  actionIconTouch: { padding: 8, },\r\n  emptyStateContainer: { flex: 1, alignItems: 'center', justifyContent: 'center', padding: 20, marginTop: 40 },\r\n  emptyStateText: { marginTop: 16, fontSize: 17, fontWeight: '500', color: '#6B7280', textAlign: 'center' },\r\n  emptyStateSubText: { marginTop: 8, fontSize: 14, color: '#9CA3AF', textAlign: 'center', lineHeight: 20 },\r\n  addButton: { position: 'absolute', right: 20, bottom: 25, width: 60, height: 60, borderRadius: 30, backgroundColor: '#1D854C', justifyContent: 'center', alignItems: 'center', elevation: 6, shadowColor: '#052e16', shadowOffset: { width: 0, height: 3 }, shadowOpacity: 0.3, shadowRadius: 4, },\r\n  buttonDisabled: { backgroundColor: '#A5D6A7', }\r\n});","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  View, Text, TextInput, TouchableOpacity, StyleSheet,\r\n  ScrollView, Platform, Alert, ActivityIndicator\r\n} from 'react-native';\r\nimport Modal from 'react-native-modal';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport DateTimePickerModal from 'react-native-modal-datetime-picker';\r\nimport { FIREBASE_DB } from '../firebaseConnection';\r\nimport { ref as dbRef, push, update, serverTimestamp, query, orderByChild, get } from 'firebase/database';\r\nimport { useAuth } from '../AuthContext';\r\n\r\nconst CustomPicker = ({ label, options, selectedValue, onValueChange, disabled }) => {\r\n  const [showOptions, setShowOptions] = useState(false);\r\n  const selectedOptionObject = options.find(opt => opt.value === selectedValue);\r\n  return (\r\n    <View style={[styles.inputField, { zIndex: showOptions ? 10 : 1 }]}> \r\n      <Text style={styles.inputLabel}>{label}</Text>\r\n      <TouchableOpacity onPress={() => !disabled && setShowOptions(!showOptions)} style={[styles.pickerButton, disabled && styles.disabledInput]}>\r\n        <Text style={[styles.pickerButtonText, disabled && styles.disabledText]}>\r\n          {selectedOptionObject ? selectedOptionObject.label : 'Selecione...'}\r\n        </Text>\r\n        <Ionicons name={showOptions ? \"chevron-up-outline\" : \"chevron-down-outline\"} size={22} color={disabled ? \"#A0AEC0\" : \"#555\"} />\r\n      </TouchableOpacity>\r\n      {showOptions && !disabled && (\r\n        <View style={styles.pickerOptionsContainer}>\r\n          {options.map(option => (\r\n            <TouchableOpacity key={option.value} style={styles.pickerOption} onPress={() => { onValueChange(option.value); setShowOptions(false); }}>\r\n              <Text>{option.label}</Text>\r\n            </TouchableOpacity>\r\n          ))}\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport const NewEventModal = ({ isVisible, onClose, onEventSaved, existingEvent }) => { \r\n  const { userData } = useAuth(); \r\n\r\n  const [eventId, setEventId] = useState(null);\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [status, setStatus] = useState('active');\r\n  const [date, setDate] = useState(new Date());\r\n  const [time, setTime] = useState(new Date());\r\n  const [isDatePickerVisible, setDatePickerVisibility] = useState(false);\r\n  const [isTimePickerVisible, setTimePickerVisibility] = useState(false);\r\n  const [eventType, setEventType] = useState('presencial');\r\n  const [location, setLocation] = useState('');\r\n  const [guestsSearch, setGuestsSearch] = useState('');\r\n  const [foundUsers, setFoundUsers] = useState([]);\r\n  const [selectedGuests, setSelectedGuests] = useState({}); \r\n  const [isLoadingForm, setIsLoadingForm] = useState(false);\r\n  const [isSearchingUsers, setIsSearchingUsers] = useState(false);\r\n\r\n  const isEditing = !!existingEvent;\r\n  const isCreator = isEditing && existingEvent?.createdBy === userData?.uid;\r\n  const formDisabled = isLoadingForm || status !== 'active';\r\n  const reasonDisabled = status === 'concluded' ? ' (Evento Concludo)' : status === 'cancelled' ? ' (Evento Cancelado)' : '';\r\n\r\n  useEffect(() => {\r\n    if (isVisible) { \r\n      if (isEditing && existingEvent) {\r\n        setEventId(existingEvent.id);\r\n        setTitle(existingEvent.title || '');\r\n        setDescription(existingEvent.description || ''); \r\n        setStatus(existingEvent.status || 'active');\r\n        setDate(existingEvent.date ? new Date(existingEvent.date + \"T00:00:00\") : new Date()); \r\n        if (existingEvent.time) {\r\n            const [hours, minutes] = existingEvent.time.split(':');\r\n            const newTime = new Date(); newTime.setHours(parseInt(hours, 10)); newTime.setMinutes(parseInt(minutes, 10)); setTime(newTime);\r\n        } else { setTime(new Date()); }\r\n        setEventType(existingEvent.isOnline ? 'online' : 'presencial');\r\n        setLocation(existingEvent.location || '');\r\n        const attendeesFormatted = {};\r\n        if (existingEvent.attendees) {\r\n            Object.entries(existingEvent.attendees).forEach(([uid, guestData]) => {\r\n                attendeesFormatted[uid] = { name: guestData.name, avatarUrl: guestData.avatarUrl || null };\r\n            });\r\n        }\r\n        setSelectedGuests(attendeesFormatted);\r\n      } else { \r\n        resetFormFields(); \r\n      }\r\n      setFoundUsers([]); \r\n      setGuestsSearch(''); \r\n    }\r\n  }, [isVisible, existingEvent, isEditing, userData]); \r\n\r\n  const resetFormFields = () => {\r\n    setEventId(null); setTitle(''); setDescription(''); setStatus('active');\r\n    setDate(new Date()); const now = new Date(); now.setMinutes(Math.ceil(now.getMinutes() / 15) * 15); setTime(now);\r\n    setEventType('presencial'); setLocation(''); setGuestsSearch(''); setFoundUsers([]); setIsLoadingForm(false);\r\n    if (userData && userData.uid && userData.name) {\r\n      setSelectedGuests({ [userData.uid]: { name: userData.name, avatarUrl: userData.profileImageUrl || null } });\r\n    } else { setSelectedGuests({}); }\r\n  };\r\n\r\n  const showDatePicker = () => setDatePickerVisibility(true);\r\n  const hideDatePicker = () => setDatePickerVisibility(false);\r\n  const handleDateConfirm = (selectedDate) => { setDate(selectedDate); hideDatePicker(); };\r\n  const showTimePicker = () => setTimePickerVisibility(true);\r\n  const hideTimePicker = () => setTimePickerVisibility(false);\r\n  const handleTimeConfirm = (selectedTime) => { setTime(selectedTime); hideTimePicker(); };\r\n\r\n  const handleSearchUsers = async () => {\r\n    if (guestsSearch.trim().length < 3) { setFoundUsers([]); return; }\r\n    setIsSearchingUsers(true);\r\n    try {\r\n      const usersRef = query(dbRef(FIREBASE_DB, 'users'), orderByChild('name'));\r\n      const snapshot = await get(usersRef);\r\n      const users = [];\r\n      if (snapshot.exists()) {\r\n        snapshot.forEach(childSnapshot => {\r\n          const uData = childSnapshot.val();\r\n          if (uData.name && uData.name.toLowerCase().includes(guestsSearch.toLowerCase())) {\r\n            if (childSnapshot.key !== userData.uid && !selectedGuests[childSnapshot.key]) {\r\n                 users.push({ id: childSnapshot.key, name: uData.name, email: uData.email, avatarUrl: uData.profileImageUrl || null });\r\n            }\r\n          }\r\n        });\r\n      }\r\n      setFoundUsers(users);\r\n    } catch (error) { console.error(\"Erro ao buscar usurios:\", error); Alert.alert(\"Erro\", \"Falha ao buscar usurios.\");}\r\n    finally { setIsSearchingUsers(false); }\r\n  };\r\n\r\n  const toggleGuestSelection = (user) => {\r\n    setSelectedGuests(prev => {\r\n        const newGuests = {...prev};\r\n        if (newGuests[user.id]) { delete newGuests[user.id]; } \r\n        else { newGuests[user.id] = { name: user.name, avatarUrl: user.avatarUrl || null }; }\r\n        return newGuests;\r\n    });\r\n    setFoundUsers(prev => prev.filter(u => u.id !== user.id));\r\n    setGuestsSearch('');\r\n  };\r\n\r\n  const handleSaveEvent = async () => {\r\n    if (!title.trim()) { Alert.alert('Campo Obrigatrio', 'Por favor, preencha o ttulo do evento.'); return; }\r\n    if (!location.trim() && eventType === 'presencial') { Alert.alert('Campo Obrigatrio', 'Informe o local/sala.'); return; }\r\n    if (!userData || !userData.uid) { Alert.alert('Erro', 'Usurio no autenticado.'); return; }\r\n\r\n    setIsLoadingForm(true);\r\n    const eventData = {\r\n      title: title.trim(),\r\n      description: description.trim(),\r\n      date: date.toISOString().split('T')[0],\r\n      time: time.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' }),\r\n      isOnline: eventType === 'online',\r\n      location: location.trim(),\r\n      attendees: selectedGuests,\r\n      updatedAt: serverTimestamp(),\r\n    };\r\n\r\n    try {\r\n      if (isEditing && eventId) {\r\n        eventData.createdBy = existingEvent.createdBy;\r\n        eventData.creatorName = existingEvent.creatorName;\r\n        eventData.createdAt = existingEvent.createdAt;\r\n        eventData.status = existingEvent.status || 'active';\r\n        await update(dbRef(FIREBASE_DB, `events/${eventId}`), eventData);\r\n        Alert.alert('Sucesso', 'Evento atualizado!');\r\n      } else {\r\n        eventData.createdBy = userData.uid;\r\n        eventData.creatorName = userData.name || 'Desconhecido';\r\n        eventData.createdAt = serverTimestamp();\r\n        eventData.status = 'active';\r\n        await push(dbRef(FIREBASE_DB, 'events'), eventData);\r\n        Alert.alert('Sucesso', 'Evento criado!');\r\n      }\r\n      if(onEventSaved) onEventSaved();\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Erro ao salvar evento:', error);\r\n      Alert.alert('Erro', `No foi possvel ${isEditing ? 'atualizar' : 'criar'} o evento.`);\r\n    } finally {\r\n      setIsLoadingForm(false);\r\n    }\r\n  };\r\n  \r\n  const handleUpdateStatus = async (newStatus) => {\r\n    if (!isCreator || !eventId) return;\r\n    const actionText = newStatus === 'concluded' ? 'concluir' : 'cancelar';\r\n    const titleText = newStatus === 'concluded' ? 'Concluir Evento' : 'Cancelar Evento';\r\n\r\n    Alert.alert(\r\n      titleText,\r\n      `Tem certeza que deseja ${actionText} este evento?`,\r\n      [\r\n        { text: 'Voltar', style: 'cancel' },\r\n        { \r\n          text: `Sim, ${actionText}`, \r\n          style: newStatus === 'cancelled' ? 'destructive' : 'default',\r\n          onPress: async () => {\r\n            setIsLoadingForm(true);\r\n            try {\r\n              await update(dbRef(FIREBASE_DB, `events/${eventId}`), { status: newStatus, updatedAt: serverTimestamp() });\r\n              Alert.alert('Sucesso!', `Evento marcado como ${newStatus === 'concluded' ? 'concludo' : 'cancelado'}.`);\r\n              if (onEventSaved) onEventSaved();\r\n              onClose();\r\n            } catch (error) {\r\n              Alert.alert('Erro', `No foi possvel ${actionText} o evento.`);\r\n            } finally {\r\n              setIsLoadingForm(false);\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    );\r\n  };\r\n\r\n  const eventTypeOptions = [ { label: 'Presencial', value: 'presencial' }, { label: 'Online', value: 'online' } ];\r\n\r\n  return (\r\n    <Modal\r\n      isVisible={isVisible}\r\n      onSwipeComplete={isLoadingForm ? null : onClose}\r\n      swipeDirection={isLoadingForm ? [] : ['down']}\r\n      onBackdropPress={isLoadingForm ? null : onClose}\r\n      onModalHide={resetFormFields}\r\n      style={styles.modal}\r\n      avoidKeyboard\r\n    >\r\n      <View style={styles.modalContent}>\r\n        <View style={styles.modalHeader}>\r\n          <Text style={styles.modalTitle}>{isEditing ? 'Editar Evento' : 'Novo Evento'}</Text>\r\n          <TouchableOpacity onPress={isLoadingForm ? null : onClose} disabled={isLoadingForm}>\r\n            <Ionicons name=\"close-outline\" size={28} color={isLoadingForm ? \"#A0AEC0\" : \"#333\"} />\r\n          </TouchableOpacity>\r\n        </View>\r\n        <ScrollView showsVerticalScrollIndicator={false} keyboardShouldPersistTaps=\"handled\">\r\n          <View style={styles.formContainer}>\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>Ttulo do Evento *{reasonDisabled}</Text>\r\n              <TextInput style={[styles.input, formDisabled && styles.disabledInput]} value={title} onChangeText={setTitle} editable={!formDisabled} placeholder=\"Ex: Reunio Semanal\" placeholderTextColor=\"#A0AEC0\" />\r\n            </View>\r\n             <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>Descrio</Text>\r\n              <TextInput style={[styles.input, styles.textArea, formDisabled && styles.disabledInput]} value={description} onChangeText={setDescription} multiline numberOfLines={3} editable={!formDisabled} placeholder=\"Detalhes, pauta da reunio...\" placeholderTextColor=\"#A0AEC0\"/>\r\n            </View>\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>Data e Hora *</Text>\r\n              <View style={styles.dateTimeContainer}>\r\n                <TouchableOpacity onPress={showDatePicker} style={[styles.dateTimeInputWrapper, formDisabled && styles.disabledInput]} disabled={formDisabled}>\r\n                  <Ionicons name=\"calendar-outline\" size={20} color={formDisabled ? \"#A0AEC0\" : \"#4A5568\"} style={styles.dateTimeIcon} />\r\n                  <Text style={[styles.dateTimeInputText, formDisabled && styles.disabledText]}>{date.toLocaleDateString('pt-BR')}</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity onPress={showTimePicker} style={[styles.dateTimeInputWrapper, formDisabled && styles.disabledInput]} disabled={formDisabled}>\r\n                  <Ionicons name=\"time-outline\" size={20} color={formDisabled ? \"#A0AEC0\" : \"#4A5568\"} style={styles.dateTimeIcon} />\r\n                  <Text style={[styles.dateTimeInputText, formDisabled && styles.disabledText]}>{time.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' })}</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <CustomPicker label=\"Formato do Encontro *\" options={eventTypeOptions} selectedValue={eventType} onValueChange={setEventType} disabled={formDisabled} />\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>{eventType === 'online' ? 'Link/Plataforma *' : 'Local/Sala *'}</Text>\r\n              <TextInput style={[styles.input, formDisabled && styles.disabledInput]} value={location} onChangeText={setLocation} editable={!formDisabled} placeholder={eventType === 'online' ? 'Ex: Google Meet, Zoom...' : 'Ex: Sala de Reunies 03'} placeholderTextColor=\"#A0AEC0\"/>\r\n            </View>\r\n            <View style={styles.inputField}>\r\n              <Text style={styles.inputLabel}>Convidados</Text>\r\n              <View style={styles.guestSearchContainer}>\r\n                <TextInput style={[styles.input, {flex: 1, marginRight: 8}, formDisabled && styles.disabledInput]} value={guestsSearch} onChangeText={setGuestsSearch} editable={!formDisabled} placeholder=\"Buscar por nome...\" placeholderTextColor=\"#A0AEC0\"/>\r\n                <TouchableOpacity onPress={handleSearchUsers} style={[styles.searchButton, (isSearchingUsers || formDisabled) && styles.disabledInput]} disabled={isSearchingUsers || formDisabled}>\r\n                    {isSearchingUsers ? <ActivityIndicator color=\"#fff\" size=\"small\"/> : <Ionicons name=\"search-outline\" size={24} color={formDisabled ? \"#A0AEC0\" : \"#fff\"} />}\r\n                </TouchableOpacity>\r\n              </View>\r\n              {foundUsers.length > 0 && (\r\n                <View style={styles.foundUsersList}>\r\n                    <ScrollView nestedScrollEnabled style={{maxHeight: 120}}>\r\n                        {foundUsers.map(item => (\r\n                            <TouchableOpacity key={item.id} style={styles.userItem} onPress={() => toggleGuestSelection(item)} disabled={formDisabled}>\r\n                                <Text style={styles.userItemText}>{item.name} ({item.email})</Text>\r\n                                <Ionicons name={\"square-outline\"} size={22} color=\"#1D854C\" />\r\n                            </TouchableOpacity>\r\n                        ))}\r\n                    </ScrollView>\r\n                </View>\r\n              )}\r\n               {Object.keys(selectedGuests).length > 0 && (\r\n                <View style={styles.selectedGuestsContainer}>\r\n                    <Text style={styles.selectedGuestsTitle}>Participantes:</Text>\r\n                    <View style={styles.chipsWrapper}>\r\n                        {Object.entries(selectedGuests).map(([uid, guestData]) => (\r\n                            <View key={uid} style={styles.selectedGuestChip}>\r\n                                <Text style={styles.selectedGuestName}>{guestData.name}</Text>\r\n                                {!(isEditing && uid === existingEvent?.createdBy) && !( !isEditing && uid === userData?.uid ) && (\r\n                                    <TouchableOpacity onPress={() => toggleGuestSelection({ id: uid, ...guestData })} style={{marginLeft: 5}} disabled={formDisabled}>\r\n                                        <Ionicons name=\"close-circle-outline\" size={18} color=\"#D32F2F\" />\r\n                                    </TouchableOpacity>\r\n                                )}\r\n                            </View>\r\n                        ))}\r\n                    </View>\r\n                </View>\r\n              )}\r\n            </View>\r\n            <TouchableOpacity style={[styles.confirmButton, formDisabled && styles.confirmButtonDisabled]} onPress={handleSaveEvent} disabled={formDisabled}>\r\n              {isLoadingForm ? <ActivityIndicator color=\"#fff\" /> : <Text style={styles.confirmButtonText}>{isEditing ? 'Salvar Alteraes' : 'Criar Evento'}</Text> }\r\n            </TouchableOpacity>\r\n            {isCreator && status === 'active' && (\r\n              <View style={styles.actionButtonsContainer}>\r\n                <TouchableOpacity style={[styles.actionButton, styles.concludeButton]} onPress={() => handleUpdateStatus('concluded')} disabled={isLoadingForm}>\r\n                  <Ionicons name=\"checkmark-done-circle-outline\" size={20} color=\"#15803d\" />\r\n                  <Text style={[styles.actionButtonText, {color: '#15803d'}]}>Marcar como Concludo</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={[styles.actionButton, styles.cancelButton]} onPress={() => handleUpdateStatus('cancelled')} disabled={isLoadingForm}>\r\n                  <Ionicons name=\"close-circle-outline\" size={20} color=\"#b91c1c\" />\r\n                  <Text style={[styles.actionButtonText, {color: '#b91c1c'}]}>Cancelar Evento</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          </View>\r\n        </ScrollView>\r\n        <DateTimePickerModal isVisible={isDatePickerVisible} mode=\"date\" date={date} onConfirm={handleDateConfirm} onCancel={hideDatePicker} />\r\n        <DateTimePickerModal isVisible={isTimePickerVisible} mode=\"time\" date={time} onConfirm={handleTimeConfirm} onCancel={hideTimePicker} is24Hour />\r\n      </View>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  modal: { justifyContent: 'flex-end', margin: 0 },\r\n  modalContent: { backgroundColor: '#FFFFFF', paddingTop: 15, borderTopRightRadius: 25, borderTopLeftRadius: 25, maxHeight: '90%', paddingBottom: Platform.OS === 'ios' ? 30 : 10, },\r\n  modalHeader: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingBottom: 15, paddingHorizontal: 20, marginBottom: 10, },\r\n  modalTitle: { fontSize: 22, fontWeight: 'bold', color: '#1F2937' },\r\n  formContainer: { paddingHorizontal: 20, paddingBottom: 20 },\r\n  inputField: { marginBottom: 20 },\r\n  inputLabel: { fontSize: 15, color: '#4A5568', marginBottom: 8, fontWeight: '500' },\r\n  input: { backgroundColor: '#F7F8FC', borderRadius: 10, height: 52, paddingHorizontal: 15, fontSize: 16, color: '#2D3748', borderWidth: 1, borderColor: '#E2E8F0', },\r\n  disabledInput: { backgroundColor: '#E5E7EB' },\r\n  disabledText: { color: '#9CA3AF' },\r\n  textArea: { minHeight: 80, paddingTop: 12, textAlignVertical: 'top', },\r\n  dateTimeContainer: { flexDirection: 'row', justifyContent: 'space-between' },\r\n  dateTimeInputWrapper: { flexDirection: 'row', alignItems: 'center', backgroundColor: '#F7F8FC', borderRadius: 10, height: 52, paddingHorizontal: 12, borderWidth: 1, borderColor: '#E2E8F0', },\r\n  dateInput: { flex: 0.58, marginRight: 8 }, \r\n  timeInput: { flex: 0.38, marginLeft: 8 }, \r\n  dateTimeIcon: { marginRight: 8 },\r\n  dateTimeInputText: { fontSize: 16, color: '#2D3748' },\r\n  confirmButton: { backgroundColor: '#1D854C', borderRadius: 10, height: 52, justifyContent: 'center', alignItems: 'center', marginTop: 10, elevation: 2, },\r\n  confirmButtonDisabled: { backgroundColor: '#A5D6A7' },\r\n  confirmButtonText: { color: '#FFFFFF', fontSize: 17, fontWeight: '600' },\r\n  pickerButton: { backgroundColor: '#F7F8FC', borderRadius: 10, height: 52, paddingHorizontal: 15, borderWidth: 1, borderColor: '#E2E8F0', flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', },\r\n  pickerButtonText: { fontSize: 16, color: '#2D3748' },\r\n  pickerOptionsContainer: { backgroundColor: '#FFFFFF', borderRadius: 8, marginTop: 4, borderColor: '#E2E8F0', borderWidth: 1, elevation: 5, zIndex: 1000, position: 'absolute', width: '100%', top: 80, },\r\n  pickerOption: { paddingVertical: 12, paddingHorizontal: 15, borderBottomWidth: 1, borderBottomColor: '#F3F4F6' },\r\n  guestSearchContainer: { flexDirection: 'row', alignItems: 'center', marginBottom: 10 },\r\n  searchButton: { backgroundColor: '#1D854C', paddingHorizontal: 14, borderRadius: 8, justifyContent: 'center', alignItems: 'center', height: 52, },\r\n  foundUsersList: { borderColor: '#E2E8F0', borderWidth: 1, borderRadius: 8, backgroundColor: '#fff', marginTop: 8, },\r\n  userItem: { paddingVertical: 10, paddingHorizontal: 12, borderBottomWidth: 1, borderBottomColor: '#F3F4F6', flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', },\r\n  userItemText: { fontSize: 15, color: '#374151' },\r\n  selectedGuestsContainer: { marginTop: 15 },\r\n  selectedGuestsTitle: { fontSize: 14, fontWeight: '600', color: '#10502F', marginBottom: 10 },\r\n  chipsWrapper: { flexDirection: 'row', flexWrap: 'wrap' },\r\n  selectedGuestChip: { flexDirection: 'row', alignItems: 'center', backgroundColor: '#E0F2FE', borderRadius: 16, paddingVertical: 6, paddingHorizontal: 12, marginRight: 8, marginBottom: 8, },\r\n  selectedGuestName: { color: '#0C4A6E', fontWeight: '500', fontSize: 14 },\r\n  actionButtonsContainer: { marginTop: 20, borderTopWidth: 1, borderTopColor: '#E5E7EB', paddingTop: 20, },\r\n  actionButton: { flexDirection: 'row', alignItems: 'center', justifyContent: 'center', borderRadius: 10, height: 50, borderWidth: 1.5, marginBottom: 12, },\r\n  actionButtonText: { marginLeft: 8, fontSize: 16, fontWeight: '600', },\r\n  concludeButton: { borderColor: '#16a34a', backgroundColor: '#f0fdf4', },\r\n  cancelButton: { borderColor: '#dc2626', backgroundColor: '#fef2f2', },\r\n});","import React, { useState, useEffect, useMemo } from 'react'; \r\nimport {\r\n  View, Text, TouchableOpacity, StyleSheet, SafeAreaView, Platform,\r\n  StatusBar, ScrollView, FlatList, ActivityIndicator, Alert, Dimensions\r\n} from 'react-native';\r\nimport { MaterialIcons, Ionicons } from '@expo/vector-icons';\r\nimport { Calendar, LocaleConfig } from 'react-native-calendars';\r\nimport { NewEventModal } from './NewEventModal';\r\nimport { useAuth } from '../AuthContext';\r\nimport { FIREBASE_DB } from '../firebaseConnection';\r\nimport { ref, onValue, query, orderByChild } from 'firebase/database';\r\n\r\nLocaleConfig.locales['pt-br'] = {\r\n  monthNames: ['Janeiro', 'Fevereiro', 'Maro', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\r\n  monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],\r\n  dayNames: ['Domingo', 'Segunda', 'Tera', 'Quarta', 'Quinta', 'Sexta', 'Sbado'],\r\n  dayNamesShort: ['DOM', 'SEG', 'TER', 'QUA', 'QUI', 'SEX', 'SB'],\r\n  today: 'Hoje'\r\n};\r\nLocaleConfig.defaultLocale = 'pt-br';\r\n\r\nconst formatDateToYYYYMMDD = (date) => date.toISOString().split('T')[0];\r\nconst screenWidth = Dimensions.get('window').width;\r\n\r\nconst getWeekDays = (currentDateStr) => {\r\n    const week = [];\r\n    const currentDate = new Date(currentDateStr + \"T00:00:00\");\r\n    const dayOfWeek = currentDate.getDay();\r\n    const startDate = new Date(currentDate);\r\n    startDate.setDate(currentDate.getDate() - dayOfWeek);\r\n    const dayNamesToUse = LocaleConfig.locales['pt-br'].dayNamesShort || ['DOM', 'SEG', 'TER', 'QUA', 'QUI', 'SEX', 'SB'];\r\n\r\n    for (let i = 0; i < 7; i++) {\r\n        const day = new Date(startDate);\r\n        day.setDate(startDate.getDate() + i);\r\n        const dayIdx = day.getDay();\r\n        week.push({\r\n            dateString: formatDateToYYYYMMDD(day),\r\n            dayOfMonth: day.getDate(),\r\n            dayNameShort: dayNamesToUse[dayIdx].substring(0,3),\r\n        });\r\n    }\r\n    return week;\r\n};\r\n\r\nexport const AgendaScreen = ({ navigation, route }) => {\r\n  const { userData } = useAuth(); \r\n  const [viewMode, setViewMode] = useState('diario');\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [allEvents, setAllEvents] = useState({});\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isModalVisible, setModalVisible] = useState(false);\r\n  const [headerTitle, setHeaderTitle] = useState(\"Minha Agenda\");\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n\r\n  const selectedDateYYYYMMDD = useMemo(() => formatDateToYYYYMMDD(currentDate), [currentDate]);\r\n  const currentWeekDays = useMemo(() => getWeekDays(selectedDateYYYYMMDD), [selectedDateYYYYMMDD]);\r\n\r\n  useEffect(() => {\r\n    if (route.params?.screenTitle) {\r\n      setHeaderTitle(route.params.screenTitle);\r\n    } else {\r\n        if (viewMode === 'diario') {\r\n            setHeaderTitle(new Date(selectedDateYYYYMMDD + \"T00:00:00\").toLocaleDateString('pt-BR', { month: 'long', year: 'numeric' }));\r\n        } else {\r\n            setHeaderTitle(\"Minha Agenda\");\r\n        }\r\n    }\r\n  }, [route.params, selectedDateYYYYMMDD, viewMode]);\r\n\r\n  useEffect(() => {\r\n    if (!userData || !userData.uid) {\r\n      setIsLoading(false); \r\n      setAllEvents({});\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    const eventsQuery = query(ref(FIREBASE_DB, 'events'), orderByChild('date'));\r\n    const unsubscribe = onValue(eventsQuery, (snapshot) => {\r\n      const loadedEventsByDate = {};\r\n      if (snapshot.exists()) {\r\n        snapshot.forEach(childSnapshot => {\r\n          const event = { id: childSnapshot.key, ...childSnapshot.val() };\r\n          let isRelevant = false;\r\n          if (event.createdBy === userData.uid || (event.attendees && event.attendees[userData.uid])) {\r\n            isRelevant = true;\r\n          }\r\n          if (isRelevant) {\r\n            const eventDate = event.date;\r\n            if (!loadedEventsByDate[eventDate]) {\r\n              loadedEventsByDate[eventDate] = [];\r\n            }\r\n            loadedEventsByDate[eventDate].push(event);\r\n            loadedEventsByDate[eventDate].sort((a,b) => (a.time || \"00:00\").localeCompare(b.time || \"00:00\"));\r\n          }\r\n        });\r\n      }\r\n      setAllEvents(loadedEventsByDate);\r\n      setIsLoading(false);\r\n    }, (error) => {\r\n      console.error(\"Erro ao carregar eventos:\", error);\r\n      Alert.alert(\"Erro\", \"No foi possvel carregar os eventos.\");\r\n      setIsLoading(false);\r\n    });\r\n    return () => unsubscribe(); \r\n  }, [userData]);\r\n\r\n  const eventsForSelectedDate = useMemo(() => {\r\n    return allEvents[selectedDateYYYYMMDD] || [];\r\n  }, [allEvents, selectedDateYYYYMMDD]);\r\n\r\n  const eventsForWeek = useMemo(() => {\r\n    const weekEvents = {};\r\n    currentWeekDays.forEach(day => { weekEvents[day.dateString] = allEvents[day.dateString] || []; });\r\n    return weekEvents;\r\n  }, [allEvents, currentWeekDays]);\r\n\r\n  const markedDatesForCalendar = useMemo(() => {\r\n    const marks = {};\r\n    Object.keys(allEvents).forEach(dateString => {\r\n        if(allEvents[dateString] && allEvents[dateString].length > 0) { \r\n            marks[dateString] = { marked: true, dotColor: '#1D854C' };\r\n        }\r\n    });\r\n    if (marks[selectedDateYYYYMMDD]) {\r\n      marks[selectedDateYYYYMMDD] = { ...marks[selectedDateYYYYMMDD], selected: true, selectedColor: '#1D854C' };\r\n    } else {\r\n      marks[selectedDateYYYYMMDD] = { selected: true, selectedColor: '#1D854C' };\r\n    }\r\n    return marks;\r\n  }, [allEvents, selectedDateYYYYMMDD]);\r\n\r\n  const handleOpenEventModal = (event = null) => {\r\n    setSelectedEvent(event);\r\n    setModalVisible(true);\r\n  };\r\n\r\n  const changeDate = (amount, unit) => {\r\n    const newDate = new Date(currentDate);\r\n    if (unit === 'day') newDate.setDate(newDate.getDate() + amount);\r\n    if (unit === 'week') newDate.setDate(newDate.getDate() + (amount * 7));\r\n    if (unit === 'month') {\r\n        const currentMonth = newDate.getMonth();\r\n        newDate.setMonth(currentMonth + amount);\r\n        if (newDate.getMonth() !== (currentMonth + amount + 12) % 12) { newDate.setDate(0); }\r\n    }\r\n    setCurrentDate(newDate);\r\n  };\r\n\r\n  const onCalendarDayPress = (day) => {\r\n    setCurrentDate(new Date(day.dateString + \"T00:00:00\"));\r\n    setViewMode('diario');\r\n  };\r\n\r\n  const renderEventCard = ({ item, cardStyle }) => {\r\n    const isConcluded = item.status === 'concluded';\r\n    const isCancelled = item.status === 'cancelled';\r\n    const isDisabled = isConcluded || isCancelled;\r\n    let indicatorColor = item.isOnline ? '#3B82F6' : '#10B981';\r\n    if (isConcluded) indicatorColor = '#6B7280';\r\n    if (isCancelled) indicatorColor = '#EF4444';\r\n\r\n    return (\r\n    <TouchableOpacity style={[agendaStyles.eventCard, cardStyle, isDisabled && agendaStyles.eventCardDisabled]} activeOpacity={0.7} onPress={() => handleOpenEventModal(item)}>\r\n      <View style={[agendaStyles.eventIndicator, { backgroundColor: indicatorColor }]} />\r\n      <View style={agendaStyles.eventInfo}>\r\n        <Text style={[agendaStyles.eventTitle, isCancelled && agendaStyles.eventTitleCancelled]} numberOfLines={1}>{item.title}</Text>\r\n        <Text style={agendaStyles.eventDetails}><Ionicons name=\"time-outline\" size={14} color=\"#6B7280\" /> {item.time}</Text>\r\n        <Text style={agendaStyles.eventLocation} numberOfLines={1}><Ionicons name={item.isOnline ? 'videocam-outline' : 'location-outline'} size={14} color=\"#6B7280\" /> {item.location}</Text>\r\n      </View>\r\n      {isConcluded && <Ionicons name=\"checkmark-circle\" size={24} color=\"#16a34a\" style={{marginRight: 4}} />}\r\n      {isCancelled && <Ionicons name=\"remove-circle\" size={24} color=\"#dc2626\" style={{marginRight: 4}} />}\r\n      {!isDisabled && <Ionicons name=\"chevron-forward\" size={20} color=\"#9CA3AF\" />}\r\n    </TouchableOpacity>\r\n  )};\r\n\r\n  const renderDayColumnForWeek = (dayDateString) => {\r\n    const dayEvents = eventsForWeek[dayDateString] || [];\r\n    const dayInfo = currentWeekDays.find(d => d.dateString === dayDateString);\r\n    return (\r\n        <TouchableOpacity key={dayDateString} style={agendaStyles.weekDayColumn} onPress={() => { setCurrentDate(new Date(dayDateString + \"T00:00:00\")); setViewMode('diario'); }} activeOpacity={0.9}>\r\n            <View style={[agendaStyles.weekDayHeader, dayDateString === selectedDateYYYYMMDD && agendaStyles.weekDayHeaderSelected]}>\r\n                <Text style={[agendaStyles.weekDayLabelShort, dayDateString === selectedDateYYYYMMDD && agendaStyles.weekDayLabelSelectedText]}>{dayInfo?.dayNameShort}</Text>\r\n                <Text style={[agendaStyles.weekDayNumber, dayDateString === selectedDateYYYYMMDD && agendaStyles.weekDayNumberSelected]}>{dayInfo?.dayOfMonth}</Text>\r\n            </View>\r\n            <ScrollView nestedScrollEnabled showsVerticalScrollIndicator={false} contentContainerStyle={{paddingBottom: 5, flexGrow: 1}}>\r\n                {dayEvents.length > 0 ? (dayEvents.map(event => renderEventCard({item: event, cardStyle: agendaStyles.weekEventCard }))) \r\n                : (<View style={agendaStyles.weekEmptySlot}><Text style={agendaStyles.weekEmptyText}>-</Text></View>)}\r\n            </ScrollView>\r\n        </TouchableOpacity>\r\n    );\r\n  };\r\n\r\n  const renderContent = () => {\r\n    if (isLoading && !Object.keys(allEvents).length) { return <ActivityIndicator style={{ flex: 1, marginTop: 50 }} size=\"large\" color=\"#1D854C\" />; }\r\n    if (viewMode === 'mensal') {\r\n      return (\r\n        <Calendar\r\n          current={selectedDateYYYYMMDD}\r\n          onDayPress={onCalendarDayPress}\r\n          markedDates={markedDatesForCalendar}\r\n          onMonthChange={(month) => setCurrentDate(new Date(month.dateString + \"T00:00:00\"))}\r\n          monthFormat={'MMMM yyyy'}\r\n          theme={{ calendarBackground: '#FFFFFF', textSectionTitleColor: '#4A5568', selectedDayBackgroundColor: '#1D854C', selectedDayTextColor: '#ffffff', todayTextColor: '#1D854C', dayTextColor: '#1F2937', textDisabledColor: '#D1D5DB', dotColor: '#1D854C', selectedDotColor: '#ffffff', arrowColor: '#1D854C', monthTextColor: '#1D854C', textDayFontWeight: '400', textMonthFontWeight: '600', textDayHeaderFontWeight: '500', textDayFontSize: 16, textMonthFontSize: 18, textDayHeaderFontSize: 14, 'stylesheet.calendar.header': { week: { marginTop: 8, flexDirection: 'row', justifyContent: 'space-around', borderBottomWidth: 1, borderColor: '#E5E7EB', paddingBottom: 10, marginBottom: 8, } } }}\r\n          style={agendaStyles.calendarView}\r\n        />\r\n      );\r\n    }\r\n    if (viewMode === 'semanal') {\r\n      return (\r\n        <View style={{flex: 1}}>\r\n            <View style={agendaStyles.weekNavigation}>\r\n                <TouchableOpacity onPress={() => changeDate(-1, 'week')} style={agendaStyles.weekNavButton}><Ionicons name=\"chevron-back\" size={26} color=\"#1D854C\" /></TouchableOpacity>\r\n                <Text style={agendaStyles.weekNavTitle}>{`${currentWeekDays[0]?.dayOfMonth} ${LocaleConfig.locales['pt-br'].monthNamesShort[new Date(currentWeekDays[0]?.dateString + \"T00:00:00\").getMonth()]} - ${currentWeekDays[6]?.dayOfMonth} ${LocaleConfig.locales['pt-br'].monthNamesShort[new Date(currentWeekDays[6]?.dateString + \"T00:00:00\").getMonth()]}, ${new Date(currentWeekDays[0]?.dateString + \"T00:00:00\").getFullYear()}`}</Text>\r\n                <TouchableOpacity onPress={() => changeDate(1, 'week')} style={agendaStyles.weekNavButton}><Ionicons name=\"chevron-forward\" size={26} color=\"#1D854C\" /></TouchableOpacity>\r\n            </View>\r\n            <ScrollView horizontal showsHorizontalScrollIndicator={false} contentContainerStyle={agendaStyles.weekDaysContainer}>{currentWeekDays.map(day => renderDayColumnForWeek(day.dateString))}</ScrollView>\r\n        </View>\r\n      );\r\n    }\r\n    return (\r\n        <View style={{flex: 1}}>\r\n            <View style={agendaStyles.dayNavigation}>\r\n                <TouchableOpacity onPress={() => changeDate(-1, 'day')} style={agendaStyles.dayNavButton}><Ionicons name=\"chevron-back-outline\" size={24} color=\"#333\" /></TouchableOpacity>\r\n                <TouchableOpacity onPress={() => setViewMode('mensal')}><Text style={agendaStyles.dayNavTitle}>{new Date(selectedDateYYYYMMDD + \"T00:00:00\").toLocaleDateString('pt-BR', { weekday: 'long', day: 'numeric' })}</Text></TouchableOpacity>\r\n                <TouchableOpacity onPress={() => changeDate(1, 'day')} style={agendaStyles.dayNavButton}><Ionicons name=\"chevron-forward-outline\" size={24} color=\"#333\" /></TouchableOpacity>\r\n            </View>\r\n            <FlatList\r\n                data={eventsForSelectedDate}\r\n                renderItem={renderEventCard}\r\n                keyExtractor={item => item.id.toString()}\r\n                ListEmptyComponent={() => (<View style={agendaStyles.emptyStateContainer}><Ionicons name=\"calendar-outline\" size={60} color=\"#CBD5E0\" /><Text style={agendaStyles.emptyStateText}>Sem eventos para este dia.</Text><Text style={agendaStyles.emptyStateSubText}>Relaxe ou adicione um novo evento!</Text></View>)}\r\n                contentContainerStyle={{ flexGrow: 1, paddingBottom: 80 }}\r\n            />\r\n        </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={agendaStyles.container}>\r\n      <StatusBar backgroundColor=\"#1D854C\" barStyle=\"light-content\" />\r\n      <View style={agendaStyles.header}>\r\n        <TouchableOpacity onPress={() => navigation.goBack()} style={agendaStyles.headerButton}><Ionicons name=\"arrow-back-outline\" size={26} color=\"#FFFFFF\"/></TouchableOpacity>\r\n        <Text style={agendaStyles.headerTitle}>{headerTitle}</Text>\r\n        <TouchableOpacity onPress={() => setCurrentDate(new Date())} style={agendaStyles.headerButton}><Ionicons name=\"today-outline\" size={24} color=\"#FFFFFF\" /></TouchableOpacity>\r\n      </View>\r\n      <View style={agendaStyles.viewModeSelector}>\r\n        {['diario', 'semanal', 'mensal'].map(mode => (\r\n          <TouchableOpacity key={mode} style={[agendaStyles.modeButton, viewMode === mode && agendaStyles.modeButtonActive]} onPress={() => setViewMode(mode)}>\r\n            <Text style={[agendaStyles.modeButtonText, viewMode === mode && agendaStyles.modeButtonTextActive]}>{mode.charAt(0).toUpperCase() + mode.slice(1)}</Text>\r\n          </TouchableOpacity>\r\n        ))}\r\n      </View>\r\n      <View style={agendaStyles.content}>{renderContent()}</View>\r\n      {userData && userData.uid && (\r\n        <TouchableOpacity style={agendaStyles.addButton} onPress={() => handleOpenEventModal()}><MaterialIcons name=\"add\" size={32} color=\"#FFFFFF\" /></TouchableOpacity>\r\n      )}\r\n      <NewEventModal\r\n        isVisible={isModalVisible}\r\n        onClose={() => { setModalVisible(false); setSelectedEvent(null); }}\r\n        onEventSaved={() => {}}\r\n        existingEvent={selectedEvent} \r\n      />\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst agendaStyles = StyleSheet.create({\r\n  container: { flex: 1, backgroundColor: '#F9FAFB', },\r\n  header: { height: 60, backgroundColor: '#1D854C', flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', paddingHorizontal: 12, elevation: 4, },\r\n  headerButton: { padding: 10, },\r\n  headerTitle: { fontSize: 20, color: '#FFFFFF', fontWeight: '600', },\r\n  viewModeSelector: { flexDirection: 'row', justifyContent: 'space-around', paddingVertical: 12, paddingHorizontal: 16, backgroundColor: '#FFFFFF', borderBottomWidth: 1, borderBottomColor: '#E5E7EB', },\r\n  modeButton: { paddingVertical: 8, paddingHorizontal: 18, borderRadius: 20, },\r\n  modeButtonActive: { backgroundColor: '#D1FAE5', },\r\n  modeButtonText: { fontSize: 15, color: '#374151', fontWeight: '500', },\r\n  modeButtonTextActive: { color: '#065F46', fontWeight: '600', },\r\n  content: { flex: 1, },\r\n  calendarView: { marginHorizontal: 16, marginTop: 10, borderRadius: 12, },\r\n  dayNavigation: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingVertical: 15, paddingHorizontal: 20, backgroundColor: '#FFFFFF', borderBottomWidth: 1, borderBottomColor: '#E5E7EB', },\r\n  dayNavButton: { padding: 10 }, \r\n  dayNavTitle: { fontSize: 17, fontWeight: '600', color: '#1D854C' },\r\n  weekNavigation: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingVertical: 15, paddingHorizontal: 16, backgroundColor: '#FFFFFF', borderBottomWidth: 1, borderBottomColor: '#E5E7EB', },\r\n  weekNavButton: { padding: 10 },\r\n  weekNavTitle: { fontSize: 16, fontWeight: '600', color: '#1D854C', textAlign: 'center', flex: 1 }, \r\n  weekDaysContainer: { backgroundColor: '#F9FAFB', paddingVertical: 8, paddingHorizontal: 4, },\r\n  weekDayColumn: { width: screenWidth / 3.2, minHeight: 200, marginHorizontal: 5, backgroundColor: '#FFFFFF', borderRadius: 10, elevation: 2, shadowColor: '#000', shadowOpacity: 0.06, shadowRadius: 4, paddingBottom: 8, overflow: 'hidden', },\r\n  weekDayHeader: { paddingVertical: 12, alignItems: 'center', borderBottomWidth: 1, borderBottomColor: '#F3F4F6', backgroundColor: '#F9FAFB', },\r\n  weekDayHeaderSelected: { backgroundColor: '#1D854C', borderTopLeftRadius: 10, borderTopRightRadius: 10, },\r\n  weekDayLabelShort: { fontSize: 13, color: '#6B7280', fontWeight: '500', textTransform: 'uppercase' }, \r\n  weekDayNumber: { fontSize: 18, color: '#1F2937', fontWeight: '600', marginTop: 4 }, \r\n  weekDayNumberSelected: { color: '#FFFFFF' }, \r\n  weekDayLabelSelectedText: { color: '#FFFFFF' },\r\n  weekEventCard: { marginVertical: 6, marginHorizontal: 8, paddingVertical: 10, paddingHorizontal: 10, },\r\n  weekEmptySlot: { flex: 1, alignItems: 'center', justifyContent: 'center', padding: 15, minHeight: 60, },\r\n  weekEmptyText: { color: '#9CA3AF', fontSize: 13, fontStyle: 'italic' }, \r\n  eventCard: { backgroundColor: '#FFFFFF', borderRadius: 10, paddingVertical: 12, paddingHorizontal: 15, marginHorizontal: 16, marginBottom: 14, flexDirection: 'row', alignItems: 'center', elevation: 2, shadowColor: '#000000', shadowOffset: { width: 0, height: 1 }, shadowOpacity: 0.06, shadowRadius: 4, },\r\n  eventCardDisabled: { backgroundColor: '#F9FAFB', opacity: 0.8, },\r\n  eventIndicator: { width: 6, height: 45, borderRadius: 3, marginRight: 15, },\r\n  eventInfo: { flex: 1, marginRight: 8 },\r\n  eventTitle: { fontSize: 16, fontWeight: '600', color: '#1F2937', marginBottom: 5 },\r\n  eventTitleCancelled: { textDecorationLine: 'line-through', color: '#9CA3AF', },\r\n  eventDetails: { fontSize: 13, color: '#4B5563', marginBottom: 3, flexDirection: 'row', alignItems: 'center' },\r\n  eventLocation: { fontSize: 13, color: '#6B7280', flexDirection: 'row', alignItems: 'center' },\r\n  emptyStateContainer: { flex: 1, alignItems: 'center', justifyContent: 'center', padding: 20, marginTop: 30, },\r\n  emptyStateText: { marginTop: 16, fontSize: 17, fontWeight: '500', color: '#6B7280', textAlign: 'center' },\r\n  emptyStateSubText: { marginTop: 8, fontSize: 14, color: '#9CA3AF', textAlign: 'center', lineHeight: 20 },\r\n  addButton: { position: 'absolute', right: 20, bottom: 25, width: 60, height: 60, borderRadius: 30, backgroundColor: '#1D854C', justifyContent: 'center', alignItems: 'center', elevation: 6, shadowColor: '#052e16', shadowOffset: { width: 0, height: 3 }, shadowOpacity: 0.3, shadowRadius: 4, },\r\n});","import React from 'react';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack'; \r\nimport { useAuth } from '../AuthContext';\r\n\r\n// Telas de Autenticao\r\nimport { LoginScreen } from '../screens/LoginScreen';\r\nimport { RegisterScreen } from '../screens/RegisterScreen';\r\nimport { RecoverScreen } from '../screens/RecoverScreen';\r\n\r\n// Telas Principais (Comuns e Admin)\r\nimport { HomeScreen } from '../screens/HomeScreen';\r\nimport { ProfileScreen } from '../screens/ProfileScreen';\r\nimport { NotasScreen } from '../screens/NotasScreen';\r\nimport { TarefasScreen } from '../screens/TarefasScreen';\r\nimport { ArquivosScreen } from '../screens/ArquivosScreen';\r\nimport { AgendaScreen } from '../screens/AgendaScreen';\r\n\r\nimport { View, ActivityIndicator, StyleSheet, StatusBar, Text } from 'react-native';\r\n\r\nconst AuthStack = createNativeStackNavigator();\r\nconst MainAppStack = createNativeStackNavigator();\r\n\r\n// Stack para telas de autenticao\r\nconst AuthScreens = () => (\r\n  <AuthStack.Navigator screenOptions={{ headerShown: false }}>\r\n    <AuthStack.Screen name=\"Login\" component={LoginScreen} />\r\n    <AuthStack.Screen name=\"Register\" component={RegisterScreen} />\r\n    <AuthStack.Screen name=\"Recover\" component={RecoverScreen} />\r\n  </AuthStack.Navigator>\r\n);\r\n\r\nconst AppScreens = () => (\r\n  <MainAppStack.Navigator\r\n    initialRouteName=\"Home\" \r\n    screenOptions={{ headerShown: false }}\r\n  >\r\n    {/* Telas acessveis por todos os usurios logados */}\r\n    <MainAppStack.Screen name=\"Home\" component={HomeScreen} />\r\n    <MainAppStack.Screen name=\"Profile\" component={ProfileScreen} />\r\n    <MainAppStack.Screen name=\"Notas\" component={NotasScreen} />\r\n    <MainAppStack.Screen name=\"Tarefas\" component={TarefasScreen} />\r\n    <MainAppStack.Screen name=\"Arquivos\" component={ArquivosScreen} />\r\n    <MainAppStack.Screen name=\"Agenda\" component={AgendaScreen} />\r\n  </MainAppStack.Navigator>\r\n);\r\n\r\n\r\nconst AppNavigator = () => {\r\n  const { user, userData, isLoadingAuth } = useAuth();\r\n\r\n  if (isLoadingAuth) {\r\n    return (\r\n      <View style={styles.loadingContainer}>\r\n        <StatusBar backgroundColor=\"#1D854C\" barStyle=\"light-content\" />\r\n        <ActivityIndicator size=\"large\" color=\"#1D854C\" />\r\n        <Text style={styles.loadingText}>Carregando Sesso...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <NavigationContainer>\r\n      {user ? ( \r\n        <AppScreens /> \r\n      ) : (\r\n        <AuthScreens />\r\n      )}\r\n    </NavigationContainer>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  loadingContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#FFFFFF', \r\n  },\r\n  loadingText: {\r\n    marginTop: 10,\r\n    fontSize: 16,\r\n    color: '#1D854C',\r\n  },\r\n});\r\n\r\nexport default AppNavigator;","import { registerRootComponent } from 'expo';\n\nimport App from './App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in Expo Go or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n","import React from 'react';\nimport { AuthProvider } from './src/AuthContext';\nimport AppNavigator from './src/navigation/AppNavigator';\n\nexport default function App() {\n  return (\n    <AuthProvider>\n      <AppNavigator />\n    </AuthProvider>\n  );\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [261], () => (__webpack_require__(64192)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","FIREBASE_APP","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","FIREBASE_AUTH","initializeAuth","persistence","getReactNativePersistence","AsyncStorage","FIREBASE_DB","getDatabase","FIREBASE_STORAGE","getStorage","AuthContext","createContext","AuthProvider","children","user","setUser","useState","userData","setUserData","isLoadingAuth","setIsLoadingAuth","useEffect","onAuthStateChanged","async","firebaseUser","fetchAndSetUserData","uid","email","removeItem","userDbRef","ref","snapshot","get","exists","dbData","val","fullUserData","assign","setItem","JSON","stringify","console","warn","minimalUserData","name","currentUser","displayName","role","isAdmin","error","_jsx","Provider","value","logout","firebaseSignOut","Alert","alert","useAuth","useContext","LoginScreen","navigation","setEmail","password","setPassword","showPassword","setShowPassword","isLoggingIn","setIsLoggingIn","_jsxs","SafeAreaView","style","styles","container","StatusBar","backgroundColor","barStyle","KeyboardAvoidingView","behavior","flex","ScrollView","contentContainerStyle","flexGrow","View","header","Text","headerTitle","content","Image","logo","source","require","resizeMode","formContainer","inputWrapper","MaterialIcons","size","color","inputIcon","TextInput","input","placeholder","placeholderTextColor","onChangeText","keyboardType","autoCapitalize","secureTextEntry","TouchableOpacity","eyeIcon","onPress","Ionicons","navigate","forgotPassword","forgotPasswordText","loginButton","buttonDisabled","trim","signInWithEmailAndPassword","message","errorMessage","activeOpacity","disabled","ActivityIndicator","loginButtonText","divider","dividerLine","dividerText","registerButton","registerButtonText","StyleSheet","create","height","justifyContent","alignItems","elevation","fontSize","fontWeight","paddingHorizontal","width","marginBottom","maxWidth","flexDirection","borderRadius","borderWidth","borderColor","paddingRight","alignSelf","paddingVertical","shadowColor","shadowOffset","shadowOpacity","shadowRadius","letterSpacing","marginVertical","USER_ROLES","label","RegisterScreen","setName","phone","setPhone","confirmPassword","setConfirmPassword","setRole","showConfirmPassword","setShowConfirmPassword","isRegistering","setIsRegistering","backButton","goBack","rightSpace","showsVerticalScrollIndicator","scrollContent","contentInner","formSectionTitle","inputField","inputLabel","pickerWrapper","Picker","selectedValue","onValueChange","itemValue","itemIndex","picker","dropdownIconColor","mode","r","Item","enabled","pickerPlaceholderItem","marginTop","actionButton","length","createUserWithEmailAndPassword","updateProfile","set","toLowerCase","createdAt","serverTimestamp","profileImageUrl","actionButtonText","loginLink","loginLinkText","loginLinkTextBold","padding","RecoverScreen","isLoading","setIsLoading","pageTitle","pageSubtitle","sendPasswordResetEmail","text","logoImage","textAlign","lineHeight","HomeScreen","userName","setUserName","events","setEvents","isLoadingEvents","setIsLoadingEvents","todayISO","Date","toISOString","split","eventsQuery","query","orderByChild","startAt","unsubscribeEvents","onValue","loadedEvents","forEach","childSnapshot","eventData","key","isRelevant","createdBy","attendees","classId","associatedClasses","push","sort","a","b","date","time","slice","formatDate","dateString","timeString","dateObj","isNaN","getTime","parts","isoDateStr","dateObjFromDDMMYYYY","toLocaleDateString","day","month","profileContainer","defaultAvatar","greetingSubText","greetingText","keyboardShouldPersistTaps","sectionContainer","sectionHeader","sectionTitle","seeAllText","loader","event","eventCard","eventId","screenTitle","title","eventIconContainer","isOnline","MaterialCommunityIcons","eventDetails","eventTitle","numberOfLines","eventDateTime","eventLocation","location","emptyStateContainer","emptyStateText","shortcutsGrid","iconName","screen","shortcut","shortcutCard","shortcutIconContainer","shortcutTitle","borderBottomWidth","borderBottomColor","marginRight","headerIconsContainer","iconButton","flexWrap","minHeight","ChangePasswordModal","isVisible","onClose","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmNewPassword","setConfirmNewPassword","showCurrentPassword","setShowCurrentPassword","showNewPassword","setShowNewPassword","resetForm","Modal","onSwipeComplete","swipeDirection","onBackdropPress","onModalHide","modal","avoidKeyboard","modalContent","modalHeader","modalTitle","infoText","passwordInputContainer","confirmButton","confirmButtonDisabled","credential","EmailAuthProvider","reauthenticateWithCredential","updatePassword","confirmButtonText","margin","paddingTop","borderTopRightRadius","borderTopLeftRadius","maxHeight","paddingBottom","ProfileScreen","contextUserData","fetchUserDataFromDB","isEditing","setIsEditing","currentPasswordForEmailChange","setCurrentPasswordForEmailChange","isChangePasswordModalVisible","setIsChangePasswordModalVisible","headerBar","headerButton","profileInfoDirect","profileName","profileEmail","formSection","inputGroup","inputDisabled","editable","saveButton","updates","authUpdates","currentAuthDisplayName","currentContextName","currentAuthEmail","currentContextPhone","prompt","updateEmail","profileUpdated","dbRef","update","saveButtonText","actionsSection","actionIcon","logoutButton","reset","index","routes","signOut","cancelable","logoutButtonText","loadingContainer","CustomPicker","options","showOptions","setShowOptions","pickerButton","disabledInput","pickerButtonText","find","opt","pickerOptionsContainer","option","pickerOption","PREDEFINED_CATEGORIES","NOTE_COLORS","NewNoteModal","onNoteSaved","existingNote","noteId","setNoteId","setTitle","setContent","category","setCategory","setColor","categoryOptions","cat","titleInput","contentInput","multiline","textAlignVertical","rowFields","pickerContainerStyle","zIndex","marginLeft","horizontal","showsHorizontalScrollIndicator","colorSelectorContainer","c","colorOption","colorOptionSelected","storedNotes","getItem","notes","parse","now","noteIndex","findIndex","note","updatedAt","newNote","toString","transform","scale","position","top","NotasScreen","activeCategory","setActiveCategory","allNotes","setAllNotes","searchTerm","setSearchTerm","isModalVisible","setModalVisible","selectedNote","setSelectedNote","isDeleting","setIsDeleting","categoriesForFilter","useMemo","loadNotes","useCallback","filteredNotes","filter","matchesCategory","searchLower","matchesSearch","includes","handleOpenNoteModal","noteStyles","searchContainer","searchIcon","searchInput","clearSearchButton","categoriasContainer","categoriaButton","categoriaButtonActive","categoriaText","categoriaTextActive","fullScreenLoader","loadingText","FlatList","data","renderItem","renderNotaCard","item","categoryDetails","categoryId","displayColor","notaCard","colorIndicator","notaInfo","notaTitle","notaContent","cardFooter","categoryChip","notaCategoryText","footerActions","notaDate","deleteButton","updatedNotes","handleDeleteNote","keyExtractor","notasList","numColumns","columnWrapperStyle","row","ListEmptyComponent","emptyStateSubText","addButton","marginHorizontal","overflow","borderTopWidth","borderTopColor","textTransform","right","bottom","selectedOptionObject","disabledText","NewTaskModal","onTaskSaved","existingTask","taskId","setTaskId","description","setDescription","dueDate","setDueDate","isDatePickerVisible","setDatePickerVisibility","priority","setPriority","status","setStatus","assignedToSearch","setAssignedToSearch","foundUsers","setFoundUsers","assignedUsers","setAssignedUsers","isSearchingUsers","setIsSearchingUsers","isLoadingForm","setIsLoadingForm","isCreator","createdByUid","formDisabled","reasonDisabled","assignedTo","resetFormFields","tomorrow","setDate","getDate","hideDatePicker","toggleUserAssignment","prev","newAssigned","avatarUrl","u","textArea","showDatePicker","datePickerButton","datePickerText","year","assignedSearchContainer","usersRef","users","uData","searchUserButton","foundUsersListContainer","nestedScrollEnabled","userToAssignItem","userToAssignText","assignedUsersChipsContainer","assignedUsersTitle","chipsWrapper","entries","assignedUserChip","assignedUserName","taskData","createdByName","DateTimePickerModal","onConfirm","selectedDate","onCancel","minimumDate","getStatusStyle","icon","TarefasScreen","viewType","setViewType","allTasks","setAllTasks","selectedTask","setSelectedTask","tasksRef","unsubscribe","loadedTasks","task","filteredTasks","handleOpenTaskModal","taskStyles","viewTypeContainer","type","viewTypeButton","viewTypeButtonActive","viewTypeText","viewTypeTextActive","renderTarefaCard","priorityStyle","getPriorityStyle","statusStyle","canModify","canDelete","isCancelled","isCompleted","tarefaCard","tarefaCardDisabled","onLongPress","taskToDelete","fbRemove","handleDeleteTask","cardHeader","statusIndicatorButton","newStatus","quickToggleStatus","tarefaTitle","tarefaTitleDisabled","priorityIndicator","tarefaDescription","dueDateContainer","tarefaDueDate","assignedAvatarsContainer","avatarSmall","uri","avatarImage","avatarInitial","charAt","toUpperCase","moreAssignees","tarefasList","labelForEmpty","textDecorationLine","TagInput","tags","onTagsChange","currentTag","setCurrentTag","handleAddTag","tagInputContainer","onSubmitEditing","returnKeyType","addTagButton","tagsDisplayContainer","tag","tagChip","tagText","tagToRemove","NewFileModal","onFileSaved","existingFile","fileId","setFileId","setTags","file","setFile","existingFileUrl","setExistingFileUrl","existingFileName","setExistingFileName","uploadProgress","setUploadProgress","isUploading","setIsUploading","permissionsSearch","setPermissionsSearch","selectedPermissions","setSelectedPermissions","fileUrl","fileName","currentPermissions","permissions","permData","toggleUserPermission","newPerms","currentActionText","disabledBg","result","DocumentPicker","copyToCacheDirectory","canceled","assets","pickedAsset","filePickerButton","filePickerText","filePickerTextSelected","removeFileButton","removeFileText","uploadProgressContainer","uploadProgressText","progressBarBackground","progressBarForeground","guestSearchContainer","searchButton","foundUsersList","userItem","userItemText","selectedPermissionsContainer","selectedPermissionsTitle","selectedPermissionChip","selectedPermissionName","selectedPermissionType","fileMetadata","processSave","fbUpdate","finalMetadata","uploadedByUid","uploadedByName","response","fetch","blob","fileStoragePath","deleteObject","storageRefFn","delError","fileExtension","pop","newStoragePath","replace","fileStoreRef","uploadTask","uploadBytesResumable","contentType","mimeType","on","Math","round","bytesTransferred","totalBytes","getDownloadURL","fileType","fileSize","handleDeleteFile","deleteButtonText","flexShrink","formatBytes","bytes","decimals","dm","i","floor","log","parseFloat","pow","toFixed","ArquivosScreen","myFiles","setMyFiles","sharedWithMeFiles","setSharedWithMeFiles","selectedFile","setSelectedFile","filesRef","loadedMyFiles","loadedSharedFiles","uploadedAt","handleOpenModal","filesToDisplay","fileStyles","renderArquivoCard","canEditOrDelete","fileIconName","startsWith","arquivoCard","Linking","canOpenURL","openURL","handleOpenFile","arquivoIconContainer","arquivoInfo","arquivoTitle","arquivoDetails","arquivoDate","tagsScrollContainer","tagsContainer","tagChipMini","tagTextMini","actionIconsContainer","actionIconTouch","arquivosList","paddingLeft","NewEventModal","onEventSaved","existingEvent","setEventId","setTime","isTimePickerVisible","setTimePickerVisibility","eventType","setEventType","setLocation","guestsSearch","setGuestsSearch","selectedGuests","setSelectedGuests","hours","minutes","newTime","setHours","parseInt","setMinutes","attendeesFormatted","guestData","ceil","getMinutes","hideTimePicker","toggleGuestSelection","newGuests","handleUpdateStatus","actionText","titleText","dateTimeContainer","dateTimeInputWrapper","dateTimeIcon","dateTimeInputText","showTimePicker","toLocaleTimeString","hour","minute","selectedGuestsContainer","selectedGuestsTitle","selectedGuestChip","selectedGuestName","creatorName","actionButtonsContainer","concludeButton","cancelButton","selectedTime","is24Hour","dateInput","timeInput","LocaleConfig","locales","monthNames","monthNamesShort","dayNames","dayNamesShort","today","defaultLocale","formatDateToYYYYMMDD","screenWidth","Dimensions","AgendaScreen","route","viewMode","setViewMode","currentDate","setCurrentDate","allEvents","setAllEvents","setHeaderTitle","selectedEvent","setSelectedEvent","selectedDateYYYYMMDD","currentWeekDays","currentDateStr","week","dayOfWeek","getDay","startDate","dayNamesToUse","dayIdx","dayOfMonth","dayNameShort","substring","getWeekDays","params","loadedEventsByDate","eventDate","localeCompare","eventsForSelectedDate","eventsForWeek","weekEvents","markedDatesForCalendar","marks","marked","dotColor","selected","selectedColor","handleOpenEventModal","changeDate","amount","unit","newDate","currentMonth","getMonth","setMonth","onCalendarDayPress","renderEventCard","cardStyle","isConcluded","isDisabled","indicatorColor","agendaStyles","eventCardDisabled","eventIndicator","eventInfo","eventTitleCancelled","viewModeSelector","modeButton","modeButtonActive","modeButtonText","modeButtonTextActive","Calendar","current","onDayPress","markedDates","onMonthChange","monthFormat","theme","calendarBackground","textSectionTitleColor","selectedDayBackgroundColor","selectedDayTextColor","todayTextColor","dayTextColor","textDisabledColor","selectedDotColor","arrowColor","monthTextColor","textDayFontWeight","textMonthFontWeight","textDayHeaderFontWeight","textDayFontSize","textMonthFontSize","textDayHeaderFontSize","calendarView","weekNavigation","weekNavButton","weekNavTitle","getFullYear","weekDaysContainer","dayDateString","dayEvents","dayInfo","d","weekDayColumn","weekDayHeader","weekDayHeaderSelected","weekDayLabelShort","weekDayLabelSelectedText","weekDayNumber","weekDayNumberSelected","weekEventCard","weekEmptySlot","weekEmptyText","renderDayColumnForWeek","dayNavigation","dayNavButton","dayNavTitle","weekday","fontStyle","opacity","AuthStack","createNativeStackNavigator","MainAppStack","AuthScreens","Navigator","screenOptions","headerShown","Screen","component","AppScreens","initialRouteName","AppNavigator","NavigationContainer","registerRootComponent","__webpack_module_cache__","moduleId","cachedModule","undefined","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","notFulfilled","Infinity","fulfilled","j","every","splice","n","getter","__esModule","definition","defineProperty","enumerable","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}